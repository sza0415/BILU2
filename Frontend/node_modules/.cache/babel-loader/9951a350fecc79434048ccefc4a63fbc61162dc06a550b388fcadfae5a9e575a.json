{"ast":null,"code":"import { ref, onMounted } from 'vue';\nimport { Modal } from 'bootstrap';\nexport default {\n  name: 'DeleteCaseModal',\n  emits: ['confirm'],\n  setup(props, {\n    emit\n  }) {\n    // 案件ID和名称\n    const caseId = ref(null);\n    const caseName = ref('');\n\n    // 模态框实例\n    let modalInstance = null;\n\n    // 初始化模态框\n    const initModal = () => {\n      const modalEl = document.getElementById('deleteCaseModal');\n      if (modalEl) {\n        // 销毁旧实例\n        if (modalInstance) {\n          modalInstance.dispose();\n        }\n        // 创建新实例\n        modalInstance = new Modal(modalEl, {\n          backdrop: 'static',\n          keyboard: false\n        });\n      }\n    };\n\n    // 显示模态框\n    const showModal = caseData => {\n      if (caseData) {\n        caseId.value = caseData.id;\n        caseName.value = caseData.caseName;\n      }\n\n      // 确保模态框实例存在\n      if (!modalInstance) {\n        initModal();\n      }\n      // 显示模态框\n      modalInstance.show();\n    };\n\n    // 隐藏模态框\n    const hideModal = () => {\n      if (modalInstance) {\n        modalInstance.hide();\n      }\n    };\n\n    // 确认删除\n    const confirmDelete = () => {\n      emit('confirm', caseId.value);\n      hideModal();\n      // 重置数据\n      caseId.value = null;\n      caseName.value = '';\n    };\n\n    // 组件挂载时初始化模态框\n    onMounted(() => {\n      initModal();\n    });\n    return {\n      caseName,\n      showModal,\n      hideModal,\n      confirmDelete\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","Modal","name","emits","setup","props","emit","caseId","caseName","modalInstance","initModal","modalEl","document","getElementById","dispose","backdrop","keyboard","showModal","caseData","value","id","show","hideModal","hide","confirmDelete"],"sources":["/Users/sunziang/BILU2/Frontend/src/components/case/modals/DeleteCaseModal.vue"],"sourcesContent":["<template>\n  <div class=\"modal fade\" id=\"deleteCaseModal\" tabindex=\"-1\" aria-labelledby=\"deleteCaseModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"deleteCaseModalLabel\">删除案件</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"alert alert-warning\">\n            <i class=\"bi bi-exclamation-triangle-fill me-2\"></i>\n            <span>确定要删除案件 <strong>{{ caseName }}</strong> 吗？此操作不可恢复。</span>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-danger\" @click=\"confirmDelete\">确认删除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { Modal } from 'bootstrap'\n\nexport default {\n  name: 'DeleteCaseModal',\n  emits: ['confirm'],\n  setup(props, { emit }) {\n    // 案件ID和名称\n    const caseId = ref(null)\n    const caseName = ref('')\n    \n    // 模态框实例\n    let modalInstance = null\n    \n    // 初始化模态框\n    const initModal = () => {\n      const modalEl = document.getElementById('deleteCaseModal')\n      if (modalEl) {\n        // 销毁旧实例\n        if (modalInstance) {\n          modalInstance.dispose()\n        }\n        // 创建新实例\n        modalInstance = new Modal(modalEl, {\n          backdrop: 'static',\n          keyboard: false\n        })\n      }\n    }\n    \n    // 显示模态框\n    const showModal = (caseData) => {\n      if (caseData) {\n        caseId.value = caseData.id\n        caseName.value = caseData.caseName\n      }\n      \n      // 确保模态框实例存在\n      if (!modalInstance) {\n        initModal()\n      }\n      // 显示模态框\n      modalInstance.show()\n    }\n    \n    // 隐藏模态框\n    const hideModal = () => {\n      if (modalInstance) {\n        modalInstance.hide()\n      }\n    }\n    \n    // 确认删除\n    const confirmDelete = () => {\n      emit('confirm', caseId.value)\n      hideModal()\n      // 重置数据\n      caseId.value = null\n      caseName.value = ''\n    }\n    \n    // 组件挂载时初始化模态框\n    onMounted(() => {\n      initModal()\n    })\n    \n    return {\n      caseName,\n      showModal,\n      hideModal,\n      confirmDelete\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal-content {\n  border: none;\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n}\n\n.modal-header {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  padding: 1.25rem 1.5rem;\n}\n\n.modal-body {\n  padding: 1.5rem;\n}\n\n.modal-footer {\n  border-top: none;\n  padding: 0 1.5rem 1.5rem;\n}\n\n.alert-warning {\n  background-color: rgba(255, 193, 7, 0.1);\n  border-color: rgba(255, 193, 7, 0.2);\n  color: #856404;\n}\n\n.btn-danger {\n  background-color: #dc3545;\n  border: none;\n  padding: 0.5rem 1.5rem;\n  font-weight: 500;\n}\n\n.btn-danger:hover {\n  background-color: #c82333;\n}\n\n.btn-secondary {\n  background-color: #f8f9fa;\n  border: 1px solid #ced4da;\n  color: #495057;\n  padding: 0.5rem 1.5rem;\n  font-weight: 500;\n}\n\n.btn-secondary:hover {\n  background-color: #e9ecef;\n  border-color: #ced4da;\n  color: #212529;\n}\n</style>"],"mappings":"AAwBA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,SAASC,KAAI,QAAS,WAAU;AAEhC,eAAe;EACbC,IAAI,EAAE,iBAAiB;EACvBC,KAAK,EAAE,CAAC,SAAS,CAAC;EAClBC,KAAKA,CAACC,KAAK,EAAE;IAAEC;EAAK,CAAC,EAAE;IACrB;IACA,MAAMC,MAAK,GAAIR,GAAG,CAAC,IAAI;IACvB,MAAMS,QAAO,GAAIT,GAAG,CAAC,EAAE;;IAEvB;IACA,IAAIU,aAAY,GAAI,IAAG;;IAEvB;IACA,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtB,MAAMC,OAAM,GAAIC,QAAQ,CAACC,cAAc,CAAC,iBAAiB;MACzD,IAAIF,OAAO,EAAE;QACX;QACA,IAAIF,aAAa,EAAE;UACjBA,aAAa,CAACK,OAAO,CAAC;QACxB;QACA;QACAL,aAAY,GAAI,IAAIR,KAAK,CAACU,OAAO,EAAE;UACjCI,QAAQ,EAAE,QAAQ;UAClBC,QAAQ,EAAE;QACZ,CAAC;MACH;IACF;;IAEA;IACA,MAAMC,SAAQ,GAAKC,QAAQ,IAAK;MAC9B,IAAIA,QAAQ,EAAE;QACZX,MAAM,CAACY,KAAI,GAAID,QAAQ,CAACE,EAAC;QACzBZ,QAAQ,CAACW,KAAI,GAAID,QAAQ,CAACV,QAAO;MACnC;;MAEA;MACA,IAAI,CAACC,aAAa,EAAE;QAClBC,SAAS,CAAC;MACZ;MACA;MACAD,aAAa,CAACY,IAAI,CAAC;IACrB;;IAEA;IACA,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtB,IAAIb,aAAa,EAAE;QACjBA,aAAa,CAACc,IAAI,CAAC;MACrB;IACF;;IAEA;IACA,MAAMC,aAAY,GAAIA,CAAA,KAAM;MAC1BlB,IAAI,CAAC,SAAS,EAAEC,MAAM,CAACY,KAAK;MAC5BG,SAAS,CAAC;MACV;MACAf,MAAM,CAACY,KAAI,GAAI,IAAG;MAClBX,QAAQ,CAACW,KAAI,GAAI,EAAC;IACpB;;IAEA;IACAnB,SAAS,CAAC,MAAM;MACdU,SAAS,CAAC;IACZ,CAAC;IAED,OAAO;MACLF,QAAQ;MACRS,SAAS;MACTK,SAAS;MACTE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}