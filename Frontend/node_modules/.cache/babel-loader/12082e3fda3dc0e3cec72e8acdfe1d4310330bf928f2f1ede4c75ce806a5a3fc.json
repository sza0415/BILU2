{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nexport default {\n  name: 'SearchPage',\n  data() {\n    return {\n      showAdvancedSearch: false,\n      hasSearched: false,\n      resultViewMode: 'list',\n      currentPage: 1,\n      pageSize: 10,\n      searchTime: 0,\n      searchForm: {\n        keyword: '',\n        searchType: 'all',\n        sortBy: 'relevance',\n        caseType: '',\n        recorder: '',\n        dateFrom: '',\n        dateTo: '',\n        status: '',\n        location: '',\n        minWords: '',\n        maxWords: ''\n      },\n      searchResults: [],\n      searchHistory: [{\n        keyword: '张某盗窃',\n        timestamp: '2024-01-17 10:30',\n        resultCount: 3\n      }, {\n        keyword: '交通肇事',\n        timestamp: '2024-01-16 15:20',\n        resultCount: 5\n      }, {\n        keyword: '诈骗案',\n        timestamp: '2024-01-15 09:15',\n        resultCount: 2\n      }],\n      quickSearches: [{\n        label: '今日笔录',\n        icon: 'bi bi-calendar-day',\n        query: {\n          dateFrom: new Date().toISOString().split('T')[0]\n        }\n      }, {\n        label: '草稿状态',\n        icon: 'bi bi-file-earmark-text',\n        query: {\n          status: 'draft'\n        }\n      }, {\n        label: '刑事案件',\n        icon: 'bi bi-shield-exclamation',\n        query: {\n          caseType: 'criminal'\n        }\n      }, {\n        label: '已审核',\n        icon: 'bi bi-check-circle',\n        query: {\n          status: 'verified'\n        }\n      }, {\n        label: '本周记录',\n        icon: 'bi bi-calendar-week',\n        query: {\n          dateFrom: this.getWeekStart()\n        }\n      }, {\n        label: '长笔录',\n        icon: 'bi bi-file-text',\n        query: {\n          minWords: 1000\n        }\n      }],\n      // 模拟搜索结果数据\n      mockResults: [{\n        id: 1,\n        caseNumber: 'CASE-2024-001',\n        title: '张某涉嫌盗窃案询问笔录',\n        snippet: '犯罪嫌疑人张某，男，25岁，无业。于2024年1月10日在某商场实施盗窃行为，被现场抓获。经询问，张某对其盗窃行为供认不讳...',\n        recorder: '李警官',\n        createdAt: '2024-01-15 14:30:00',\n        status: 'completed',\n        relevance: 95,\n        wordCount: 1250\n      }, {\n        id: 2,\n        caseNumber: 'CASE-2024-002',\n        title: '王某交通肇事案询问笔录',\n        snippet: '当事人王某，男，35岁，司机。于2024年1月12日驾驶车辆在某路段发生交通事故，造成一人轻伤。经询问了解事故经过...',\n        recorder: '张警官',\n        createdAt: '2024-01-16 09:15:00',\n        status: 'verified',\n        relevance: 88,\n        wordCount: 980\n      }, {\n        id: 3,\n        caseNumber: 'CASE-2024-003',\n        title: '刘某诈骗案询问笔录',\n        snippet: '犯罪嫌疑人刘某，女，28岁，无固定职业。涉嫌通过网络平台实施诈骗，涉案金额约5万元。经询问，刘某承认部分犯罪事实...',\n        recorder: '王警官',\n        createdAt: '2024-01-17 16:45:00',\n        status: 'draft',\n        relevance: 92,\n        wordCount: 1580\n      }]\n    };\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.searchResults.length / this.pageSize);\n    },\n    paginatedResults() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.searchResults.slice(start, end);\n    },\n    visiblePages() {\n      const pages = [];\n      const total = this.totalPages;\n      const current = this.currentPage;\n      if (total <= 7) {\n        for (let i = 1; i <= total; i++) {\n          pages.push(i);\n        }\n      } else {\n        if (current <= 4) {\n          for (let i = 1; i <= 5; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        } else if (current >= total - 3) {\n          pages.push(1);\n          pages.push('...');\n          for (let i = total - 4; i <= total; i++) {\n            pages.push(i);\n          }\n        } else {\n          pages.push(1);\n          pages.push('...');\n          for (let i = current - 1; i <= current + 1; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        }\n      }\n      return pages;\n    }\n  },\n  methods: {\n    performSearch() {\n      if (!this.searchForm.keyword.trim() && !this.hasAdvancedFilters()) {\n        alert('请输入搜索关键词或设置搜索条件');\n        return;\n      }\n      const startTime = Date.now();\n\n      // 模拟搜索过程\n      setTimeout(() => {\n        this.searchTime = Date.now() - startTime;\n        this.searchResults = this.mockResults.filter(result => {\n          return this.matchesSearchCriteria(result);\n        });\n\n        // 排序结果\n        this.sortResults();\n        this.hasSearched = true;\n        this.currentPage = 1;\n\n        // 添加到搜索历史\n        if (this.searchForm.keyword.trim()) {\n          this.addToSearchHistory();\n        }\n      }, 200);\n    },\n    matchesSearchCriteria(result) {\n      const keyword = this.searchForm.keyword.toLowerCase();\n\n      // 关键词匹配\n      if (keyword) {\n        const searchIn = this.searchForm.searchType === 'all' ? `${result.title} ${result.snippet} ${result.caseNumber}`.toLowerCase() : this.getSearchField(result, this.searchForm.searchType).toLowerCase();\n        if (!searchIn.includes(keyword)) {\n          return false;\n        }\n      }\n\n      // 其他筛选条件\n      if (this.searchForm.status && result.status !== this.searchForm.status) {\n        return false;\n      }\n      if (this.searchForm.recorder && !result.recorder.includes(this.searchForm.recorder)) {\n        return false;\n      }\n      if (this.searchForm.dateFrom && result.createdAt < this.searchForm.dateFrom) {\n        return false;\n      }\n      if (this.searchForm.dateTo && result.createdAt > this.searchForm.dateTo) {\n        return false;\n      }\n      if (this.searchForm.minWords && result.wordCount < parseInt(this.searchForm.minWords)) {\n        return false;\n      }\n      if (this.searchForm.maxWords && result.wordCount > parseInt(this.searchForm.maxWords)) {\n        return false;\n      }\n      return true;\n    },\n    getSearchField(result, searchType) {\n      switch (searchType) {\n        case 'title':\n          return result.title;\n        case 'content':\n          return result.snippet;\n        case 'case':\n          return result.caseNumber;\n        case 'person':\n          return result.recorder;\n        default:\n          return `${result.title} ${result.snippet} ${result.caseNumber}`;\n      }\n    },\n    sortResults() {\n      switch (this.searchForm.sortBy) {\n        case 'relevance':\n          this.searchResults.sort((a, b) => b.relevance - a.relevance);\n          break;\n        case 'date_desc':\n          this.searchResults.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n          break;\n        case 'date_asc':\n          this.searchResults.sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n          break;\n        case 'case_number':\n          this.searchResults.sort((a, b) => a.caseNumber.localeCompare(b.caseNumber));\n          break;\n      }\n    },\n    hasAdvancedFilters() {\n      return this.searchForm.caseType || this.searchForm.recorder || this.searchForm.dateFrom || this.searchForm.dateTo || this.searchForm.status || this.searchForm.location || this.searchForm.minWords || this.searchForm.maxWords;\n    },\n    addToSearchHistory() {\n      const historyItem = {\n        keyword: this.searchForm.keyword,\n        timestamp: new Date().toLocaleString('zh-CN'),\n        resultCount: this.searchResults.length\n      };\n\n      // 移除重复项\n      this.searchHistory = this.searchHistory.filter(h => h.keyword !== historyItem.keyword);\n      // 添加到开头\n      this.searchHistory.unshift(historyItem);\n      // 保持最多10条历史记录\n      this.searchHistory = this.searchHistory.slice(0, 10);\n    },\n    loadSearchHistory(history) {\n      this.searchForm.keyword = history.keyword;\n      this.performSearch();\n    },\n    performQuickSearch(shortcut) {\n      // 重置搜索表单\n      this.resetSearchForm();\n      // 应用快捷搜索条件\n      Object.assign(this.searchForm, shortcut.query);\n      this.performSearch();\n    },\n    resetSearchForm() {\n      this.searchForm = {\n        keyword: '',\n        searchType: 'all',\n        sortBy: 'relevance',\n        caseType: '',\n        recorder: '',\n        dateFrom: '',\n        dateTo: '',\n        status: '',\n        location: '',\n        minWords: '',\n        maxWords: ''\n      };\n    },\n    saveSearchTemplate() {\n      // 这里可以实现保存搜索模板的功能\n      console.log('保存搜索模板:', this.searchForm);\n      alert('搜索模板已保存');\n    },\n    exportResults() {\n      // 这里可以实现导出搜索结果的功能\n      console.log('导出搜索结果:', this.searchResults);\n      alert('搜索结果导出功能开发中');\n    },\n    highlightKeywords(text) {\n      if (!this.searchForm.keyword.trim()) {\n        return text;\n      }\n      const keyword = this.searchForm.keyword.trim();\n      const regex = new RegExp(`(${keyword})`, 'gi');\n      return text.replace(regex, '<mark class=\"bg-warning\">$1</mark>');\n    },\n    viewRecord(record) {\n      console.log('查看笔录:', record);\n      // 跳转到详情页面\n      this.$router.push(`/record/${record.id}`);\n    },\n    editRecord(record) {\n      console.log('编辑笔录:', record);\n      // 这里可以跳转到编辑页面\n    },\n    getStatusClass(status) {\n      const classes = {\n        draft: 'bg-warning',\n        completed: 'bg-success',\n        verified: 'bg-primary'\n      };\n      return classes[status] || 'bg-secondary';\n    },\n    getStatusText(status) {\n      const texts = {\n        draft: '草稿',\n        completed: '已完成',\n        verified: '已审核'\n      };\n      return texts[status] || '未知';\n    },\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleString('zh-CN');\n    },\n    getWeekStart() {\n      const now = new Date();\n      const dayOfWeek = now.getDay();\n      const diff = now.getDate() - dayOfWeek + (dayOfWeek === 0 ? -6 : 1);\n      return new Date(now.setDate(diff)).toISOString().split('T')[0];\n    }\n  },\n  mounted() {\n    console.log('搜索页面已加载');\n  }\n};","map":{"version":3,"names":["name","data","showAdvancedSearch","hasSearched","resultViewMode","currentPage","pageSize","searchTime","searchForm","keyword","searchType","sortBy","caseType","recorder","dateFrom","dateTo","status","location","minWords","maxWords","searchResults","searchHistory","timestamp","resultCount","quickSearches","label","icon","query","Date","toISOString","split","getWeekStart","mockResults","id","caseNumber","title","snippet","createdAt","relevance","wordCount","computed","totalPages","Math","ceil","length","paginatedResults","start","end","slice","visiblePages","pages","total","current","i","push","methods","performSearch","trim","hasAdvancedFilters","alert","startTime","now","setTimeout","filter","result","matchesSearchCriteria","sortResults","addToSearchHistory","toLowerCase","searchIn","getSearchField","includes","parseInt","sort","a","b","localeCompare","historyItem","toLocaleString","h","unshift","loadSearchHistory","history","performQuickSearch","shortcut","resetSearchForm","Object","assign","saveSearchTemplate","console","log","exportResults","highlightKeywords","text","regex","RegExp","replace","viewRecord","record","$router","editRecord","getStatusClass","classes","draft","completed","verified","getStatusText","texts","formatDate","dateStr","dayOfWeek","getDay","diff","getDate","setDate","mounted"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/views/RecordSearch.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid mt-4\">\n    <!-- 页面标题区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n          <div>\n            <h2 class=\"display-6 fw-bold text-primary mb-0\">\n              <i class=\"bi bi-search me-2\"></i>笔录搜索\n            </h2>\n            <p class=\"text-muted mb-0\">快速查找和检索笔录记录</p>\n          </div>\n          <div class=\"btn-group\">\n            <button class=\"btn btn-outline-primary\" @click=\"showAdvancedSearch = !showAdvancedSearch\">\n              <i class=\"bi bi-funnel me-2\"></i>高级搜索\n            </button>\n            <button class=\"btn btn-success\" @click=\"exportResults\" :disabled=\"searchResults.length === 0\">\n              <i class=\"bi bi-download me-2\"></i>导出结果\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 搜索区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12\">\n        <div class=\"card border-0 shadow-sm\">\n          <div class=\"card-body\">\n            <!-- 基础搜索 -->\n            <div class=\"row g-3 mb-3\">\n              <div class=\"col-md-8\">\n                <label class=\"form-label fw-bold\">搜索关键词</label>\n                <div class=\"input-group input-group-lg\">\n                  <span class=\"input-group-text\">\n                    <i class=\"bi bi-search\"></i>\n                  </span>\n                  <input \n                    type=\"text\" \n                    class=\"form-control\" \n                    placeholder=\"输入关键词搜索笔录内容、案件编号、当事人姓名等\"\n                    v-model=\"searchForm.keyword\"\n                    @keyup.enter=\"performSearch\"\n                  />\n                  <button class=\"btn btn-primary\" @click=\"performSearch\">\n                    <i class=\"bi bi-search me-2\"></i>搜索\n                  </button>\n                </div>\n              </div>\n              <div class=\"col-md-2\">\n                <label class=\"form-label fw-bold\">搜索类型</label>\n                <select class=\"form-select form-select-lg\" v-model=\"searchForm.searchType\">\n                  <option value=\"all\">全部内容</option>\n                  <option value=\"title\">标题</option>\n                  <option value=\"content\">内容</option>\n                  <option value=\"case\">案件编号</option>\n                  <option value=\"person\">当事人</option>\n                </select>\n              </div>\n              <div class=\"col-md-2\">\n                <label class=\"form-label fw-bold\">排序方式</label>\n                <select class=\"form-select form-select-lg\" v-model=\"searchForm.sortBy\">\n                  <option value=\"relevance\">相关性</option>\n                  <option value=\"date_desc\">时间降序</option>\n                  <option value=\"date_asc\">时间升序</option>\n                  <option value=\"case_number\">案件编号</option>\n                </select>\n              </div>\n            </div>\n\n            <!-- 高级搜索 -->\n            <div v-show=\"showAdvancedSearch\" class=\"advanced-search-panel\">\n              <hr class=\"my-4\">\n              <h6 class=\"fw-bold mb-3\">\n                <i class=\"bi bi-funnel-fill me-2 text-primary\"></i>高级搜索选项\n              </h6>\n              <div class=\"row g-3\">\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">案件类型</label>\n                  <select class=\"form-select\" v-model=\"searchForm.caseType\">\n                    <option value=\"\">全部类型</option>\n                    <option value=\"criminal\">刑事案件</option>\n                    <option value=\"civil\">民事案件</option>\n                    <option value=\"administrative\">行政案件</option>\n                    <option value=\"traffic\">交通案件</option>\n                  </select>\n                </div>\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">记录人</label>\n                  <input type=\"text\" class=\"form-control\" v-model=\"searchForm.recorder\" placeholder=\"记录人姓名\">\n                </div>\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">开始日期</label>\n                  <input type=\"date\" class=\"form-control\" v-model=\"searchForm.dateFrom\">\n                </div>\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">结束日期</label>\n                  <input type=\"date\" class=\"form-control\" v-model=\"searchForm.dateTo\">\n                </div>\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">状态</label>\n                  <select class=\"form-select\" v-model=\"searchForm.status\">\n                    <option value=\"\">全部状态</option>\n                    <option value=\"draft\">草稿</option>\n                    <option value=\"completed\">已完成</option>\n                    <option value=\"verified\">已审核</option>\n                  </select>\n                </div>\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">地点</label>\n                  <input type=\"text\" class=\"form-control\" v-model=\"searchForm.location\" placeholder=\"案发地点\">\n                </div>\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">最小字数</label>\n                  <input type=\"number\" class=\"form-control\" v-model=\"searchForm.minWords\" placeholder=\"最小字数\">\n                </div>\n                <div class=\"col-md-3\">\n                  <label class=\"form-label\">最大字数</label>\n                  <input type=\"number\" class=\"form-control\" v-model=\"searchForm.maxWords\" placeholder=\"最大字数\">\n                </div>\n              </div>\n              <div class=\"row mt-3\">\n                <div class=\"col-12\">\n                  <div class=\"d-flex gap-2\">\n                    <button class=\"btn btn-primary\" @click=\"performSearch\">\n                      <i class=\"bi bi-search me-2\"></i>执行高级搜索\n                    </button>\n                    <button class=\"btn btn-outline-secondary\" @click=\"resetSearchForm\">\n                      <i class=\"bi bi-arrow-clockwise me-2\"></i>重置\n                    </button>\n                    <button class=\"btn btn-outline-info\" @click=\"saveSearchTemplate\">\n                      <i class=\"bi bi-bookmark me-2\"></i>保存搜索模板\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 搜索历史和快捷搜索 -->\n    <div class=\"row mb-4\" v-if=\"!hasSearched\">\n      <div class=\"col-md-6\">\n        <div class=\"card border-0 shadow-sm h-100\">\n          <div class=\"card-header bg-white border-0\">\n            <h6 class=\"fw-bold mb-0\">\n              <i class=\"bi bi-clock-history me-2 text-primary\"></i>搜索历史\n            </h6>\n          </div>\n          <div class=\"card-body\">\n            <div v-if=\"searchHistory.length === 0\" class=\"text-center text-muted py-3\">\n              <i class=\"bi bi-clock fa-2x mb-2 opacity-50\"></i>\n              <p class=\"mb-0\">暂无搜索历史</p>\n            </div>\n            <div v-else>\n              <div \n                v-for=\"(history, index) in searchHistory.slice(0, 5)\" \n                :key=\"index\"\n                class=\"search-history-item d-flex justify-content-between align-items-center py-2 px-3 mb-2 rounded\"\n                @click=\"loadSearchHistory(history)\"\n              >\n                <div>\n                  <div class=\"fw-medium\">{{ history.keyword }}</div>\n                  <small class=\"text-muted\">{{ history.timestamp }}</small>\n                </div>\n                <div class=\"text-muted\">\n                  <small>{{ history.resultCount }} 条结果</small>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6\">\n        <div class=\"card border-0 shadow-sm h-100\">\n          <div class=\"card-header bg-white border-0\">\n            <h6 class=\"fw-bold mb-0\">\n              <i class=\"bi bi-lightning me-2 text-primary\"></i>快捷搜索\n            </h6>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"row g-2\">\n              <div class=\"col-6\" v-for=\"shortcut in quickSearches\" :key=\"shortcut.label\">\n                <button \n                  class=\"btn btn-outline-primary w-100 text-start\"\n                  @click=\"performQuickSearch(shortcut)\"\n                >\n                  <i :class=\"shortcut.icon + ' me-2'\"></i>\n                  {{ shortcut.label }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 搜索结果 -->\n    <div v-if=\"hasSearched\" class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"card border-0 shadow-sm\">\n          <div class=\"card-header bg-white border-0\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <div>\n                <h6 class=\"fw-bold mb-0\">\n                  <i class=\"bi bi-list-ul me-2 text-primary\"></i>搜索结果\n                  <span class=\"badge bg-primary ms-2\">{{ searchResults.length }}</span>\n                </h6>\n                <small class=\"text-muted\">搜索用时: {{ searchTime }}ms</small>\n              </div>\n              <div class=\"btn-group btn-group-sm\">\n                <button \n                  class=\"btn\" \n                  :class=\"resultViewMode === 'list' ? 'btn-primary' : 'btn-outline-primary'\"\n                  @click=\"resultViewMode = 'list'\"\n                >\n                  <i class=\"bi bi-list\"></i>\n                </button>\n                <button \n                  class=\"btn\" \n                  :class=\"resultViewMode === 'card' ? 'btn-primary' : 'btn-outline-primary'\"\n                  @click=\"resultViewMode = 'card'\"\n                >\n                  <i class=\"bi bi-grid-3x3-gap\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"card-body p-0\">\n            <!-- 列表视图 -->\n            <div v-if=\"resultViewMode === 'list'\">\n              <div v-if=\"searchResults.length === 0\" class=\"text-center py-5\">\n                <div class=\"empty-state\">\n                  <i class=\"bi bi-search fa-3x mb-3 text-secondary opacity-50\"></i>\n                  <h5 class=\"text-secondary\">未找到相关记录</h5>\n                  <p class=\"text-muted\">请尝试调整搜索条件或使用不同的关键词</p>\n                </div>\n              </div>\n              <div v-else>\n                <div \n                  v-for=\"result in paginatedResults\" \n                  :key=\"result.id\"\n                  class=\"search-result-item border-bottom p-4\"\n                  @click=\"viewRecord(result)\"\n                >\n                  <div class=\"d-flex justify-content-between align-items-start\">\n                    <div class=\"flex-grow-1\">\n                      <div class=\"d-flex align-items-center mb-2\">\n                        <h6 class=\"fw-bold mb-0 me-3\">{{ result.title }}</h6>\n                        <span class=\"badge\" :class=\"getStatusClass(result.status)\">{{ getStatusText(result.status) }}</span>\n                      </div>\n                      <div class=\"text-muted mb-2\">\n                        <span class=\"me-3\">\n                          <i class=\"bi bi-file-text me-1\"></i>{{ result.caseNumber }}\n                        </span>\n                        <span class=\"me-3\">\n                          <i class=\"bi bi-person me-1\"></i>{{ result.recorder }}\n                        </span>\n                        <span>\n                          <i class=\"bi bi-calendar me-1\"></i>{{ formatDate(result.createdAt) }}\n                        </span>\n                      </div>\n                      <div class=\"search-snippet\" v-html=\"highlightKeywords(result.snippet)\"></div>\n                      <div class=\"mt-2\">\n                        <small class=\"text-muted\">\n                          相关度: {{ result.relevance }}% | 字数: {{ result.wordCount }}\n                        </small>\n                      </div>\n                    </div>\n                    <div class=\"ms-3\">\n                      <div class=\"btn-group-vertical btn-group-sm\">\n                        <button class=\"btn btn-outline-primary\" @click.stop=\"viewRecord(result)\">\n                          <i class=\"bi bi-eye\"></i>\n                        </button>\n                        <button class=\"btn btn-outline-success\" @click.stop=\"editRecord(result)\">\n                          <i class=\"bi bi-pencil\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- 卡片视图 -->\n            <div v-else class=\"row g-3 p-3\">\n              <div v-if=\"searchResults.length === 0\" class=\"col-12\">\n                <div class=\"text-center py-5\">\n                  <div class=\"empty-state\">\n                    <i class=\"bi bi-search fa-3x mb-3 text-secondary opacity-50\"></i>\n                    <h5 class=\"text-secondary\">未找到相关记录</h5>\n                    <p class=\"text-muted\">请尝试调整搜索条件或使用不同的关键词</p>\n                  </div>\n                </div>\n              </div>\n              <div v-else v-for=\"result in paginatedResults\" :key=\"result.id\" class=\"col-md-6 col-lg-4\">\n                <div class=\"card h-100 search-result-card\" @click=\"viewRecord(result)\">\n                  <div class=\"card-header d-flex justify-content-between align-items-center\">\n                    <small class=\"text-muted\">{{ result.caseNumber }}</small>\n                    <span class=\"badge\" :class=\"getStatusClass(result.status)\">{{ getStatusText(result.status) }}</span>\n                  </div>\n                  <div class=\"card-body\">\n                    <h6 class=\"card-title\">{{ result.title }}</h6>\n                    <div class=\"search-snippet small\" v-html=\"highlightKeywords(result.snippet)\"></div>\n                    <div class=\"mt-2\">\n                      <small class=\"text-muted d-block\">\n                        <i class=\"bi bi-person me-1\"></i>{{ result.recorder }}\n                      </small>\n                      <small class=\"text-muted d-block\">\n                        <i class=\"bi bi-calendar me-1\"></i>{{ formatDate(result.createdAt) }}\n                      </small>\n                      <small class=\"text-muted d-block\">\n                        相关度: {{ result.relevance }}%\n                      </small>\n                    </div>\n                  </div>\n                  <div class=\"card-footer bg-transparent\">\n                    <div class=\"btn-group w-100\">\n                      <button class=\"btn btn-outline-primary btn-sm\" @click.stop=\"viewRecord(result)\">\n                        <i class=\"bi bi-eye me-1\"></i>查看\n                      </button>\n                      <button class=\"btn btn-outline-success btn-sm\" @click.stop=\"editRecord(result)\">\n                        <i class=\"bi bi-pencil me-1\"></i>编辑\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 分页 -->\n          <div v-if=\"searchResults.length > 0\" class=\"card-footer bg-white\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <div class=\"text-muted\">\n                显示 {{ (currentPage - 1) * pageSize + 1 }} - {{ Math.min(currentPage * pageSize, searchResults.length) }} 条，共 {{ searchResults.length }} 条结果\n              </div>\n              <nav>\n                <ul class=\"pagination pagination-sm mb-0\">\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                    <button class=\"page-link\" @click=\"currentPage = 1\" :disabled=\"currentPage === 1\">\n                      <i class=\"bi bi-chevron-double-left\"></i>\n                    </button>\n                  </li>\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                    <button class=\"page-link\" @click=\"currentPage--\" :disabled=\"currentPage === 1\">\n                      <i class=\"bi bi-chevron-left\"></i>\n                    </button>\n                  </li>\n                  <li \n                    v-for=\"page in visiblePages\" \n                    :key=\"page\" \n                    class=\"page-item\" \n                    :class=\"{ active: page === currentPage }\"\n                  >\n                    <button class=\"page-link\" @click=\"currentPage = page\">{{ page }}</button>\n                  </li>\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                    <button class=\"page-link\" @click=\"currentPage++\" :disabled=\"currentPage === totalPages\">\n                      <i class=\"bi bi-chevron-right\"></i>\n                    </button>\n                  </li>\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                    <button class=\"page-link\" @click=\"currentPage = totalPages\" :disabled=\"currentPage === totalPages\">\n                      <i class=\"bi bi-chevron-double-right\"></i>\n                    </button>\n                  </li>\n                </ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SearchPage',\n  data() {\n    return {\n      showAdvancedSearch: false,\n      hasSearched: false,\n      resultViewMode: 'list',\n      currentPage: 1,\n      pageSize: 10,\n      searchTime: 0,\n      searchForm: {\n        keyword: '',\n        searchType: 'all',\n        sortBy: 'relevance',\n        caseType: '',\n        recorder: '',\n        dateFrom: '',\n        dateTo: '',\n        status: '',\n        location: '',\n        minWords: '',\n        maxWords: ''\n      },\n      searchResults: [],\n      searchHistory: [\n        {\n          keyword: '张某盗窃',\n          timestamp: '2024-01-17 10:30',\n          resultCount: 3\n        },\n        {\n          keyword: '交通肇事',\n          timestamp: '2024-01-16 15:20',\n          resultCount: 5\n        },\n        {\n          keyword: '诈骗案',\n          timestamp: '2024-01-15 09:15',\n          resultCount: 2\n        }\n      ],\n      quickSearches: [\n        { label: '今日笔录', icon: 'bi bi-calendar-day', query: { dateFrom: new Date().toISOString().split('T')[0] } },\n        { label: '草稿状态', icon: 'bi bi-file-earmark-text', query: { status: 'draft' } },\n        { label: '刑事案件', icon: 'bi bi-shield-exclamation', query: { caseType: 'criminal' } },\n        { label: '已审核', icon: 'bi bi-check-circle', query: { status: 'verified' } },\n        { label: '本周记录', icon: 'bi bi-calendar-week', query: { dateFrom: this.getWeekStart() } },\n        { label: '长笔录', icon: 'bi bi-file-text', query: { minWords: 1000 } }\n      ],\n      // 模拟搜索结果数据\n      mockResults: [\n        {\n          id: 1,\n          caseNumber: 'CASE-2024-001',\n          title: '张某涉嫌盗窃案询问笔录',\n          snippet: '犯罪嫌疑人张某，男，25岁，无业。于2024年1月10日在某商场实施盗窃行为，被现场抓获。经询问，张某对其盗窃行为供认不讳...',\n          recorder: '李警官',\n          createdAt: '2024-01-15 14:30:00',\n          status: 'completed',\n          relevance: 95,\n          wordCount: 1250\n        },\n        {\n          id: 2,\n          caseNumber: 'CASE-2024-002',\n          title: '王某交通肇事案询问笔录',\n          snippet: '当事人王某，男，35岁，司机。于2024年1月12日驾驶车辆在某路段发生交通事故，造成一人轻伤。经询问了解事故经过...',\n          recorder: '张警官',\n          createdAt: '2024-01-16 09:15:00',\n          status: 'verified',\n          relevance: 88,\n          wordCount: 980\n        },\n        {\n          id: 3,\n          caseNumber: 'CASE-2024-003',\n          title: '刘某诈骗案询问笔录',\n          snippet: '犯罪嫌疑人刘某，女，28岁，无固定职业。涉嫌通过网络平台实施诈骗，涉案金额约5万元。经询问，刘某承认部分犯罪事实...',\n          recorder: '王警官',\n          createdAt: '2024-01-17 16:45:00',\n          status: 'draft',\n          relevance: 92,\n          wordCount: 1580\n        }\n      ]\n    }\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.searchResults.length / this.pageSize);\n    },\n    paginatedResults() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.searchResults.slice(start, end);\n    },\n    visiblePages() {\n      const pages = [];\n      const total = this.totalPages;\n      const current = this.currentPage;\n      \n      if (total <= 7) {\n        for (let i = 1; i <= total; i++) {\n          pages.push(i);\n        }\n      } else {\n        if (current <= 4) {\n          for (let i = 1; i <= 5; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        } else if (current >= total - 3) {\n          pages.push(1);\n          pages.push('...');\n          for (let i = total - 4; i <= total; i++) {\n            pages.push(i);\n          }\n        } else {\n          pages.push(1);\n          pages.push('...');\n          for (let i = current - 1; i <= current + 1; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        }\n      }\n      \n      return pages;\n    }\n  },\n  methods: {\n    performSearch() {\n      if (!this.searchForm.keyword.trim() && !this.hasAdvancedFilters()) {\n        alert('请输入搜索关键词或设置搜索条件');\n        return;\n      }\n      \n      const startTime = Date.now();\n      \n      // 模拟搜索过程\n      setTimeout(() => {\n        this.searchTime = Date.now() - startTime;\n        this.searchResults = this.mockResults.filter(result => {\n          return this.matchesSearchCriteria(result);\n        });\n        \n        // 排序结果\n        this.sortResults();\n        \n        this.hasSearched = true;\n        this.currentPage = 1;\n        \n        // 添加到搜索历史\n        if (this.searchForm.keyword.trim()) {\n          this.addToSearchHistory();\n        }\n      }, 200);\n    },\n    \n    matchesSearchCriteria(result) {\n      const keyword = this.searchForm.keyword.toLowerCase();\n      \n      // 关键词匹配\n      if (keyword) {\n        const searchIn = this.searchForm.searchType === 'all' ? \n          `${result.title} ${result.snippet} ${result.caseNumber}`.toLowerCase() :\n          this.getSearchField(result, this.searchForm.searchType).toLowerCase();\n        \n        if (!searchIn.includes(keyword)) {\n          return false;\n        }\n      }\n      \n      // 其他筛选条件\n      if (this.searchForm.status && result.status !== this.searchForm.status) {\n        return false;\n      }\n      \n      if (this.searchForm.recorder && !result.recorder.includes(this.searchForm.recorder)) {\n        return false;\n      }\n      \n      if (this.searchForm.dateFrom && result.createdAt < this.searchForm.dateFrom) {\n        return false;\n      }\n      \n      if (this.searchForm.dateTo && result.createdAt > this.searchForm.dateTo) {\n        return false;\n      }\n      \n      if (this.searchForm.minWords && result.wordCount < parseInt(this.searchForm.minWords)) {\n        return false;\n      }\n      \n      if (this.searchForm.maxWords && result.wordCount > parseInt(this.searchForm.maxWords)) {\n        return false;\n      }\n      \n      return true;\n    },\n    \n    getSearchField(result, searchType) {\n      switch (searchType) {\n        case 'title': return result.title;\n        case 'content': return result.snippet;\n        case 'case': return result.caseNumber;\n        case 'person': return result.recorder;\n        default: return `${result.title} ${result.snippet} ${result.caseNumber}`;\n      }\n    },\n    \n    sortResults() {\n      switch (this.searchForm.sortBy) {\n        case 'relevance':\n          this.searchResults.sort((a, b) => b.relevance - a.relevance);\n          break;\n        case 'date_desc':\n          this.searchResults.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n          break;\n        case 'date_asc':\n          this.searchResults.sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));\n          break;\n        case 'case_number':\n          this.searchResults.sort((a, b) => a.caseNumber.localeCompare(b.caseNumber));\n          break;\n      }\n    },\n    \n    hasAdvancedFilters() {\n      return this.searchForm.caseType || this.searchForm.recorder || \n             this.searchForm.dateFrom || this.searchForm.dateTo || \n             this.searchForm.status || this.searchForm.location ||\n             this.searchForm.minWords || this.searchForm.maxWords;\n    },\n    \n    addToSearchHistory() {\n      const historyItem = {\n        keyword: this.searchForm.keyword,\n        timestamp: new Date().toLocaleString('zh-CN'),\n        resultCount: this.searchResults.length\n      };\n      \n      // 移除重复项\n      this.searchHistory = this.searchHistory.filter(h => h.keyword !== historyItem.keyword);\n      // 添加到开头\n      this.searchHistory.unshift(historyItem);\n      // 保持最多10条历史记录\n      this.searchHistory = this.searchHistory.slice(0, 10);\n    },\n    \n    loadSearchHistory(history) {\n      this.searchForm.keyword = history.keyword;\n      this.performSearch();\n    },\n    \n    performQuickSearch(shortcut) {\n      // 重置搜索表单\n      this.resetSearchForm();\n      // 应用快捷搜索条件\n      Object.assign(this.searchForm, shortcut.query);\n      this.performSearch();\n    },\n    \n    resetSearchForm() {\n      this.searchForm = {\n        keyword: '',\n        searchType: 'all',\n        sortBy: 'relevance',\n        caseType: '',\n        recorder: '',\n        dateFrom: '',\n        dateTo: '',\n        status: '',\n        location: '',\n        minWords: '',\n        maxWords: ''\n      };\n    },\n    \n    saveSearchTemplate() {\n      // 这里可以实现保存搜索模板的功能\n      console.log('保存搜索模板:', this.searchForm);\n      alert('搜索模板已保存');\n    },\n    \n    exportResults() {\n      // 这里可以实现导出搜索结果的功能\n      console.log('导出搜索结果:', this.searchResults);\n      alert('搜索结果导出功能开发中');\n    },\n    \n    highlightKeywords(text) {\n      if (!this.searchForm.keyword.trim()) {\n        return text;\n      }\n      \n      const keyword = this.searchForm.keyword.trim();\n      const regex = new RegExp(`(${keyword})`, 'gi');\n      return text.replace(regex, '<mark class=\"bg-warning\">$1</mark>');\n    },\n    \n    viewRecord(record) {\n      console.log('查看笔录:', record);\n      // 跳转到详情页面\n      this.$router.push(`/record/${record.id}`);\n    },\n    \n    editRecord(record) {\n      console.log('编辑笔录:', record);\n      // 这里可以跳转到编辑页面\n    },\n    \n    getStatusClass(status) {\n      const classes = {\n        draft: 'bg-warning',\n        completed: 'bg-success',\n        verified: 'bg-primary'\n      };\n      return classes[status] || 'bg-secondary';\n    },\n    \n    getStatusText(status) {\n      const texts = {\n        draft: '草稿',\n        completed: '已完成',\n        verified: '已审核'\n      };\n      return texts[status] || '未知';\n    },\n    \n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleString('zh-CN');\n    },\n    \n    getWeekStart() {\n      const now = new Date();\n      const dayOfWeek = now.getDay();\n      const diff = now.getDate() - dayOfWeek + (dayOfWeek === 0 ? -6 : 1);\n      return new Date(now.setDate(diff)).toISOString().split('T')[0];\n    }\n  },\n  \n  mounted() {\n    console.log('搜索页面已加载');\n  }\n}\n</script>\n\n<style scoped>\n.advanced-search-panel {\n  background-color: #f8f9fa;\n  border-radius: 0.5rem;\n  padding: 1.5rem;\n  margin-top: 1rem;\n}\n\n.search-history-item {\n  cursor: pointer;\n  transition: all 0.3s ease;\n  background-color: #f8f9fa;\n}\n\n.search-history-item:hover {\n  background-color: #e9ecef;\n  transform: translateX(5px);\n}\n\n.search-result-item {\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.search-result-item:hover {\n  background-color: rgba(13, 110, 253, 0.05);\n}\n\n.search-result-card {\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.search-result-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.search-snippet {\n  line-height: 1.6;\n  color: #6c757d;\n}\n\n.empty-state {\n  padding: 3rem;\n}\n\n.btn {\n  transition: all 0.3s ease;\n}\n\n.btn:hover {\n  transform: translateY(-1px);\n}\n\n.input-group-lg .form-control {\n  font-size: 1.1rem;\n}\n\n.form-control:focus, .form-select:focus {\n  border-color: #0d6efd;\n  box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);\n}\n\n.pagination .page-item.active .page-link {\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n\n.badge {\n  font-size: 0.75rem;\n}\n\nmark {\n  padding: 0.1em 0.2em;\n  border-radius: 0.2em;\n}\n\n.card-header {\n  background-color: rgba(13, 110, 253, 0.05);\n}\n\n.quick-search-btn {\n  border: 1px dashed #dee2e6;\n  background-color: transparent;\n  transition: all 0.3s ease;\n}\n\n.quick-search-btn:hover {\n  border-color: #0d6efd;\n  background-color: rgba(13, 110, 253, 0.05);\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}