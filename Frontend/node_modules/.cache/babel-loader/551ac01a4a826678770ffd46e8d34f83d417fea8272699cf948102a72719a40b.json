{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getRecordDetail } from '@/api/record';\nexport default {\n  name: 'TestApiView',\n  data() {\n    return {\n      recordId: '1',\n      record: null,\n      loading: false,\n      error: null\n    };\n  },\n  methods: {\n    async fetchRecordDetail() {\n      if (!this.recordId) {\n        this.error = '请输入笔录ID';\n        return;\n      }\n      this.loading = true;\n      this.error = null;\n      this.record = null;\n      try {\n        console.log('获取笔录详情:', this.recordId);\n        const response = await getRecordDetail(this.recordId);\n        console.log('API响应:', response);\n        if (response.data && response.data.code === 200) {\n          this.record = response.data.data;\n          console.log('转换后的记录:', this.record);\n        } else {\n          this.error = response.data?.message || '获取笔录详情失败';\n        }\n      } catch (error) {\n        console.error('获取笔录详情错误:', error);\n        this.error = error.message || '获取笔录详情失败';\n      } finally {\n        this.loading = false;\n      }\n    },\n    goToDetail() {\n      if (this.record && this.record.id) {\n        this.$router.push(`/record/${this.record.id}`);\n      }\n    }\n  }\n};","map":{"version":3,"names":["getRecordDetail","name","data","recordId","record","loading","error","methods","fetchRecordDetail","console","log","response","code","message","goToDetail","id","$router","push"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/views/TestApiView.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <h2>API 测试页面</h2>\n    \n    <div class=\"mb-3\">\n      <label for=\"recordId\" class=\"form-label\">笔录ID</label>\n      <div class=\"input-group\">\n        <input type=\"text\" class=\"form-control\" id=\"recordId\" v-model=\"recordId\" placeholder=\"输入笔录ID\">\n        <button class=\"btn btn-primary\" @click=\"fetchRecordDetail\">获取详情</button>\n      </div>\n    </div>\n    \n    <div v-if=\"loading\" class=\"d-flex justify-content-center\">\n      <div class=\"spinner-border text-primary\" role=\"status\">\n        <span class=\"visually-hidden\">加载中...</span>\n      </div>\n    </div>\n    \n    <div v-else-if=\"error\" class=\"alert alert-danger\">\n      <i class=\"bi bi-exclamation-triangle-fill me-2\"></i>\n      {{ error }}\n    </div>\n    \n    <div v-else-if=\"record\" class=\"card\">\n      <div class=\"card-header bg-primary text-white\">\n        <h5 class=\"mb-0\">{{ record.recordName }}</h5>\n      </div>\n      <div class=\"card-body\">\n        <pre class=\"bg-light p-3 rounded\">{{ JSON.stringify(record, null, 2) }}</pre>\n      </div>\n    </div>\n    \n    <div class=\"mt-4\">\n      <button class=\"btn btn-secondary\" @click=\"goToDetail\" :disabled=\"!record\">\n        <i class=\"bi bi-arrow-right me-1\"></i>跳转到详情页\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getRecordDetail } from '@/api/record'\n\nexport default {\n  name: 'TestApiView',\n  data() {\n    return {\n      recordId: '1',\n      record: null,\n      loading: false,\n      error: null\n    }\n  },\n  methods: {\n    async fetchRecordDetail() {\n      if (!this.recordId) {\n        this.error = '请输入笔录ID'\n        return\n      }\n      \n      this.loading = true\n      this.error = null\n      this.record = null\n      \n      try {\n        console.log('获取笔录详情:', this.recordId)\n        const response = await getRecordDetail(this.recordId)\n        console.log('API响应:', response)\n        \n        if (response.data && response.data.code === 200) {\n          this.record = response.data.data\n          console.log('转换后的记录:', this.record)\n        } else {\n          this.error = response.data?.message || '获取笔录详情失败'\n        }\n      } catch (error) {\n        console.error('获取笔录详情错误:', error)\n        this.error = error.message || '获取笔录详情失败'\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    goToDetail() {\n      if (this.record && this.record.id) {\n        this.$router.push(`/record/${this.record.id}`)\n      }\n    }\n  }\n}\n</script>"],"mappings":";AAyCA,SAASA,eAAc,QAAS,cAAa;AAE7C,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,GAAG;MACbC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,iBAAiBA,CAAA,EAAG;MACxB,IAAI,CAAC,IAAI,CAACL,QAAQ,EAAE;QAClB,IAAI,CAACG,KAAI,GAAI,SAAQ;QACrB;MACF;MAEA,IAAI,CAACD,OAAM,GAAI,IAAG;MAClB,IAAI,CAACC,KAAI,GAAI,IAAG;MAChB,IAAI,CAACF,MAAK,GAAI,IAAG;MAEjB,IAAI;QACFK,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAACP,QAAQ;QACpC,MAAMQ,QAAO,GAAI,MAAMX,eAAe,CAAC,IAAI,CAACG,QAAQ;QACpDM,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEC,QAAQ;QAE9B,IAAIA,QAAQ,CAACT,IAAG,IAAKS,QAAQ,CAACT,IAAI,CAACU,IAAG,KAAM,GAAG,EAAE;UAC/C,IAAI,CAACR,MAAK,GAAIO,QAAQ,CAACT,IAAI,CAACA,IAAG;UAC/BO,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE,IAAI,CAACN,MAAM;QACpC,OAAO;UACL,IAAI,CAACE,KAAI,GAAIK,QAAQ,CAACT,IAAI,EAAEW,OAAM,IAAK,UAAS;QAClD;MACF,EAAE,OAAOP,KAAK,EAAE;QACdG,OAAO,CAACH,KAAK,CAAC,WAAW,EAAEA,KAAK;QAChC,IAAI,CAACA,KAAI,GAAIA,KAAK,CAACO,OAAM,IAAK,UAAS;MACzC,UAAU;QACR,IAAI,CAACR,OAAM,GAAI,KAAI;MACrB;IACF,CAAC;IAEDS,UAAUA,CAAA,EAAG;MACX,IAAI,IAAI,CAACV,MAAK,IAAK,IAAI,CAACA,MAAM,CAACW,EAAE,EAAE;QACjC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,WAAW,IAAI,CAACb,MAAM,CAACW,EAAE,EAAE;MAC/C;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}