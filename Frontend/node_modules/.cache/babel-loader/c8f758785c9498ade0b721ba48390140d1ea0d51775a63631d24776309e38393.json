{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport request from './request';\n\n/**\n * 案件管理相关API\n */\n\n// 获取案件列表\nexport function getCaseList() {\n  return request({\n    url: '/case/list',\n    method: 'get'\n  });\n}\n\n// 获取案件类型\nexport function getCaseTypes() {\n  return request({\n    url: '/case/types',\n    method: 'get'\n  });\n}\n\n// 获取案件状态\nexport function getCaseStatuses() {\n  return request({\n    url: '/case/statuses',\n    method: 'get'\n  });\n}\n\n// 搜索案件\nexport function searchCases(params) {\n  console.log('调用searchCases API，参数:', params);\n\n  // 确保参数格式正确\n  const cleanParams = {\n    ...params\n  };\n\n  // 移除空字符串参数\n  Object.keys(cleanParams).forEach(key => {\n    if (cleanParams[key] === '') {\n      delete cleanParams[key];\n    }\n  });\n\n  // 确保日期格式正确\n  const dateFields = ['startDateFrom', 'startDateTo', 'createdAtFrom', 'createdAtTo'];\n  dateFields.forEach(field => {\n    if (cleanParams[field] && typeof cleanParams[field] === 'string') {\n      // 确保日期格式为YYYY-MM-DD\n      cleanParams[field] = cleanParams[field].split('T')[0];\n    }\n  });\n  console.log('优化后的API参数:', cleanParams);\n  return request({\n    url: '/case/search',\n    method: 'get',\n    params: cleanParams\n  });\n}\n\n// 获取案件详情\nexport function getCaseDetail(id) {\n  return request({\n    url: `/case/${id}`,\n    method: 'get'\n  });\n}\n\n// 添加案件\nexport function addCase(data) {\n  return request({\n    url: '/case/add',\n    method: 'post',\n    data\n  });\n}\n\n// 更新案件\nexport function updateCase(id, data) {\n  return request({\n    url: `/case/${id}`,\n    method: 'put',\n    data\n  });\n}\n\n// 删除案件\nexport function deleteCase(id) {\n  return request({\n    url: `/case/${id}`,\n    method: 'delete'\n  });\n}\n\n// 获取案件下的笔录列表\nexport function getCaseRecords(id) {\n  return request({\n    url: `/case/${id}/records`,\n    method: 'get'\n  });\n}\n\n// 打包案件笔录\nexport function packageCase(id) {\n  return request({\n    url: `/case/package/${id}`,\n    method: 'get',\n    responseType: 'blob'\n  });\n}\n\n// 打包选定笔录\nexport function packageSelectedRecords(id, recordIds) {\n  return request({\n    url: `/case/${id}/package-selected`,\n    method: 'post',\n    data: recordIds,\n    responseType: 'blob'\n  });\n}\n\n// 获取案件统计数据\nexport function getCaseStatistics() {\n  return request({\n    url: '/case/statistics',\n    method: 'get'\n  });\n}","map":{"version":3,"names":["request","getCaseList","url","method","getCaseTypes","getCaseStatuses","searchCases","params","console","log","cleanParams","Object","keys","forEach","key","dateFields","field","split","getCaseDetail","id","addCase","data","updateCase","deleteCase","getCaseRecords","packageCase","responseType","packageSelectedRecords","recordIds","getCaseStatistics"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/api/case.js"],"sourcesContent":["import request from './request'\n\n/**\n * 案件管理相关API\n */\n\n// 获取案件列表\nexport function getCaseList() {\n  return request({\n    url: '/case/list',\n    method: 'get'\n  })\n}\n\n// 获取案件类型\nexport function getCaseTypes() {\n  return request({\n    url: '/case/types',\n    method: 'get'\n  })\n}\n\n// 获取案件状态\nexport function getCaseStatuses() {\n  return request({\n    url: '/case/statuses',\n    method: 'get'\n  })\n}\n\n// 搜索案件\nexport function searchCases(params) {\n  console.log('调用searchCases API，参数:', params)\n  \n  // 确保参数格式正确\n  const cleanParams = { ...params }\n  \n  // 移除空字符串参数\n  Object.keys(cleanParams).forEach(key => {\n    if (cleanParams[key] === '') {\n      delete cleanParams[key]\n    }\n  })\n  \n  // 确保日期格式正确\n  const dateFields = ['startDateFrom', 'startDateTo', 'createdAtFrom', 'createdAtTo']\n  dateFields.forEach(field => {\n    if (cleanParams[field] && typeof cleanParams[field] === 'string') {\n      // 确保日期格式为YYYY-MM-DD\n      cleanParams[field] = cleanParams[field].split('T')[0]\n    }\n  })\n  \n  console.log('优化后的API参数:', cleanParams)\n  \n  return request({\n    url: '/case/search',\n    method: 'get',\n    params: cleanParams\n  })\n}\n\n// 获取案件详情\nexport function getCaseDetail(id) {\n  return request({\n    url: `/case/${id}`,\n    method: 'get'\n  })\n}\n\n// 添加案件\nexport function addCase(data) {\n  return request({\n    url: '/case/add',\n    method: 'post',\n    data\n  })\n}\n\n// 更新案件\nexport function updateCase(id, data) {\n  return request({\n    url: `/case/${id}`,\n    method: 'put',\n    data\n  })\n}\n\n// 删除案件\nexport function deleteCase(id) {\n  return request({\n    url: `/case/${id}`,\n    method: 'delete'\n  })\n}\n\n// 获取案件下的笔录列表\nexport function getCaseRecords(id) {\n  return request({\n    url: `/case/${id}/records`,\n    method: 'get'\n  })\n}\n\n// 打包案件笔录\nexport function packageCase(id) {\n  return request({\n    url: `/case/package/${id}`,\n    method: 'get',\n    responseType: 'blob'\n  })\n}\n\n// 打包选定笔录\nexport function packageSelectedRecords(id, recordIds) {\n  return request({\n    url: `/case/${id}/package-selected`,\n    method: 'post',\n    data: recordIds,\n    responseType: 'blob'\n  });\n}\n\n// 获取案件统计数据\nexport function getCaseStatistics() {\n  return request({\n    url: '/case/statistics',\n    method: 'get'\n  });\n}"],"mappings":";;AAAA,OAAOA,OAAO,MAAM,WAAW;;AAE/B;AACA;AACA;;AAEA;AACA,OAAO,SAASC,WAAWA,CAAA,EAAG;EAC5B,OAAOD,OAAO,CAAC;IACbE,GAAG,EAAE,YAAY;IACjBC,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASC,YAAYA,CAAA,EAAG;EAC7B,OAAOJ,OAAO,CAAC;IACbE,GAAG,EAAE,aAAa;IAClBC,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASE,eAAeA,CAAA,EAAG;EAChC,OAAOL,OAAO,CAAC;IACbE,GAAG,EAAE,gBAAgB;IACrBC,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASG,WAAWA,CAACC,MAAM,EAAE;EAClCC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,MAAM,CAAC;;EAE5C;EACA,MAAMG,WAAW,GAAG;IAAE,GAAGH;EAAO,CAAC;;EAEjC;EACAI,MAAM,CAACC,IAAI,CAACF,WAAW,CAAC,CAACG,OAAO,CAACC,GAAG,IAAI;IACtC,IAAIJ,WAAW,CAACI,GAAG,CAAC,KAAK,EAAE,EAAE;MAC3B,OAAOJ,WAAW,CAACI,GAAG,CAAC;IACzB;EACF,CAAC,CAAC;;EAEF;EACA,MAAMC,UAAU,GAAG,CAAC,eAAe,EAAE,aAAa,EAAE,eAAe,EAAE,aAAa,CAAC;EACnFA,UAAU,CAACF,OAAO,CAACG,KAAK,IAAI;IAC1B,IAAIN,WAAW,CAACM,KAAK,CAAC,IAAI,OAAON,WAAW,CAACM,KAAK,CAAC,KAAK,QAAQ,EAAE;MAChE;MACAN,WAAW,CAACM,KAAK,CAAC,GAAGN,WAAW,CAACM,KAAK,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACvD;EACF,CAAC,CAAC;EAEFT,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEC,WAAW,CAAC;EAEtC,OAAOV,OAAO,CAAC;IACbE,GAAG,EAAE,cAAc;IACnBC,MAAM,EAAE,KAAK;IACbI,MAAM,EAAEG;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASQ,aAAaA,CAACC,EAAE,EAAE;EAChC,OAAOnB,OAAO,CAAC;IACbE,GAAG,EAAE,SAASiB,EAAE,EAAE;IAClBhB,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASiB,OAAOA,CAACC,IAAI,EAAE;EAC5B,OAAOrB,OAAO,CAAC;IACbE,GAAG,EAAE,WAAW;IAChBC,MAAM,EAAE,MAAM;IACdkB;EACF,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASC,UAAUA,CAACH,EAAE,EAAEE,IAAI,EAAE;EACnC,OAAOrB,OAAO,CAAC;IACbE,GAAG,EAAE,SAASiB,EAAE,EAAE;IAClBhB,MAAM,EAAE,KAAK;IACbkB;EACF,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASE,UAAUA,CAACJ,EAAE,EAAE;EAC7B,OAAOnB,OAAO,CAAC;IACbE,GAAG,EAAE,SAASiB,EAAE,EAAE;IAClBhB,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASqB,cAAcA,CAACL,EAAE,EAAE;EACjC,OAAOnB,OAAO,CAAC;IACbE,GAAG,EAAE,SAASiB,EAAE,UAAU;IAC1BhB,MAAM,EAAE;EACV,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASsB,WAAWA,CAACN,EAAE,EAAE;EAC9B,OAAOnB,OAAO,CAAC;IACbE,GAAG,EAAE,iBAAiBiB,EAAE,EAAE;IAC1BhB,MAAM,EAAE,KAAK;IACbuB,YAAY,EAAE;EAChB,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASC,sBAAsBA,CAACR,EAAE,EAAES,SAAS,EAAE;EACpD,OAAO5B,OAAO,CAAC;IACbE,GAAG,EAAE,SAASiB,EAAE,mBAAmB;IACnChB,MAAM,EAAE,MAAM;IACdkB,IAAI,EAAEO,SAAS;IACfF,YAAY,EAAE;EAChB,CAAC,CAAC;AACJ;;AAEA;AACA,OAAO,SAASG,iBAAiBA,CAAA,EAAG;EAClC,OAAO7B,OAAO,CAAC;IACbE,GAAG,EAAE,kBAAkB;IACvBC,MAAM,EAAE;EACV,CAAC,CAAC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}