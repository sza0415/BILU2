{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { onMounted } from 'vue';\nexport default {\n  name: 'CaseTable',\n  props: {\n    cases: {\n      type: Array,\n      required: true\n    }\n  },\n  emits: ['view-detail', 'edit', 'delete'],\n  setup(props, {\n    emit\n  }) {\n    // 组件挂载后初始化Bootstrap下拉菜单\n    onMounted(() => {\n      // 确保Bootstrap的dropdown功能正常工作\n      if (typeof window.bootstrap !== 'undefined') {\n        const dropdownElementList = document.querySelectorAll('.dropdown-toggle');\n        dropdownElementList.forEach(dropdownToggleEl => {\n          new window.bootstrap.Dropdown(dropdownToggleEl);\n        });\n      }\n    });\n\n    // 查看详情\n    const viewDetail = id => {\n      emit('view-detail', id);\n    };\n\n    // 编辑案件\n    const editCase = caseItem => {\n      emit('edit', caseItem);\n    };\n\n    // 确认删除\n    const confirmDelete = caseItem => {\n      emit('delete', caseItem);\n    };\n\n    // 格式化日期\n    const formatDate = dateString => {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return date.toISOString().split('T')[0];\n    };\n    return {\n      viewDetail,\n      editCase,\n      confirmDelete,\n      formatDate\n    };\n  }\n};","map":{"version":3,"names":["onMounted","name","props","cases","type","Array","required","emits","setup","emit","window","bootstrap","dropdownElementList","document","querySelectorAll","forEach","dropdownToggleEl","Dropdown","viewDetail","id","editCase","caseItem","confirmDelete","formatDate","dateString","date","Date","toISOString","split"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/case/CaseTable.vue"],"sourcesContent":["<template>\n  <div class=\"table-responsive\">\n    <table class=\"table table-hover align-middle\">\n      <thead class=\"table-light\">\n        <tr>\n          <th scope=\"col\" width=\"30%\">案件信息</th>\n          <th scope=\"col\">类型</th>\n          <th scope=\"col\">立案日期</th>\n          <th scope=\"col\">状态</th>\n          <th scope=\"col\">笔录数</th>\n          <th scope=\"col\" width=\"150\">操作</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"(caseItem, index) in cases\" :key=\"index\">\n          <td>\n            <div class=\"d-flex align-items-center\">\n              <div class=\"case-icon rounded-circle p-1 me-2\" \n                   :class=\"{\n                     'bg-success bg-opacity-10': caseItem.caseType === '民事案件',\n                     'bg-danger bg-opacity-10': caseItem.caseType === '刑事案件',\n                     'bg-info bg-opacity-10': caseItem.caseType === '行政案件',\n                     'bg-primary bg-opacity-10': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n                   }\">\n                <i class=\"bi fs-5\" \n                   :class=\"{\n                     'bi-people text-success': caseItem.caseType === '民事案件',\n                     'bi-shield-lock text-danger': caseItem.caseType === '刑事案件',\n                     'bi-building text-info': caseItem.caseType === '行政案件',\n                     'bi-folder text-primary': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n                   }\"></i>\n              </div>\n              <div>\n                <div class=\"fw-medium\">{{ caseItem.caseName }}</div>\n                <div class=\"text-muted small\">{{ caseItem.caseNumber }}</div>\n              </div>\n            </div>\n          </td>\n          <td>{{ caseItem.caseType }}</td>\n          <td>{{ formatDate(caseItem.startDate) }}</td>\n          <td>\n            <span class=\"badge rounded-pill px-2 py-1\" :class=\"{\n              'bg-success': caseItem.status === '已完成' || caseItem.status === '已结案',\n              'bg-warning text-dark': caseItem.status === '进行中',\n              'bg-secondary': caseItem.status !== '已完成' && caseItem.status !== '已结案' && caseItem.status !== '进行中'\n            }\">{{ caseItem.status }}</span>\n          </td>\n          <td>{{ caseItem.recordCount || 0 }}</td>\n          <td>\n            <div class=\"dropdown dropup\">\n              <button class=\"btn btn-sm btn-outline-secondary dropdown-toggle\" type=\"button\" :id=\"`dropdownMenuButton-${caseItem.id}`\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                <i class=\"bi bi-three-dots-vertical\"></i> 操作\n              </button>\n              <ul class=\"dropdown-menu dropdown-menu-end\" :aria-labelledby=\"`dropdownMenuButton-${caseItem.id}`\" data-bs-popper=\"static\">\n                <li>\n                  <a class=\"dropdown-item\" href=\"#\" @click.stop.prevent=\"viewDetail(caseItem.id)\">\n                    <i class=\"bi bi-eye me-2 text-primary\"></i>查看详情\n                  </a>\n                </li>\n                <li>\n                  <a class=\"dropdown-item\" href=\"#\" @click.stop.prevent=\"editCase(caseItem)\">\n                    <i class=\"bi bi-pencil me-2 text-secondary\"></i>编辑\n                  </a>\n                </li>\n                <li><hr class=\"dropdown-divider\"></li>\n                <li>\n                  <a class=\"dropdown-item text-danger\" href=\"#\" @click.stop.prevent=\"confirmDelete(caseItem)\">\n                    <i class=\"bi bi-trash me-2\"></i>删除\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport { onMounted } from 'vue';\n\nexport default {\n  name: 'CaseTable',\n  props: {\n    cases: {\n      type: Array,\n      required: true\n    }\n  },\n  emits: ['view-detail', 'edit', 'delete'],\n  setup(props, { emit }) {\n     // 组件挂载后初始化Bootstrap下拉菜单\n     onMounted(() => {\n       // 确保Bootstrap的dropdown功能正常工作\n       if (typeof window.bootstrap !== 'undefined') {\n         const dropdownElementList = document.querySelectorAll('.dropdown-toggle');\n         dropdownElementList.forEach(dropdownToggleEl => {\n           new window.bootstrap.Dropdown(dropdownToggleEl);\n         });\n       }\n     });\n     \n    // 查看详情\n    const viewDetail = (id) => {\n      emit('view-detail', id)\n    }\n    \n    // 编辑案件\n    const editCase = (caseItem) => {\n      emit('edit', caseItem)\n    }\n    \n    // 确认删除\n    const confirmDelete = (caseItem) => {\n      emit('delete', caseItem)\n    }\n    \n    // 格式化日期\n    const formatDate = (dateString) => {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toISOString().split('T')[0]\n    }\n    \n    return {\n      viewDetail,\n      editCase,\n      confirmDelete,\n      formatDate\n    }\n  }\n}\n</script>\n\n<style scoped>\n.case-icon {\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.table {\n  border-collapse: separate;\n  border-spacing: 0;\n}\n\n.table th {\n  font-weight: 600;\n  padding: 1rem 0.75rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.table td {\n  padding: 0.75rem;\n  vertical-align: middle;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.table tbody tr:hover {\n  background-color: rgba(74, 108, 247, 0.05);\n}\n\n.btn-group .btn {\n  margin-right: 0.25rem;\n}\n\n.btn-group .btn:last-child {\n  margin-right: 0;\n}\n\n/* 确保下拉菜单显示在其他元素之上 */\n.dropdown-menu {\n  z-index: 1030;\n}\n</style>"],"mappings":";;AAgFA,SAASA,SAAQ,QAAS,KAAK;AAE/B,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAE;IACLC,KAAK,EAAE;MACLC,IAAI,EAAEC,KAAK;MACXC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,aAAa,EAAE,MAAM,EAAE,QAAQ,CAAC;EACxCC,KAAKA,CAACN,KAAK,EAAE;IAAEO;EAAK,CAAC,EAAE;IACpB;IACAT,SAAS,CAAC,MAAM;MACd;MACA,IAAI,OAAOU,MAAM,CAACC,SAAQ,KAAM,WAAW,EAAE;QAC3C,MAAMC,mBAAkB,GAAIC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,CAAC;QACzEF,mBAAmB,CAACG,OAAO,CAACC,gBAAe,IAAK;UAC9C,IAAIN,MAAM,CAACC,SAAS,CAACM,QAAQ,CAACD,gBAAgB,CAAC;QACjD,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;;IAEH;IACA,MAAME,UAAS,GAAKC,EAAE,IAAK;MACzBV,IAAI,CAAC,aAAa,EAAEU,EAAE;IACxB;;IAEA;IACA,MAAMC,QAAO,GAAKC,QAAQ,IAAK;MAC7BZ,IAAI,CAAC,MAAM,EAAEY,QAAQ;IACvB;;IAEA;IACA,MAAMC,aAAY,GAAKD,QAAQ,IAAK;MAClCZ,IAAI,CAAC,QAAQ,EAAEY,QAAQ;IACzB;;IAEA;IACA,MAAME,UAAS,GAAKC,UAAU,IAAK;MACjC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAC;MACzB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU;MAChC,OAAOC,IAAI,CAACE,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IACxC;IAEA,OAAO;MACLV,UAAU;MACVE,QAAQ;MACRE,aAAa;MACbC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}