{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Modal } from 'bootstrap';\nimport { getRecordDetail, deleteRecord as apiDeleteRecord, exportRecord as apiExportRecord } from '@/api/record';\nexport default {\n  name: 'RecordDetail',\n  props: {\n    recordId: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  setup(props) {\n    const router = useRouter();\n    const record = ref({});\n    const recordVideo = ref(null);\n    let deleteModal = null;\n\n    // 初始化\n    onMounted(() => {\n      // 获取笔录详情\n      fetchRecordDetail();\n\n      // 初始化删除模态框\n      deleteModal = new Modal(document.getElementById('deleteConfirmModal'));\n    });\n\n    // 获取笔录详情\n    const fetchRecordDetail = async () => {\n      try {\n        const response = await getRecordDetail(props.recordId);\n        if (response.data && response.data.code === 200) {\n          // 适配后端返回的数据格式\n          const data = response.data.data;\n          record.value = {\n            id: props.recordId,\n            recordName: data.record_name,\n            caseName: data.case?.case_name || '未关联案件',\n            caseNumber: data.case?.case_number || '',\n            inquiryTime: data.inquiry_time,\n            inquiryAddress: data.inquiry_address,\n            assistantName: data.assistant_name,\n            inquirerName: data.inquirer_name,\n            inquiryId: data.inquiry_id,\n            textContent: data.text_content,\n            videoFilePath: data.video_file_path || '',\n            isVerified: data.content_hash ? true : false,\n            createdAt: data.inquiry_time\n          };\n        } else {\n          console.error('获取笔录详情失败:', response.data?.message || '未知错误');\n          alert('获取笔录详情失败: ' + (response.data?.message || '未知错误'));\n        }\n      } catch (error) {\n        console.error('获取笔录详情失败:', error);\n        alert('获取笔录详情失败: ' + error.message);\n      }\n    };\n\n    // 返回上一页\n    const goBack = () => {\n      router.back();\n    };\n\n    // 跳转到搜索页面\n    const goToSearch = () => {\n      router.push('/search');\n    };\n\n    // 编辑笔录\n    const editRecord = () => {\n      // 实际项目中应该跳转到编辑页面\n      console.log('编辑笔录:', record.value.id);\n      // router.push(`/record/${record.value.id}/edit`)\n    };\n\n    // 确认删除\n    const confirmDelete = () => {\n      deleteModal.show();\n    };\n\n    // 删除笔录\n    const deleteRecord = async () => {\n      try {\n        const response = await apiDeleteRecord(record.value.id);\n        if (response.data && response.data.code === 200) {\n          console.log('删除笔录成功:', record.value.id);\n          alert('笔录删除成功');\n\n          // 删除成功后返回搜索页面\n          deleteModal.hide();\n          router.push('/search');\n        } else {\n          console.error('删除笔录失败:', response.data?.message || '未知错误');\n          alert('删除笔录失败: ' + (response.data?.message || '未知错误'));\n        }\n      } catch (error) {\n        console.error('删除笔录失败:', error);\n        alert('删除笔录失败: ' + error.message);\n      }\n    };\n\n    // 导出笔录\n    const exportRecord = async () => {\n      try {\n        const response = await apiExportRecord(record.value.id);\n\n        // 创建下载链接\n        const blob = new Blob([response.data], {\n          type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'\n        });\n        const url = window.URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `${record.value.recordName}_${new Date().toISOString().slice(0, 10)}.docx`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        window.URL.revokeObjectURL(url);\n        console.log('导出笔录成功:', record.value.id);\n      } catch (error) {\n        console.error('导出笔录失败:', error);\n        alert('导出笔录失败: ' + error.message);\n      }\n    };\n\n    // 验证笔录\n    const verifyRecord = () => {\n      // 实际项目中应该跳转到验证页面或调用验证API\n      console.log('验证笔录:', record.value.id);\n      // router.push(`/record/${record.value.id}/verify`)\n    };\n\n    // 视频全屏\n    const toggleFullscreen = () => {\n      const video = recordVideo.value;\n      if (video) {\n        if (video.requestFullscreen) {\n          video.requestFullscreen();\n        } else if (video.webkitRequestFullscreen) {\n          video.webkitRequestFullscreen();\n        } else if (video.msRequestFullscreen) {\n          video.msRequestFullscreen();\n        }\n      }\n    };\n\n    // 格式化日期时间\n    const formatDateTime = dateString => {\n      const date = new Date(dateString);\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n    return {\n      record,\n      recordVideo,\n      goBack,\n      goToSearch,\n      editRecord,\n      confirmDelete,\n      deleteRecord,\n      exportRecord,\n      verifyRecord,\n      toggleFullscreen,\n      formatDateTime\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","Modal","getRecordDetail","deleteRecord","apiDeleteRecord","exportRecord","apiExportRecord","name","props","recordId","type","Number","String","required","setup","router","record","recordVideo","deleteModal","fetchRecordDetail","document","getElementById","response","data","code","value","id","recordName","record_name","caseName","case","case_name","caseNumber","case_number","inquiryTime","inquiry_time","inquiryAddress","inquiry_address","assistantName","assistant_name","inquirerName","inquirer_name","inquiryId","inquiry_id","textContent","text_content","videoFilePath","video_file_path","isVerified","content_hash","createdAt","console","error","message","alert","goBack","back","goToSearch","push","editRecord","log","confirmDelete","show","hide","blob","Blob","url","window","URL","createObjectURL","link","createElement","href","download","Date","toISOString","slice","body","appendChild","click","removeChild","revokeObjectURL","verifyRecord","toggleFullscreen","video","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","formatDateTime","dateString","date","toLocaleString","year","month","day","hour","minute"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/record/RecordDetail.vue"],"sourcesContent":["<template>\n  <div class=\"record-detail-container\">\n    <div class=\"card shadow-sm mb-4\">\n      <div class=\"card-header bg-primary text-white d-flex justify-content-between align-items-center\">\n        <h4 class=\"mb-0\">\n          <i class=\"bi bi-file-text me-2\"></i> {{ record.recordName }}\n        </h4>\n        <div>\n          <!-- 加密状态印章 -->\n          <div v-if=\"record.isVerified\" class=\"seal-stamp\" title=\"此笔录已加密验证\">\n            <div class=\"seal-text\">已验证</div>\n            <div class=\"seal-star\"></div>\n            <div class=\"seal-circle\">笔录已加密验证·不可篡改·</div>\n          </div>\n          <div v-else class=\"seal-stamp-unencrypted\" title=\"此笔录未加密验证\">\n            <div class=\"seal-text\">未验证</div>\n            <div class=\"seal-star\"></div>\n            <div class=\"seal-circle\">笔录未加密验证·可能被篡改·</div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"card-body\">\n        <div class=\"row mb-4\">\n          <div class=\"col-lg-6 col-md-12 mb-3\">\n            <div class=\"card h-100 border-0 shadow-sm rounded-3 overflow-hidden\">\n              <div class=\"card-header bg-primary bg-opacity-10 text-primary fw-bold border-bottom\">\n                <i class=\"bi bi-person-badge me-2\"></i> 基本信息\n              </div>\n              <div class=\"card-body p-0\">\n                <table class=\"table table-hover align-middle mb-0\">\n                  <tr>\n                    <th class=\"bg-light text-secondary\" style=\"width: 30%\">\n                      <i class=\"bi bi-geo-alt me-2 text-primary\"></i> 询问地点\n                    </th>\n                    <td class=\"fw-medium\">{{ record.inquiryAddress }}</td>\n                  </tr>\n                  <tr>\n                    <th class=\"bg-light text-secondary\">\n                      <i class=\"bi bi-person me-2 text-primary\"></i> 询问员\n                    </th>\n                    <td class=\"fw-medium\">{{ record.assistantName }}</td>\n                  </tr>\n                  <tr>\n                    <th class=\"bg-light text-secondary\">\n                      <i class=\"bi bi-person-circle me-2 text-primary\"></i> 被询问人\n                    </th>\n                    <td class=\"fw-medium\">{{ record.inquirerName }}</td>\n                  </tr>\n                  <tr>\n                    <th class=\"bg-light text-secondary\">\n                      <i class=\"bi bi-credit-card me-2 text-primary\"></i> 身份证号\n                    </th>\n                    <td class=\"fw-medium\">{{ record.inquiryId }}</td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"col-lg-6 col-md-12 mb-3\">\n            <div class=\"card h-100 border-0 shadow-sm rounded-3 overflow-hidden\">\n              <div class=\"card-header bg-info bg-opacity-10 text-info fw-bold border-bottom\">\n                <i class=\"bi bi-info-circle me-2\"></i> 相关信息\n              </div>\n              <div class=\"card-body\">\n                <div class=\"row\">\n                  <div class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-info bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-calendar-event text-info\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">创建时间</small>\n                        <span class=\"fw-medium\">{{ formatDateTime(record.createdAt) }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-info bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-hash text-info\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">记录ID</small>\n                        <span class=\"fw-medium\">{{ record.id }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div v-if=\"record.videoFilePath\" class=\"col-12 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-info bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-file-play text-info\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">视频文件</small>\n                        <span class=\"text-primary fw-medium\">{{ record.videoFilePath }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div v-if=\"record.caseName\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-folder text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">所属案件</small>\n                        <span class=\"fw-medium\">{{ record.caseName }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"record.caseNumber\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-upc text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">案件编号</small>\n                        <span class=\"fw-medium\">{{ record.caseNumber }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"record.caseType\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-tag text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">案件类型</small>\n                        <span class=\"fw-medium\">{{ record.caseType }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"record.caseStatus\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-flag text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">案件状态</small>\n                        <span class=\"fw-medium\">{{ record.caseStatus }}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 视频播放器 -->\n        <div v-if=\"record.videoFilePath\" class=\"mb-4\">\n          <div class=\"card border-0 shadow-sm rounded-3 overflow-hidden\">\n            <div class=\"card-header bg-primary bg-opacity-10 text-primary fw-bold border-bottom\">\n              <i class=\"bi bi-camera-video me-2\"></i> 询问录像\n            </div>\n            <div class=\"card-body\">\n              <div class=\"video-container shadow-sm rounded-3 overflow-hidden\">\n                <video ref=\"recordVideo\" class=\"w-100\" controls preload=\"metadata\" style=\"max-height: 500px; object-fit: contain;\">\n                  <source :src=\"record.videoFilePath\" type=\"video/mp4\">\n                  <p class=\"text-muted mt-3\">\n                    <i class=\"bi bi-exclamation-triangle\"></i> \n                    您的浏览器不支持视频播放，请尝试使用现代浏览器（Chrome、Firefox、Safari等）。\n                  </p>\n                </video>\n              </div>\n              <div class=\"mt-3 d-flex justify-content-between align-items-center\">\n                <div class=\"video-info\">\n                  <div class=\"d-flex align-items-center\">\n                    <i class=\"bi bi-file-play text-primary me-2\"></i>\n                    <div>\n                      <small class=\"text-muted d-block\">视频文件路径</small>\n                      <span class=\"text-primary\">{{ record.videoFilePath }}</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"video-controls\">\n                  <button type=\"button\" class=\"btn btn-primary rounded-pill shadow-sm px-3\" @click=\"toggleFullscreen\">\n                    <i class=\"bi bi-fullscreen me-1\"></i> 全屏播放\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 笔录内容 -->\n        <div class=\"card border-0 shadow-sm rounded-3 overflow-hidden mb-4\">\n          <div class=\"card-header bg-primary bg-opacity-10 text-primary fw-bold border-bottom\">\n            <i class=\"bi bi-file-text me-2\"></i> 笔录内容\n          </div>\n          <div class=\"card-body\">\n            <div class=\"bg-light p-3 rounded-3 shadow-sm\" style=\"max-height: 600px; overflow-y: auto;\">\n              <pre class=\"mb-0\" style=\"white-space: pre-wrap; font-family: 'Noto Sans SC', sans-serif; line-height: 1.6; font-size: 1rem;\">{{ record.textContent }}</pre>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"card-footer bg-light\">\n        <div class=\"row\">\n          <div class=\"col-md-4 mb-2 mb-md-0\">\n            <div class=\"d-grid gap-2 d-md-flex\">\n              <button @click=\"goBack\" class=\"btn btn-light shadow-sm rounded-pill px-4\">\n                <i class=\"bi bi-arrow-left me-1\"></i> 返回\n              </button>\n              <button @click=\"goToSearch\" class=\"btn btn-outline-primary rounded-pill px-4\">\n                <i class=\"bi bi-list me-1\"></i> 所有笔录\n              </button>\n            </div>\n          </div>\n          <div class=\"col-md-4 mb-2 mb-md-0 text-md-center\">\n            <div class=\"d-grid gap-2 d-md-flex justify-content-md-center\">\n              <button @click=\"editRecord\" class=\"btn btn-warning rounded-pill shadow-sm px-3\">\n                <i class=\"bi bi-pencil me-1\"></i> 修改笔录\n              </button>\n              <button @click=\"confirmDelete\" class=\"btn btn-danger rounded-pill shadow-sm px-3\">\n                <i class=\"bi bi-trash me-1\"></i> 删除笔录\n              </button>\n            </div>\n          </div>\n          <div class=\"col-md-4 text-md-end\">\n            <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n              <button @click=\"exportRecord\" class=\"btn btn-success rounded-pill shadow-sm px-3\">\n                <i class=\"bi bi-file-earmark-word me-1\"></i> 导出笔录\n              </button>\n              <button @click=\"verifyRecord\" class=\"btn btn-primary rounded-pill shadow-sm px-4\">\n                <i class=\"bi bi-shield-check me-1\"></i> 验证笔录\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 删除确认模态框 -->\n    <div class=\"modal fade\" id=\"deleteConfirmModal\" tabindex=\"-1\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content border-0 shadow rounded-4 overflow-hidden\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 class=\"modal-title fw-bold\">\n              <i class=\"bi bi-exclamation-triangle-fill me-2\"></i>确认删除\n            </h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body py-4\">\n            <div class=\"d-flex align-items-center mb-3\">\n              <div class=\"bg-danger bg-opacity-10 p-3 rounded-circle me-3\">\n                <i class=\"bi bi-trash text-danger fs-3\"></i>\n              </div>\n              <div>\n                <h5>您确定要删除以下笔录吗？</h5>\n                <p class=\"fw-bold fs-5 mb-0\">{{ record.recordName }}</p>\n              </div>\n            </div>\n            <div class=\"alert alert-warning border-0 shadow-sm\">\n              <i class=\"bi bi-info-circle-fill me-2\"></i>\n              <strong>警告：</strong>此操作不可逆，删除后数据将无法恢复！\n            </div>\n          </div>\n          <div class=\"modal-footer border-top-0\">\n            <button type=\"button\" class=\"btn btn-light rounded-pill px-4\" data-bs-dismiss=\"modal\">\n              <i class=\"bi bi-x-circle me-1\"></i>取消\n            </button>\n            <button type=\"button\" class=\"btn btn-danger rounded-pill px-4 shadow-sm\" @click=\"deleteRecord\">\n              <i class=\"bi bi-trash me-1\"></i>确认删除\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { Modal } from 'bootstrap'\nimport { getRecordDetail, deleteRecord as apiDeleteRecord, exportRecord as apiExportRecord } from '@/api/record'\n\nexport default {\n  name: 'RecordDetail',\n  props: {\n    recordId: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  setup(props) {\n    const router = useRouter()\n    const record = ref({})\n    const recordVideo = ref(null)\n    let deleteModal = null\n\n\n\n    // 初始化\n    onMounted(() => {\n      // 获取笔录详情\n      fetchRecordDetail()\n      \n      // 初始化删除模态框\n      deleteModal = new Modal(document.getElementById('deleteConfirmModal'))\n    })\n\n    // 获取笔录详情\n    const fetchRecordDetail = async () => {\n      try {\n        const response = await getRecordDetail(props.recordId)\n        if (response.data && response.data.code === 200) {\n          // 适配后端返回的数据格式\n          const data = response.data.data\n          record.value = {\n            id: props.recordId,\n            recordName: data.record_name,\n            caseName: data.case?.case_name || '未关联案件',\n            caseNumber: data.case?.case_number || '',\n            inquiryTime: data.inquiry_time,\n            inquiryAddress: data.inquiry_address,\n            assistantName: data.assistant_name,\n            inquirerName: data.inquirer_name,\n            inquiryId: data.inquiry_id,\n            textContent: data.text_content,\n            videoFilePath: data.video_file_path || '',\n            isVerified: data.content_hash ? true : false,\n            createdAt: data.inquiry_time\n          }\n        } else {\n          console.error('获取笔录详情失败:', response.data?.message || '未知错误')\n          alert('获取笔录详情失败: ' + (response.data?.message || '未知错误'))\n        }\n      } catch (error) {\n        console.error('获取笔录详情失败:', error)\n        alert('获取笔录详情失败: ' + error.message)\n      }\n    }\n\n    // 返回上一页\n    const goBack = () => {\n      router.back()\n    }\n\n    // 跳转到搜索页面\n    const goToSearch = () => {\n      router.push('/search')\n    }\n\n    // 编辑笔录\n    const editRecord = () => {\n      // 实际项目中应该跳转到编辑页面\n      console.log('编辑笔录:', record.value.id)\n      // router.push(`/record/${record.value.id}/edit`)\n    }\n\n    // 确认删除\n    const confirmDelete = () => {\n      deleteModal.show()\n    }\n\n    // 删除笔录\n    const deleteRecord = async () => {\n      try {\n        const response = await apiDeleteRecord(record.value.id)\n        if (response.data && response.data.code === 200) {\n          console.log('删除笔录成功:', record.value.id)\n          alert('笔录删除成功')\n          \n          // 删除成功后返回搜索页面\n          deleteModal.hide()\n          router.push('/search')\n        } else {\n          console.error('删除笔录失败:', response.data?.message || '未知错误')\n          alert('删除笔录失败: ' + (response.data?.message || '未知错误'))\n        }\n      } catch (error) {\n        console.error('删除笔录失败:', error)\n        alert('删除笔录失败: ' + error.message)\n      }\n    }\n\n    // 导出笔录\n    const exportRecord = async () => {\n      try {\n        const response = await apiExportRecord(record.value.id)\n        \n        // 创建下载链接\n        const blob = new Blob([response.data], { type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' })\n        const url = window.URL.createObjectURL(blob)\n        const link = document.createElement('a')\n        link.href = url\n        link.download = `${record.value.recordName}_${new Date().toISOString().slice(0, 10)}.docx`\n        document.body.appendChild(link)\n        link.click()\n        document.body.removeChild(link)\n        window.URL.revokeObjectURL(url)\n        \n        console.log('导出笔录成功:', record.value.id)\n      } catch (error) {\n        console.error('导出笔录失败:', error)\n        alert('导出笔录失败: ' + error.message)\n      }\n    }\n\n    // 验证笔录\n    const verifyRecord = () => {\n      // 实际项目中应该跳转到验证页面或调用验证API\n      console.log('验证笔录:', record.value.id)\n      // router.push(`/record/${record.value.id}/verify`)\n    }\n\n    // 视频全屏\n    const toggleFullscreen = () => {\n      const video = recordVideo.value\n      if (video) {\n        if (video.requestFullscreen) {\n          video.requestFullscreen()\n        } else if (video.webkitRequestFullscreen) {\n          video.webkitRequestFullscreen()\n        } else if (video.msRequestFullscreen) {\n          video.msRequestFullscreen()\n        }\n      }\n    }\n\n    // 格式化日期时间\n    const formatDateTime = (dateString) => {\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    }\n\n    return {\n      record,\n      recordVideo,\n      goBack,\n      goToSearch,\n      editRecord,\n      confirmDelete,\n      deleteRecord,\n      exportRecord,\n      verifyRecord,\n      toggleFullscreen,\n      formatDateTime\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 全局样式优化 */\n.card {\n  border-radius: 0.5rem;\n}\n\n.btn {\n  font-weight: 500;\n}\n\n/* 模态框样式优化 */\n.modal-content {\n  border: none;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n}\n\n/* 印章样式 - 已加密 */\n.seal-stamp {\n  position: relative;\n  width: 100px;\n  height: 100px;\n  background-color: rgba(220, 53, 69, 0.1);\n  border: 2px solid rgba(220, 53, 69, 0.5);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #dc3545;\n  font-weight: bold;\n  transform: rotate(-15deg);\n  animation: pulse 2s infinite;\n  z-index: 1;\n}\n\n/* 印章样式 - 未加密 */\n.seal-stamp-unencrypted {\n  position: relative;\n  width: 100px;\n  height: 100px;\n  background-color: rgba(108, 117, 125, 0.1);\n  border: 2px solid rgba(108, 117, 125, 0.5);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #6c757d;\n  font-weight: bold;\n  transform: rotate(-15deg);\n  z-index: 1;\n}\n\n/* 印章文字 */\n.seal-text {\n  font-size: 1.2rem;\n  z-index: 2;\n}\n\n/* 印章星星 */\n.seal-star {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.seal-star::before {\n  content: '★';\n  position: absolute;\n  top: 15%;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 1rem;\n  animation: rotateStar 4s linear infinite;\n}\n\n/* 印章圆形文字 */\n.seal-circle {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  animation: rotateText 10s linear infinite;\n}\n\n/* 视频播放器样式 */\n.video-container {\n  position: relative;\n  background-color: #000;\n}\n\n.video-container.loading::before {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 50px;\n  height: 50px;\n  border: 5px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: #fff;\n  animation: spin 1s ease-in-out infinite;\n  z-index: 1;\n}\n\n/* 按钮样式优化 */\n.btn-group .btn {\n  margin-left: 0.25rem;\n  margin-right: 0.25rem;\n}\n\n/* 表格样式优化 */\n.table th, .table td {\n  padding: 0.75rem 1rem;\n}\n\n/* 预格式化文本样式 */\npre {\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  margin: 0;\n  font-size: 1rem;\n}\n\n/* 动画效果 */\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(220, 53, 69, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(220, 53, 69, 0);\n  }\n}\n\n@keyframes rotateText {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes rotateStar {\n  0% {\n    transform: translateX(-50%) rotate(0deg);\n  }\n  100% {\n    transform: translateX(-50%) rotate(360deg);\n  }\n}\n\n@keyframes spin {\n  0% {\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n  100% {\n    transform: translate(-50%, -50%) rotate(360deg);\n  }\n}\n\n/* 响应式调整 */\n@media (max-width: 768px) {\n  .video-controls .btn {\n    margin-left: 0;\n    width: 100%;\n  }\n  \n  .video-info {\n    margin-bottom: 12px;\n  }\n  \n  .container-fluid {\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n  \n  .seal-stamp, .seal-stamp-warning, .seal-stamp-unencrypted {\n    width: 80px;\n    height: 80px;\n    font-size: 0.9em;\n  }\n  \n  .seal-text {\n    font-size: 0.8em;\n  }\n  \n  .btn-group {\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n  \n  .btn-group .btn {\n    flex: 1 1 auto;\n    min-width: 120px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}