{"ast":null,"code":"import { ref } from 'vue';\nexport default {\n  name: 'CaseCard',\n  props: {\n    caseItem: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['view-detail', 'edit', 'delete'],\n  setup(props, {\n    emit\n  }) {\n    const showDropdown = ref(false);\n\n    // 切换下拉菜单\n    const toggleDropdown = event => {\n      event.stopPropagation();\n      showDropdown.value = !showDropdown.value;\n    };\n\n    // 查看详情\n    const viewDetail = id => {\n      emit('view-detail', id);\n    };\n\n    // 编辑案件\n    const editCase = caseItem => {\n      emit('edit', caseItem);\n    };\n\n    // 确认删除\n    const confirmDelete = caseItem => {\n      emit('delete', caseItem);\n    };\n\n    // 格式化日期\n    const formatDate = dateString => {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return date.toISOString().split('T')[0];\n    };\n\n    // 格式化日期时间\n    const formatDateTime = dateTimeString => {\n      if (!dateTimeString) return '';\n      const date = new Date(dateTimeString);\n      return `${date.toISOString().split('T')[0]} ${date.toTimeString().split(' ')[0].substring(0, 5)}`;\n    };\n    return {\n      showDropdown,\n      toggleDropdown,\n      viewDetail,\n      editCase,\n      confirmDelete,\n      formatDate,\n      formatDateTime\n    };\n  }\n};","map":{"version":3,"names":["ref","name","props","caseItem","type","Object","required","emits","setup","emit","showDropdown","toggleDropdown","event","stopPropagation","value","viewDetail","id","editCase","confirmDelete","formatDate","dateString","date","Date","toISOString","split","formatDateTime","dateTimeString","toTimeString","substring"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/case/CaseCard.vue"],"sourcesContent":["<template>\n  <div class=\"card shadow-sm h-100 border-0 hover-card\" style=\"position: relative; overflow: visible;\">\n    <div class=\"card-body p-3\" style=\"overflow: visible;\">\n      <!-- 卡片头部：案件名称、状态 -->\n      <div class=\"d-flex justify-content-between align-items-center mb-2\">\n        <div class=\"d-flex align-items-center\">\n          <div class=\"case-icon rounded-circle p-1 me-2\" \n               :class=\"{\n                 'bg-success bg-opacity-10': caseItem.caseType === '民事案件',\n                 'bg-danger bg-opacity-10': caseItem.caseType === '刑事案件',\n                 'bg-info bg-opacity-10': caseItem.caseType === '行政案件',\n                 'bg-primary bg-opacity-10': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n               }\">\n            <i class=\"bi fs-5\" \n               :class=\"{\n                 'bi-people text-success': caseItem.caseType === '民事案件',\n                 'bi-shield-lock text-danger': caseItem.caseType === '刑事案件',\n                 'bi-building text-info': caseItem.caseType === '行政案件',\n                 'bi-folder text-primary': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n               }\"></i>\n          </div>\n          <div>\n            <h6 class=\"card-title mb-0 fw-bold\">{{ caseItem.caseName }}</h6>\n            <div class=\"text-muted small\">{{ caseItem.caseNumber }}</div>\n          </div>\n        </div>\n        <span class=\"badge rounded-pill px-2 py-1 small\" :class=\"{\n          'bg-success': caseItem.status === '已完成' || caseItem.status === '已结案',\n          'bg-warning text-dark': caseItem.status === '进行中',\n          'bg-secondary': caseItem.status !== '已完成' && caseItem.status !== '已结案' && caseItem.status !== '进行中'\n        }\">{{ caseItem.status }}</span>\n      </div>\n      \n      <!-- 案件信息 -->\n      <div class=\"row g-2 mt-2 small\">\n        <div class=\"col-6\">\n          <div class=\"d-flex align-items-center\">\n            <i class=\"bi bi-folder text-primary me-1\"></i>\n            <span class=\"text-muted\">类型:</span> <span class=\"ms-1\">{{ caseItem.caseType }}</span>\n          </div>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"d-flex align-items-center\">\n            <i class=\"bi bi-calendar-date text-success me-1\"></i>\n            <span class=\"text-muted\">立案:</span> <span class=\"ms-1\">{{ formatDate(caseItem.startDate) }}</span>\n          </div>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"d-flex align-items-center\">\n            <i class=\"bi bi-card-text text-info me-1\"></i>\n            <span class=\"text-muted\">笔录:</span> <span class=\"ms-1\">{{ caseItem.recordCount || 0 }}</span>\n          </div>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"d-flex align-items-center\">\n            <i class=\"bi bi-clock-history text-warning me-1\"></i>\n            <span class=\"text-muted\">创建:</span> <span class=\"ms-1\">{{ formatDateTime(caseItem.createdAt) }}</span>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 操作按钮 -->\n      <div class=\"mt-3 pt-2 border-top d-flex justify-content-between\">\n        <button class=\"btn btn-sm btn-primary\" @click.stop=\"viewDetail(caseItem.id)\">\n          <i class=\"bi bi-eye me-1\"></i> 查看\n        </button>\n        <div class=\"dropdown\">\n          <button class=\"btn btn-sm btn-outline-secondary dropdown-toggle\" type=\"button\" @click.stop=\"toggleDropdown\">\n            <i class=\"bi bi-three-dots\"></i> 操作\n          </button>\n          <ul class=\"dropdown-menu dropdown-menu-end\" :class=\"{ 'show': showDropdown }\">\n            <li><a class=\"dropdown-item\" href=\"#\" @click.prevent.stop=\"editCase(caseItem)\"><i class=\"bi bi-pencil me-2\"></i>编辑</a></li>\n            <li><a class=\"dropdown-item\" href=\"#\" @click.prevent.stop=\"confirmDelete(caseItem)\"><i class=\"bi bi-trash me-2\"></i>删除</a></li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\n\nexport default {\n  name: 'CaseCard',\n  props: {\n    caseItem: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['view-detail', 'edit', 'delete'],\n  setup(props, { emit }) {\n    const showDropdown = ref(false)\n    \n    // 切换下拉菜单\n    const toggleDropdown = (event) => {\n      event.stopPropagation()\n      showDropdown.value = !showDropdown.value\n    }\n    \n    // 查看详情\n    const viewDetail = (id) => {\n      emit('view-detail', id)\n    }\n    \n    // 编辑案件\n    const editCase = (caseItem) => {\n      emit('edit', caseItem)\n    }\n    \n    // 确认删除\n    const confirmDelete = (caseItem) => {\n      emit('delete', caseItem)\n    }\n    \n    // 格式化日期\n    const formatDate = (dateString) => {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toISOString().split('T')[0]\n    }\n    \n    // 格式化日期时间\n    const formatDateTime = (dateTimeString) => {\n      if (!dateTimeString) return ''\n      const date = new Date(dateTimeString)\n      return `${date.toISOString().split('T')[0]} ${date.toTimeString().split(' ')[0].substring(0, 5)}`\n    }\n    \n    return {\n      showDropdown,\n      toggleDropdown,\n      viewDetail,\n      editCase,\n      confirmDelete,\n      formatDate,\n      formatDateTime\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 卡片悬停效果 */\n.hover-card {\n  transition: all 0.3s ease;\n  border: none;\n  overflow: hidden;\n  position: relative;\n  z-index: 1; /* 确保卡片有正确的层叠顺序 */\n}\n\n.hover-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15) !important;\n}\n\n.hover-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  height: 100%;\n  background: linear-gradient(to bottom, #4a6cf7, #2651f0);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: -1; /* 确保伪元素不会干扰点击事件 */\n  pointer-events: none; /* 确保伪元素不会捕获点击事件 */\n}\n\n.hover-card:hover::before {\n  opacity: 1;\n}\n\n.case-icon {\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* 下拉菜单样式 */\n.dropdown-menu {\n  min-width: 120px;\n  border: none;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n  padding: 0.5rem 0;\n}\n\n.dropdown-item {\n  padding: 0.5rem 1rem;\n  font-size: 0.875rem;\n}\n\n.dropdown-item:hover {\n  background-color: rgba(74, 108, 247, 0.1);\n}\n\n.dropdown-item i {\n  width: 16px;\n  text-align: center;\n}\n</style>"],"mappings":"AAiFA,SAASA,GAAE,QAAS,KAAI;AAExB,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,aAAa,EAAE,MAAM,EAAE,QAAQ,CAAC;EACxCC,KAAKA,CAACN,KAAK,EAAE;IAAEO;EAAK,CAAC,EAAE;IACrB,MAAMC,YAAW,GAAIV,GAAG,CAAC,KAAK;;IAE9B;IACA,MAAMW,cAAa,GAAKC,KAAK,IAAK;MAChCA,KAAK,CAACC,eAAe,CAAC;MACtBH,YAAY,CAACI,KAAI,GAAI,CAACJ,YAAY,CAACI,KAAI;IACzC;;IAEA;IACA,MAAMC,UAAS,GAAKC,EAAE,IAAK;MACzBP,IAAI,CAAC,aAAa,EAAEO,EAAE;IACxB;;IAEA;IACA,MAAMC,QAAO,GAAKd,QAAQ,IAAK;MAC7BM,IAAI,CAAC,MAAM,EAAEN,QAAQ;IACvB;;IAEA;IACA,MAAMe,aAAY,GAAKf,QAAQ,IAAK;MAClCM,IAAI,CAAC,QAAQ,EAAEN,QAAQ;IACzB;;IAEA;IACA,MAAMgB,UAAS,GAAKC,UAAU,IAAK;MACjC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAC;MACzB,MAAMC,IAAG,GAAI,IAAIC,IAAI,CAACF,UAAU;MAChC,OAAOC,IAAI,CAACE,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IACxC;;IAEA;IACA,MAAMC,cAAa,GAAKC,cAAc,IAAK;MACzC,IAAI,CAACA,cAAc,EAAE,OAAO,EAAC;MAC7B,MAAML,IAAG,GAAI,IAAIC,IAAI,CAACI,cAAc;MACpC,OAAO,GAAGL,IAAI,CAACE,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAIH,IAAI,CAACM,YAAY,CAAC,CAAC,CAACH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACI,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAC;IAClG;IAEA,OAAO;MACLlB,YAAY;MACZC,cAAc;MACdI,UAAU;MACVE,QAAQ;MACRC,aAAa;MACbC,UAAU;MACVM;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}