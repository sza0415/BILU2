{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { Modal } from 'bootstrap';\nimport { getRecordDetail, deleteRecord as apiDeleteRecord, exportRecord } from '@/api/record';\nexport default {\n  name: 'RecordDetail',\n  props: {\n    recordId: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  setup(props) {\n    const router = useRouter();\n    const record = ref({});\n    const recordVideo = ref(null);\n    let deleteModal = null;\n\n    // 模拟数据 - 实际项目中应该从API获取\n    // 使用props.recordId来获取特定的笔录\n    console.log('笔录ID:', props.recordId);\n    const mockRecord = {\n      id: 1,\n      recordName: '张三询问笔录',\n      caseName: '2023年盗窃案',\n      caseNumber: 'A2023001',\n      caseType: '刑事案件',\n      caseStatus: '调查中',\n      inquiryAddress: '北京市公安局海淀分局',\n      assistantName: '李警官',\n      inquirerName: '张三',\n      inquiryId: '110101199001011234',\n      textContent: '问：你叫什么名字？\\n答：我叫张三。\\n\\n问：你是否了解本次询问的目的？\\n答：了解，是关于昨天晚上发生在超市的盗窃案。\\n\\n问：请你详细描述一下当时的情况。\\n答：昨天晚上8点左右，我路过超市，看到一个可疑人员在超市门口徘徊，他穿着黑色外套，戴着帽子，看起来鬼鬼祟祟的。我当时觉得有些不对劲，就多留意了一下。后来看到他趁收银员不注意的时候，拿了一些商品塞进衣服里，然后快速离开了超市。\\n\\n问：你能描述一下那个可疑人员的特征吗？\\n答：他大概175cm左右，中等身材，穿着黑色连帽外套，深色牛仔裤，戴着一顶黑色棒球帽，年龄大约在30岁左右。\\n\\n问：你是否看清了他的面部特征？\\n答：没有看得很清楚，因为他一直低着头，而且帽子遮住了部分面部，但我注意到他有一道明显的疤痕在右侧脸颊。\\n\\n问：事发后你采取了什么行动？\\n答：我立即告知了超市的保安，然后一起报了警。\\n\\n问：你是否愿意在必要时出庭作证？\\n答：是的，我愿意配合警方工作，提供我所看到的情况。',\n      videoFilePath: 'https://example.com/videos/interview_001.mp4',\n      isVerified: true,\n      createdAt: '2023-05-15T14:30:00'\n    };\n\n    // 初始化\n    onMounted(() => {\n      // 获取笔录详情\n      fetchRecordDetail();\n\n      // 初始化删除模态框\n      deleteModal = new Modal(document.getElementById('deleteConfirmModal'));\n    });\n\n    // 获取笔录详情\n    const fetchRecordDetail = async () => {\n      try {\n        const response = await getRecordDetail(props.recordId);\n        if (response.data && response.data.code === 200) {\n          // 适配后端返回的数据格式\n          const data = response.data.data;\n          record.value = {\n            id: props.recordId,\n            recordName: data.record_name,\n            caseName: data.case?.case_name || '未关联案件',\n            caseNumber: data.case?.case_number || '',\n            inquiryTime: data.inquiry_time,\n            inquiryAddress: data.inquiry_address,\n            assistantName: data.assistant_name,\n            inquirerName: data.inquirer_name,\n            inquiryId: data.inquiry_id,\n            textContent: data.text_content,\n            videoFilePath: data.video_file_path || '',\n            isVerified: data.content_hash ? true : false,\n            createdAt: data.inquiry_time\n          };\n        } else {\n          console.error('获取笔录详情失败:', response.data?.message || '未知错误');\n          alert('获取笔录详情失败: ' + (response.data?.message || '未知错误'));\n        }\n      } catch (error) {\n        console.error('获取笔录详情失败:', error);\n        alert('获取笔录详情失败: ' + error.message);\n      }\n    };\n\n    // 返回上一页\n    const goBack = () => {\n      router.back();\n    };\n\n    // 跳转到搜索页面\n    const goToSearch = () => {\n      router.push('/search');\n    };\n\n    // 编辑笔录\n    const editRecord = () => {\n      // 实际项目中应该跳转到编辑页面\n      console.log('编辑笔录:', record.value.id);\n      // router.push(`/record/${record.value.id}/edit`)\n    };\n\n    // 确认删除\n    const confirmDelete = () => {\n      deleteModal.show();\n    };\n\n    // 删除笔录\n    const deleteRecord = () => {\n      // 实际项目中应该调用API删除笔录\n      console.log('删除笔录:', record.value.id);\n\n      // 删除成功后返回搜索页面\n      deleteModal.hide();\n      router.push('/search');\n    };\n\n    // 导出笔录\n    const exportRecord = () => {\n      // 实际项目中应该调用API导出笔录\n      console.log('导出笔录:', record.value.id);\n    };\n\n    // 验证笔录\n    const verifyRecord = () => {\n      // 实际项目中应该跳转到验证页面或调用验证API\n      console.log('验证笔录:', record.value.id);\n      // router.push(`/record/${record.value.id}/verify`)\n    };\n\n    // 视频全屏\n    const toggleFullscreen = () => {\n      const video = recordVideo.value;\n      if (video) {\n        if (video.requestFullscreen) {\n          video.requestFullscreen();\n        } else if (video.webkitRequestFullscreen) {\n          video.webkitRequestFullscreen();\n        } else if (video.msRequestFullscreen) {\n          video.msRequestFullscreen();\n        }\n      }\n    };\n\n    // 格式化日期时间\n    const formatDateTime = dateString => {\n      const date = new Date(dateString);\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    };\n    return {\n      record,\n      recordVideo,\n      goBack,\n      goToSearch,\n      editRecord,\n      confirmDelete,\n      deleteRecord,\n      exportRecord,\n      verifyRecord,\n      toggleFullscreen,\n      formatDateTime\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","Modal","getRecordDetail","deleteRecord","apiDeleteRecord","exportRecord","name","props","recordId","type","Number","String","required","setup","router","record","recordVideo","deleteModal","console","log","mockRecord","id","recordName","caseName","caseNumber","caseType","caseStatus","inquiryAddress","assistantName","inquirerName","inquiryId","textContent","videoFilePath","isVerified","createdAt","fetchRecordDetail","document","getElementById","response","data","code","value","record_name","case","case_name","case_number","inquiryTime","inquiry_time","inquiry_address","assistant_name","inquirer_name","inquiry_id","text_content","video_file_path","content_hash","error","message","alert","goBack","back","goToSearch","push","editRecord","confirmDelete","show","hide","verifyRecord","toggleFullscreen","video","requestFullscreen","webkitRequestFullscreen","msRequestFullscreen","formatDateTime","dateString","date","Date","toLocaleString","year","month","day","hour","minute"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/record/RecordDetail.vue"],"sourcesContent":["<template>\n  <div class=\"record-detail-container\">\n    <div class=\"card shadow-sm mb-4\">\n      <div class=\"card-header bg-primary text-white d-flex justify-content-between align-items-center\">\n        <h4 class=\"mb-0\">\n          <i class=\"bi bi-file-text me-2\"></i> {{ record.recordName }}\n        </h4>\n        <div>\n          <!-- 加密状态印章 -->\n          <div v-if=\"record.isVerified\" class=\"seal-stamp\" title=\"此笔录已加密验证\">\n            <div class=\"seal-text\">已验证</div>\n            <div class=\"seal-star\"></div>\n            <div class=\"seal-circle\">笔录已加密验证·不可篡改·</div>\n          </div>\n          <div v-else class=\"seal-stamp-unencrypted\" title=\"此笔录未加密验证\">\n            <div class=\"seal-text\">未验证</div>\n            <div class=\"seal-star\"></div>\n            <div class=\"seal-circle\">笔录未加密验证·可能被篡改·</div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"card-body\">\n        <div class=\"row mb-4\">\n          <div class=\"col-lg-6 col-md-12 mb-3\">\n            <div class=\"card h-100 border-0 shadow-sm rounded-3 overflow-hidden\">\n              <div class=\"card-header bg-primary bg-opacity-10 text-primary fw-bold border-bottom\">\n                <i class=\"bi bi-person-badge me-2\"></i> 基本信息\n              </div>\n              <div class=\"card-body p-0\">\n                <table class=\"table table-hover align-middle mb-0\">\n                  <tr>\n                    <th class=\"bg-light text-secondary\" style=\"width: 30%\">\n                      <i class=\"bi bi-geo-alt me-2 text-primary\"></i> 询问地点\n                    </th>\n                    <td class=\"fw-medium\">{{ record.inquiryAddress }}</td>\n                  </tr>\n                  <tr>\n                    <th class=\"bg-light text-secondary\">\n                      <i class=\"bi bi-person me-2 text-primary\"></i> 询问员\n                    </th>\n                    <td class=\"fw-medium\">{{ record.assistantName }}</td>\n                  </tr>\n                  <tr>\n                    <th class=\"bg-light text-secondary\">\n                      <i class=\"bi bi-person-circle me-2 text-primary\"></i> 被询问人\n                    </th>\n                    <td class=\"fw-medium\">{{ record.inquirerName }}</td>\n                  </tr>\n                  <tr>\n                    <th class=\"bg-light text-secondary\">\n                      <i class=\"bi bi-credit-card me-2 text-primary\"></i> 身份证号\n                    </th>\n                    <td class=\"fw-medium\">{{ record.inquiryId }}</td>\n                  </tr>\n                </table>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"col-lg-6 col-md-12 mb-3\">\n            <div class=\"card h-100 border-0 shadow-sm rounded-3 overflow-hidden\">\n              <div class=\"card-header bg-info bg-opacity-10 text-info fw-bold border-bottom\">\n                <i class=\"bi bi-info-circle me-2\"></i> 相关信息\n              </div>\n              <div class=\"card-body\">\n                <div class=\"row\">\n                  <div class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-info bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-calendar-event text-info\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">创建时间</small>\n                        <span class=\"fw-medium\">{{ formatDateTime(record.createdAt) }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-info bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-hash text-info\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">记录ID</small>\n                        <span class=\"fw-medium\">{{ record.id }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div v-if=\"record.videoFilePath\" class=\"col-12 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-info bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-file-play text-info\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">视频文件</small>\n                        <span class=\"text-primary fw-medium\">{{ record.videoFilePath }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div v-if=\"record.caseName\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-folder text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">所属案件</small>\n                        <span class=\"fw-medium\">{{ record.caseName }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"record.caseNumber\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-upc text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">案件编号</small>\n                        <span class=\"fw-medium\">{{ record.caseNumber }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"record.caseType\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-tag text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">案件类型</small>\n                        <span class=\"fw-medium\">{{ record.caseType }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div v-if=\"record.caseStatus\" class=\"col-md-6 mb-3\">\n                    <div class=\"d-flex align-items-center\">\n                      <div class=\"bg-primary bg-opacity-10 p-2 rounded-circle me-3\">\n                        <i class=\"bi bi-flag text-primary\"></i>\n                      </div>\n                      <div>\n                        <small class=\"text-muted d-block\">案件状态</small>\n                        <span class=\"fw-medium\">{{ record.caseStatus }}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 视频播放器 -->\n        <div v-if=\"record.videoFilePath\" class=\"mb-4\">\n          <div class=\"card border-0 shadow-sm rounded-3 overflow-hidden\">\n            <div class=\"card-header bg-primary bg-opacity-10 text-primary fw-bold border-bottom\">\n              <i class=\"bi bi-camera-video me-2\"></i> 询问录像\n            </div>\n            <div class=\"card-body\">\n              <div class=\"video-container shadow-sm rounded-3 overflow-hidden\">\n                <video ref=\"recordVideo\" class=\"w-100\" controls preload=\"metadata\" style=\"max-height: 500px; object-fit: contain;\">\n                  <source :src=\"record.videoFilePath\" type=\"video/mp4\">\n                  <p class=\"text-muted mt-3\">\n                    <i class=\"bi bi-exclamation-triangle\"></i> \n                    您的浏览器不支持视频播放，请尝试使用现代浏览器（Chrome、Firefox、Safari等）。\n                  </p>\n                </video>\n              </div>\n              <div class=\"mt-3 d-flex justify-content-between align-items-center\">\n                <div class=\"video-info\">\n                  <div class=\"d-flex align-items-center\">\n                    <i class=\"bi bi-file-play text-primary me-2\"></i>\n                    <div>\n                      <small class=\"text-muted d-block\">视频文件路径</small>\n                      <span class=\"text-primary\">{{ record.videoFilePath }}</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"video-controls\">\n                  <button type=\"button\" class=\"btn btn-primary rounded-pill shadow-sm px-3\" @click=\"toggleFullscreen\">\n                    <i class=\"bi bi-fullscreen me-1\"></i> 全屏播放\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 笔录内容 -->\n        <div class=\"card border-0 shadow-sm rounded-3 overflow-hidden mb-4\">\n          <div class=\"card-header bg-primary bg-opacity-10 text-primary fw-bold border-bottom\">\n            <i class=\"bi bi-file-text me-2\"></i> 笔录内容\n          </div>\n          <div class=\"card-body\">\n            <div class=\"bg-light p-3 rounded-3 shadow-sm\" style=\"max-height: 600px; overflow-y: auto;\">\n              <pre class=\"mb-0\" style=\"white-space: pre-wrap; font-family: 'Noto Sans SC', sans-serif; line-height: 1.6; font-size: 1rem;\">{{ record.textContent }}</pre>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"card-footer bg-light\">\n        <div class=\"row\">\n          <div class=\"col-md-4 mb-2 mb-md-0\">\n            <div class=\"d-grid gap-2 d-md-flex\">\n              <button @click=\"goBack\" class=\"btn btn-light shadow-sm rounded-pill px-4\">\n                <i class=\"bi bi-arrow-left me-1\"></i> 返回\n              </button>\n              <button @click=\"goToSearch\" class=\"btn btn-outline-primary rounded-pill px-4\">\n                <i class=\"bi bi-list me-1\"></i> 所有笔录\n              </button>\n            </div>\n          </div>\n          <div class=\"col-md-4 mb-2 mb-md-0 text-md-center\">\n            <div class=\"d-grid gap-2 d-md-flex justify-content-md-center\">\n              <button @click=\"editRecord\" class=\"btn btn-warning rounded-pill shadow-sm px-3\">\n                <i class=\"bi bi-pencil me-1\"></i> 修改笔录\n              </button>\n              <button @click=\"confirmDelete\" class=\"btn btn-danger rounded-pill shadow-sm px-3\">\n                <i class=\"bi bi-trash me-1\"></i> 删除笔录\n              </button>\n            </div>\n          </div>\n          <div class=\"col-md-4 text-md-end\">\n            <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n              <button @click=\"exportRecord\" class=\"btn btn-success rounded-pill shadow-sm px-3\">\n                <i class=\"bi bi-file-earmark-word me-1\"></i> 导出笔录\n              </button>\n              <button @click=\"verifyRecord\" class=\"btn btn-primary rounded-pill shadow-sm px-4\">\n                <i class=\"bi bi-shield-check me-1\"></i> 验证笔录\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 删除确认模态框 -->\n    <div class=\"modal fade\" id=\"deleteConfirmModal\" tabindex=\"-1\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-centered\">\n        <div class=\"modal-content border-0 shadow rounded-4 overflow-hidden\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 class=\"modal-title fw-bold\">\n              <i class=\"bi bi-exclamation-triangle-fill me-2\"></i>确认删除\n            </h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body py-4\">\n            <div class=\"d-flex align-items-center mb-3\">\n              <div class=\"bg-danger bg-opacity-10 p-3 rounded-circle me-3\">\n                <i class=\"bi bi-trash text-danger fs-3\"></i>\n              </div>\n              <div>\n                <h5>您确定要删除以下笔录吗？</h5>\n                <p class=\"fw-bold fs-5 mb-0\">{{ record.recordName }}</p>\n              </div>\n            </div>\n            <div class=\"alert alert-warning border-0 shadow-sm\">\n              <i class=\"bi bi-info-circle-fill me-2\"></i>\n              <strong>警告：</strong>此操作不可逆，删除后数据将无法恢复！\n            </div>\n          </div>\n          <div class=\"modal-footer border-top-0\">\n            <button type=\"button\" class=\"btn btn-light rounded-pill px-4\" data-bs-dismiss=\"modal\">\n              <i class=\"bi bi-x-circle me-1\"></i>取消\n            </button>\n            <button type=\"button\" class=\"btn btn-danger rounded-pill px-4 shadow-sm\" @click=\"deleteRecord\">\n              <i class=\"bi bi-trash me-1\"></i>确认删除\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { Modal } from 'bootstrap'\nimport { getRecordDetail, deleteRecord as apiDeleteRecord, exportRecord } from '@/api/record'\n\nexport default {\n  name: 'RecordDetail',\n  props: {\n    recordId: {\n      type: [Number, String],\n      required: true\n    }\n  },\n  setup(props) {\n    const router = useRouter()\n    const record = ref({})\n    const recordVideo = ref(null)\n    let deleteModal = null\n\n    // 模拟数据 - 实际项目中应该从API获取\n    // 使用props.recordId来获取特定的笔录\n    console.log('笔录ID:', props.recordId)\n    \n    const mockRecord = {\n      id: 1,\n      recordName: '张三询问笔录',\n      caseName: '2023年盗窃案',\n      caseNumber: 'A2023001',\n      caseType: '刑事案件',\n      caseStatus: '调查中',\n      inquiryAddress: '北京市公安局海淀分局',\n      assistantName: '李警官',\n      inquirerName: '张三',\n      inquiryId: '110101199001011234',\n      textContent: '问：你叫什么名字？\\n答：我叫张三。\\n\\n问：你是否了解本次询问的目的？\\n答：了解，是关于昨天晚上发生在超市的盗窃案。\\n\\n问：请你详细描述一下当时的情况。\\n答：昨天晚上8点左右，我路过超市，看到一个可疑人员在超市门口徘徊，他穿着黑色外套，戴着帽子，看起来鬼鬼祟祟的。我当时觉得有些不对劲，就多留意了一下。后来看到他趁收银员不注意的时候，拿了一些商品塞进衣服里，然后快速离开了超市。\\n\\n问：你能描述一下那个可疑人员的特征吗？\\n答：他大概175cm左右，中等身材，穿着黑色连帽外套，深色牛仔裤，戴着一顶黑色棒球帽，年龄大约在30岁左右。\\n\\n问：你是否看清了他的面部特征？\\n答：没有看得很清楚，因为他一直低着头，而且帽子遮住了部分面部，但我注意到他有一道明显的疤痕在右侧脸颊。\\n\\n问：事发后你采取了什么行动？\\n答：我立即告知了超市的保安，然后一起报了警。\\n\\n问：你是否愿意在必要时出庭作证？\\n答：是的，我愿意配合警方工作，提供我所看到的情况。',\n      videoFilePath: 'https://example.com/videos/interview_001.mp4',\n      isVerified: true,\n      createdAt: '2023-05-15T14:30:00'\n    }\n\n    // 初始化\n    onMounted(() => {\n      // 获取笔录详情\n      fetchRecordDetail()\n      \n      // 初始化删除模态框\n      deleteModal = new Modal(document.getElementById('deleteConfirmModal'))\n    })\n\n    // 获取笔录详情\n    const fetchRecordDetail = async () => {\n      try {\n        const response = await getRecordDetail(props.recordId)\n        if (response.data && response.data.code === 200) {\n          // 适配后端返回的数据格式\n          const data = response.data.data\n          record.value = {\n            id: props.recordId,\n            recordName: data.record_name,\n            caseName: data.case?.case_name || '未关联案件',\n            caseNumber: data.case?.case_number || '',\n            inquiryTime: data.inquiry_time,\n            inquiryAddress: data.inquiry_address,\n            assistantName: data.assistant_name,\n            inquirerName: data.inquirer_name,\n            inquiryId: data.inquiry_id,\n            textContent: data.text_content,\n            videoFilePath: data.video_file_path || '',\n            isVerified: data.content_hash ? true : false,\n            createdAt: data.inquiry_time\n          }\n        } else {\n          console.error('获取笔录详情失败:', response.data?.message || '未知错误')\n          alert('获取笔录详情失败: ' + (response.data?.message || '未知错误'))\n        }\n      } catch (error) {\n        console.error('获取笔录详情失败:', error)\n        alert('获取笔录详情失败: ' + error.message)\n      }\n    }\n\n    // 返回上一页\n    const goBack = () => {\n      router.back()\n    }\n\n    // 跳转到搜索页面\n    const goToSearch = () => {\n      router.push('/search')\n    }\n\n    // 编辑笔录\n    const editRecord = () => {\n      // 实际项目中应该跳转到编辑页面\n      console.log('编辑笔录:', record.value.id)\n      // router.push(`/record/${record.value.id}/edit`)\n    }\n\n    // 确认删除\n    const confirmDelete = () => {\n      deleteModal.show()\n    }\n\n    // 删除笔录\n    const deleteRecord = () => {\n      // 实际项目中应该调用API删除笔录\n      console.log('删除笔录:', record.value.id)\n      \n      // 删除成功后返回搜索页面\n      deleteModal.hide()\n      router.push('/search')\n    }\n\n    // 导出笔录\n    const exportRecord = () => {\n      // 实际项目中应该调用API导出笔录\n      console.log('导出笔录:', record.value.id)\n    }\n\n    // 验证笔录\n    const verifyRecord = () => {\n      // 实际项目中应该跳转到验证页面或调用验证API\n      console.log('验证笔录:', record.value.id)\n      // router.push(`/record/${record.value.id}/verify`)\n    }\n\n    // 视频全屏\n    const toggleFullscreen = () => {\n      const video = recordVideo.value\n      if (video) {\n        if (video.requestFullscreen) {\n          video.requestFullscreen()\n        } else if (video.webkitRequestFullscreen) {\n          video.webkitRequestFullscreen()\n        } else if (video.msRequestFullscreen) {\n          video.msRequestFullscreen()\n        }\n      }\n    }\n\n    // 格式化日期时间\n    const formatDateTime = (dateString) => {\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit'\n      })\n    }\n\n    return {\n      record,\n      recordVideo,\n      goBack,\n      goToSearch,\n      editRecord,\n      confirmDelete,\n      deleteRecord,\n      exportRecord,\n      verifyRecord,\n      toggleFullscreen,\n      formatDateTime\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 全局样式优化 */\n.card {\n  border-radius: 0.5rem;\n}\n\n.btn {\n  font-weight: 500;\n}\n\n/* 模态框样式优化 */\n.modal-content {\n  border: none;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n}\n\n/* 印章样式 - 已加密 */\n.seal-stamp {\n  position: relative;\n  width: 100px;\n  height: 100px;\n  background-color: rgba(220, 53, 69, 0.1);\n  border: 2px solid rgba(220, 53, 69, 0.5);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #dc3545;\n  font-weight: bold;\n  transform: rotate(-15deg);\n  animation: pulse 2s infinite;\n  z-index: 1;\n}\n\n/* 印章样式 - 未加密 */\n.seal-stamp-unencrypted {\n  position: relative;\n  width: 100px;\n  height: 100px;\n  background-color: rgba(108, 117, 125, 0.1);\n  border: 2px solid rgba(108, 117, 125, 0.5);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #6c757d;\n  font-weight: bold;\n  transform: rotate(-15deg);\n  z-index: 1;\n}\n\n/* 印章文字 */\n.seal-text {\n  font-size: 1.2rem;\n  z-index: 2;\n}\n\n/* 印章星星 */\n.seal-star {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.seal-star::before {\n  content: '★';\n  position: absolute;\n  top: 15%;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 1rem;\n  animation: rotateStar 4s linear infinite;\n}\n\n/* 印章圆形文字 */\n.seal-circle {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  animation: rotateText 10s linear infinite;\n}\n\n/* 视频播放器样式 */\n.video-container {\n  position: relative;\n  background-color: #000;\n}\n\n.video-container.loading::before {\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 50px;\n  height: 50px;\n  border: 5px solid rgba(255, 255, 255, 0.3);\n  border-radius: 50%;\n  border-top-color: #fff;\n  animation: spin 1s ease-in-out infinite;\n  z-index: 1;\n}\n\n/* 按钮样式优化 */\n.btn-group .btn {\n  margin-left: 0.25rem;\n  margin-right: 0.25rem;\n}\n\n/* 表格样式优化 */\n.table th, .table td {\n  padding: 0.75rem 1rem;\n}\n\n/* 预格式化文本样式 */\npre {\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  margin: 0;\n  font-size: 1rem;\n}\n\n/* 动画效果 */\n@keyframes pulse {\n  0% {\n    box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.4);\n  }\n  70% {\n    box-shadow: 0 0 0 10px rgba(220, 53, 69, 0);\n  }\n  100% {\n    box-shadow: 0 0 0 0 rgba(220, 53, 69, 0);\n  }\n}\n\n@keyframes rotateText {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes rotateStar {\n  0% {\n    transform: translateX(-50%) rotate(0deg);\n  }\n  100% {\n    transform: translateX(-50%) rotate(360deg);\n  }\n}\n\n@keyframes spin {\n  0% {\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n  100% {\n    transform: translate(-50%, -50%) rotate(360deg);\n  }\n}\n\n/* 响应式调整 */\n@media (max-width: 768px) {\n  .video-controls .btn {\n    margin-left: 0;\n    width: 100%;\n  }\n  \n  .video-info {\n    margin-bottom: 12px;\n  }\n  \n  .container-fluid {\n    padding-left: 10px;\n    padding-right: 10px;\n  }\n  \n  .seal-stamp, .seal-stamp-warning, .seal-stamp-unencrypted {\n    width: 80px;\n    height: 80px;\n    font-size: 0.9em;\n  }\n  \n  .seal-text {\n    font-size: 0.8em;\n  }\n  \n  .btn-group {\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n  \n  .btn-group .btn {\n    flex: 1 1 auto;\n    min-width: 120px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}