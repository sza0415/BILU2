{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"record-detail\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid py-3\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"d-flex justify-content-center align-items-center\",\n  style: {\n    \"min-height\": \"300px\"\n  }\n};\nconst _hoisted_4 = {\n  class: \"alert alert-danger\"\n};\nconst _hoisted_5 = {\n  class: \"row\"\n};\nconst _hoisted_6 = {\n  class: \"col-md-12 mb-4\"\n};\nconst _hoisted_7 = {\n  class: \"card shadow-sm\"\n};\nconst _hoisted_8 = {\n  class: \"card-header bg-primary bg-gradient text-white d-flex justify-content-between align-items-center\"\n};\nconst _hoisted_9 = {\n  class: \"mb-0\"\n};\nconst _hoisted_10 = {\n  class: \"badge bg-light text-dark\"\n};\nconst _hoisted_11 = {\n  class: \"card-body\"\n};\nconst _hoisted_12 = {\n  class: \"row\"\n};\nconst _hoisted_13 = {\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_14 = {\n  class: \"d-flex\"\n};\nconst _hoisted_15 = {\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_16 = {\n  class: \"d-flex\"\n};\nconst _hoisted_17 = {\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_18 = {\n  class: \"d-flex\"\n};\nconst _hoisted_19 = {\n  class: \"badge bg-info text-dark me-1\"\n};\nconst _hoisted_20 = {\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_21 = {\n  class: \"d-flex\"\n};\nconst _hoisted_22 = {\n  class: \"badge bg-secondary me-1\"\n};\nconst _hoisted_23 = {\n  key: 0,\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_24 = {\n  class: \"d-flex\"\n};\nconst _hoisted_25 = {\n  class: \"badge bg-warning text-dark\"\n};\nconst _hoisted_26 = {\n  key: 1,\n  class: \"col-md-6 mb-3\"\n};\nconst _hoisted_27 = {\n  class: \"d-flex\"\n};\nconst _hoisted_28 = {\n  key: 0,\n  class: \"col-md-12 mb-4\"\n};\nconst _hoisted_29 = {\n  class: \"card shadow-sm\"\n};\nconst _hoisted_30 = {\n  class: \"card-body p-0 position-relative\"\n};\nconst _hoisted_31 = {\n  class: \"ratio ratio-16x9\"\n};\nconst _hoisted_32 = {\n  ref: \"videoPlayer\",\n  class: \"video-player\",\n  controls: \"\"\n};\nconst _hoisted_33 = [\"src\"];\nconst _hoisted_34 = {\n  class: \"col-md-12 mb-4\"\n};\nconst _hoisted_35 = {\n  class: \"card shadow-sm\"\n};\nconst _hoisted_36 = {\n  class: \"card-body\"\n};\nconst _hoisted_37 = {\n  class: \"record-content-container\"\n};\nconst _hoisted_38 = {\n  class: \"record-content\"\n};\nconst _hoisted_39 = {\n  class: \"col-md-12 mb-4\"\n};\nconst _hoisted_40 = {\n  class: \"d-flex flex-wrap gap-2\"\n};\nconst _hoisted_41 = {\n  class: \"modal fade\",\n  id: \"deleteConfirmModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"deleteConfirmModalLabel\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_42 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_43 = {\n  class: \"modal-content\"\n};\nconst _hoisted_44 = {\n  class: \"modal-body\"\n};\nconst _hoisted_45 = {\n  class: \"modal-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 加载状态 \"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _cache[8] || (_cache[8] = [_createElementVNode(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"visually-hidden\"\n  }, \"加载中...\")], -1 /* CACHED */)]))) : $data.error ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 加载失败 \"), _createElementVNode(\"div\", _hoisted_4, [_cache[9] || (_cache[9] = _createElementVNode(\"i\", {\n    class: \"bi bi-exclamation-triangle-fill me-2\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.error), 1 /* TEXT */)])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : $data.record ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" 笔录详情 \"), _createElementVNode(\"div\", _hoisted_5, [_createCommentVNode(\" 笔录信息卡片 \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h5\", _hoisted_9, [_cache[10] || (_cache[10] = _createElementVNode(\"i\", {\n    class: \"bi bi-file-text me-2\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.record.recordName), 1 /* TEXT */)]), _createElementVNode(\"span\", _hoisted_10, [_cache[11] || (_cache[11] = _createElementVNode(\"i\", {\n    class: \"bi bi-hash me-1\"\n  }, null, -1 /* CACHED */)), _createTextVNode(_toDisplayString($data.record.id), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"text-muted me-2\"\n  }, \"询问时间：\", -1 /* CACHED */)), _createElementVNode(\"div\", null, _toDisplayString($options.formatDateTime($data.record.inquiryTime)), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n    class: \"text-muted me-2\"\n  }, \"询问地点：\", -1 /* CACHED */)), _createElementVNode(\"div\", null, _toDisplayString($data.record.inquiryAddress), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_cache[15] || (_cache[15] = _createElementVNode(\"div\", {\n    class: \"text-muted me-2\"\n  }, \"询问员：\", -1 /* CACHED */)), _createElementVNode(\"div\", null, [_createElementVNode(\"span\", _hoisted_19, [_cache[14] || (_cache[14] = _createElementVNode(\"i\", {\n    class: \"bi bi-person-fill me-1\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.record.assistantName), 1 /* TEXT */)])])])]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_cache[17] || (_cache[17] = _createElementVNode(\"div\", {\n    class: \"text-muted me-2\"\n  }, \"被询问人：\", -1 /* CACHED */)), _createElementVNode(\"div\", null, [_createElementVNode(\"span\", _hoisted_22, [_cache[16] || (_cache[16] = _createElementVNode(\"i\", {\n    class: \"bi bi-person me-1\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.record.inquirerName), 1 /* TEXT */)])])])]), $data.record.caseId ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"text-muted me-2\"\n  }, \"关联案件：\", -1 /* CACHED */)), _createElementVNode(\"div\", null, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers($event => $options.viewCase($data.record.caseId), [\"prevent\"])),\n    class: \"text-decoration-none\"\n  }, [_createElementVNode(\"span\", _hoisted_25, [_cache[18] || (_cache[18] = _createElementVNode(\"i\", {\n    class: \"bi bi-folder me-1\"\n  }, null, -1 /* CACHED */)), _createTextVNode(\" \" + _toDisplayString($data.record.caseName || $data.record.caseId), 1 /* TEXT */)])])])])])) : _createCommentVNode(\"v-if\", true), $data.record.createdTime ? (_openBlock(), _createElementBlock(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n    class: \"text-muted me-2\"\n  }, \"创建时间：\", -1 /* CACHED */)), _createElementVNode(\"div\", null, _toDisplayString($options.formatDateTime($data.record.createdTime)), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)])])])]), _createCommentVNode(\" 视频播放器 (如果有视频) \"), $data.record.videoPath ? (_openBlock(), _createElementBlock(\"div\", _hoisted_28, [_createElementVNode(\"div\", _hoisted_29, [_cache[23] || (_cache[23] = _createElementVNode(\"div\", {\n    class: \"card-header bg-dark text-white\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-camera-video me-2\"\n  }), _createTextVNode(\"询问视频 \")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"video\", _hoisted_32, [_createElementVNode(\"source\", {\n    src: $data.record.videoPath,\n    type: \"video/mp4\"\n  }, null, 8 /* PROPS */, _hoisted_33), _cache[21] || (_cache[21] = _createTextVNode(\" 您的浏览器不支持视频播放 \"))], 512 /* NEED_PATCH */)]), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleFullscreen && $options.toggleFullscreen(...args)),\n    class: \"btn btn-sm btn-light position-absolute top-0 end-0 m-2\"\n  }, _cache[22] || (_cache[22] = [_createElementVNode(\"i\", {\n    class: \"bi bi-fullscreen\"\n  }, null, -1 /* CACHED */)]))])])])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 笔录内容 \"), _createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"div\", _hoisted_35, [_cache[24] || (_cache[24] = _createElementVNode(\"div\", {\n    class: \"card-header bg-light\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-file-text me-2\"\n  }), _createTextVNode(\"笔录内容 \")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"pre\", _hoisted_38, _toDisplayString($data.record.recordContent), 1 /* TEXT */)])])])]), _createCommentVNode(\" 操作按钮 \"), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.goBack && $options.goBack(...args)),\n    class: \"btn btn-secondary\"\n  }, _cache[25] || (_cache[25] = [_createElementVNode(\"i\", {\n    class: \"bi bi-arrow-left me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"返回 \")])), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.editRecord && $options.editRecord(...args)),\n    class: \"btn btn-warning\"\n  }, _cache[26] || (_cache[26] = [_createElementVNode(\"i\", {\n    class: \"bi bi-pencil me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"编辑 \")])), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.confirmDelete && $options.confirmDelete(...args)),\n    class: \"btn btn-danger\"\n  }, _cache[27] || (_cache[27] = [_createElementVNode(\"i\", {\n    class: \"bi bi-trash me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"删除 \")])), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.exportRecord && $options.exportRecord(...args)),\n    class: \"btn btn-success\"\n  }, _cache[28] || (_cache[28] = [_createElementVNode(\"i\", {\n    class: \"bi bi-file-earmark-word me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"导出Word \")])), _createElementVNode(\"button\", {\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.verifyRecord && $options.verifyRecord(...args)),\n    class: \"btn btn-info\"\n  }, _cache[29] || (_cache[29] = [_createElementVNode(\"i\", {\n    class: \"bi bi-shield-check me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"验证 \")]))])])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 3\n  }, [_createCommentVNode(\" 记录不存在 \"), _cache[30] || (_cache[30] = _createElementVNode(\"div\", {\n    class: \"alert alert-warning\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-exclamation-circle me-2\"\n  }), _createTextVNode(\" 未找到笔录记录 \")], -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]), _createCommentVNode(\" 删除确认模态框 \"), _createElementVNode(\"div\", _hoisted_41, [_createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"div\", _hoisted_43, [_cache[36] || (_cache[36] = _createElementVNode(\"div\", {\n    class: \"modal-header bg-danger text-white\"\n  }, [_createElementVNode(\"h5\", {\n    class: \"modal-title\",\n    id: \"deleteConfirmModalLabel\"\n  }, \"确认删除\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close btn-close-white\",\n    \"data-bs-dismiss\": \"modal\",\n    \"aria-label\": \"Close\"\n  })], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_44, [_createElementVNode(\"p\", null, [_cache[31] || (_cache[31] = _createTextVNode(\"您确定要删除笔录 \")), _createElementVNode(\"strong\", null, _toDisplayString($data.record?.recordName), 1 /* TEXT */), _cache[32] || (_cache[32] = _createTextVNode(\" 吗？\"))]), _cache[33] || (_cache[33] = _createElementVNode(\"p\", {\n    class: \"text-danger\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-exclamation-triangle-fill me-2\"\n  }), _createTextVNode(\" 此操作不可逆，删除后数据将无法恢复！ \")], -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_45, [_cache[35] || (_cache[35] = _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    \"data-bs-dismiss\": \"modal\"\n  }, \"取消\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-danger\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.deleteRecord && $options.deleteRecord(...args))\n  }, _cache[34] || (_cache[34] = [_createElementVNode(\"i\", {\n    class: \"bi bi-trash me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"确认删除 \")]))])])])])]);\n}","map":{"version":3,"names":["class","style","ref","controls","id","tabindex","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","$data","loading","_hoisted_3","_cache","role","error","_Fragment","key","_hoisted_4","_toDisplayString","record","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","recordName","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","$options","formatDateTime","inquiryTime","_hoisted_15","_hoisted_16","inquiryAddress","_hoisted_17","_hoisted_18","_hoisted_19","assistantName","_hoisted_20","_hoisted_21","_hoisted_22","inquirerName","caseId","_hoisted_23","_hoisted_24","href","onClick","_withModifiers","$event","viewCase","_hoisted_25","caseName","createdTime","_hoisted_26","_hoisted_27","videoPath","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","src","type","args","toggleFullscreen","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","recordContent","_hoisted_39","_hoisted_40","goBack","editRecord","confirmDelete","exportRecord","verifyRecord","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","deleteRecord"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/record/RecordDetail.vue"],"sourcesContent":["<template>\n  <div class=\"record-detail\">\n    <div class=\"container-fluid py-3\">\n      <!-- 加载状态 -->\n      <div v-if=\"loading\" class=\"d-flex justify-content-center align-items-center\" style=\"min-height: 300px;\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">加载中...</span>\n        </div>\n      </div>\n      \n      <!-- 加载失败 -->\n      <div v-else-if=\"error\" class=\"alert alert-danger\">\n        <i class=\"bi bi-exclamation-triangle-fill me-2\"></i>\n        {{ error }}\n      </div>\n      \n      <!-- 笔录详情 -->\n      <div v-else-if=\"record\" class=\"row\">\n        <!-- 笔录信息卡片 -->\n        <div class=\"col-md-12 mb-4\">\n          <div class=\"card shadow-sm\">\n            <div class=\"card-header bg-primary bg-gradient text-white d-flex justify-content-between align-items-center\">\n              <h5 class=\"mb-0\">\n                <i class=\"bi bi-file-text me-2\"></i>\n                {{ record.recordName }}\n              </h5>\n              <span class=\"badge bg-light text-dark\">\n                <i class=\"bi bi-hash me-1\"></i>{{ record.id }}\n              </span>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"row\">\n                <div class=\"col-md-6 mb-3\">\n                  <div class=\"d-flex\">\n                    <div class=\"text-muted me-2\">询问时间：</div>\n                    <div>{{ formatDateTime(record.inquiryTime) }}</div>\n                  </div>\n                </div>\n                <div class=\"col-md-6 mb-3\">\n                  <div class=\"d-flex\">\n                    <div class=\"text-muted me-2\">询问地点：</div>\n                    <div>{{ record.inquiryAddress }}</div>\n                  </div>\n                </div>\n                <div class=\"col-md-6 mb-3\">\n                  <div class=\"d-flex\">\n                    <div class=\"text-muted me-2\">询问员：</div>\n                    <div>\n                      <span class=\"badge bg-info text-dark me-1\">\n                        <i class=\"bi bi-person-fill me-1\"></i>\n                        {{ record.assistantName }}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-6 mb-3\">\n                  <div class=\"d-flex\">\n                    <div class=\"text-muted me-2\">被询问人：</div>\n                    <div>\n                      <span class=\"badge bg-secondary me-1\">\n                        <i class=\"bi bi-person me-1\"></i>\n                        {{ record.inquirerName }}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-6 mb-3\" v-if=\"record.caseId\">\n                  <div class=\"d-flex\">\n                    <div class=\"text-muted me-2\">关联案件：</div>\n                    <div>\n                      <a href=\"#\" @click.prevent=\"viewCase(record.caseId)\" class=\"text-decoration-none\">\n                        <span class=\"badge bg-warning text-dark\">\n                          <i class=\"bi bi-folder me-1\"></i>\n                          {{ record.caseName || record.caseId }}\n                        </span>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col-md-6 mb-3\" v-if=\"record.createdTime\">\n                  <div class=\"d-flex\">\n                    <div class=\"text-muted me-2\">创建时间：</div>\n                    <div>{{ formatDateTime(record.createdTime) }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 视频播放器 (如果有视频) -->\n        <div class=\"col-md-12 mb-4\" v-if=\"record.videoPath\">\n          <div class=\"card shadow-sm\">\n            <div class=\"card-header bg-dark text-white\">\n              <i class=\"bi bi-camera-video me-2\"></i>询问视频\n            </div>\n            <div class=\"card-body p-0 position-relative\">\n              <div class=\"ratio ratio-16x9\">\n                <video ref=\"videoPlayer\" class=\"video-player\" controls>\n                  <source :src=\"record.videoPath\" type=\"video/mp4\">\n                  您的浏览器不支持视频播放\n                </video>\n              </div>\n              <button @click=\"toggleFullscreen\" class=\"btn btn-sm btn-light position-absolute top-0 end-0 m-2\">\n                <i class=\"bi bi-fullscreen\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 笔录内容 -->\n        <div class=\"col-md-12 mb-4\">\n          <div class=\"card shadow-sm\">\n            <div class=\"card-header bg-light\">\n              <i class=\"bi bi-file-text me-2\"></i>笔录内容\n            </div>\n            <div class=\"card-body\">\n              <div class=\"record-content-container\">\n                <pre class=\"record-content\">{{ record.recordContent }}</pre>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 操作按钮 -->\n        <div class=\"col-md-12 mb-4\">\n          <div class=\"d-flex flex-wrap gap-2\">\n            <button @click=\"goBack\" class=\"btn btn-secondary\">\n              <i class=\"bi bi-arrow-left me-1\"></i>返回\n            </button>\n            <button @click=\"editRecord\" class=\"btn btn-warning\">\n              <i class=\"bi bi-pencil me-1\"></i>编辑\n            </button>\n            <button @click=\"confirmDelete\" class=\"btn btn-danger\">\n              <i class=\"bi bi-trash me-1\"></i>删除\n            </button>\n            <button @click=\"exportRecord\" class=\"btn btn-success\">\n              <i class=\"bi bi-file-earmark-word me-1\"></i>导出Word\n            </button>\n            <button @click=\"verifyRecord\" class=\"btn btn-info\">\n              <i class=\"bi bi-shield-check me-1\"></i>验证\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 记录不存在 -->\n      <div v-else class=\"alert alert-warning\">\n        <i class=\"bi bi-exclamation-circle me-2\"></i>\n        未找到笔录记录\n      </div>\n    </div>\n    \n    <!-- 删除确认模态框 -->\n    <div class=\"modal fade\" id=\"deleteConfirmModal\" tabindex=\"-1\" aria-labelledby=\"deleteConfirmModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 class=\"modal-title\" id=\"deleteConfirmModalLabel\">确认删除</h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <p>您确定要删除笔录 <strong>{{ record?.recordName }}</strong> 吗？</p>\n            <p class=\"text-danger\">\n              <i class=\"bi bi-exclamation-triangle-fill me-2\"></i>\n              此操作不可逆，删除后数据将无法恢复！\n            </p>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteRecord\">\n              <i class=\"bi bi-trash me-1\"></i>确认删除\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getRecordDetail, deleteRecord, exportRecord as exportRecordApi } from '@/api/record'\nimport { Modal } from 'bootstrap'\n\nexport default {\n  name: 'RecordDetail',\n  props: {\n    // 笔录ID\n    recordId: {\n      type: [String, Number],\n      required: true\n    }\n  },\n  data() {\n    return {\n      record: null,\n      loading: true,\n      error: null,\n      deleteModal: null\n    }\n  },\n  mounted() {\n    // 初始化删除确认模态框\n    this.deleteModal = new Modal(document.getElementById('deleteConfirmModal'))\n    \n    // 加载笔录详情\n    this.loadRecordDetail()\n  },\n  methods: {\n    // 加载笔录详情\n    async loadRecordDetail() {\n      this.loading = true\n      this.error = null\n      \n      try {\n        const response = await getRecordDetail(this.recordId)\n        if (response.data && response.data.code === 200) {\n          // 处理后端返回的数据格式\n          const data = response.data.data\n          this.record = {\n            id: data.record_id,\n            recordName: data.record_name,\n            inquiryTime: data.inquiry_time,\n            inquiryAddress: data.inquiry_address,\n            assistantName: data.assistant_name,\n            inquirerName: data.inquirer_name,\n            inquiryId: data.inquiry_id,\n            recordContent: data.text_content,\n            videoPath: data.video_file_path,\n            createdTime: data.created_at\n          }\n          \n          // 处理案件信息（如果存在）\n          if (data.case) {\n            this.record.caseId = data.case.case_id\n            this.record.caseName = data.case.case_name\n          }\n        } else {\n          this.error = response.data?.message || '加载笔录详情失败'\n        }\n      } catch (error) {\n        console.error('加载笔录详情失败:', error)\n        this.error = error.message || '加载笔录详情失败'\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    // 返回上一页\n    goBack() {\n      this.$router.back()\n    },\n    \n    // 编辑笔录\n    editRecord() {\n      this.$router.push(`/record/edit/${this.recordId}`)\n    },\n    \n    // 确认删除\n    confirmDelete() {\n      this.deleteModal.show()\n    },\n    \n    // 删除笔录\n    async deleteRecord() {\n      try {\n        await deleteRecord(this.recordId)\n        \n        // 关闭模态框\n        this.deleteModal.hide()\n        \n        // 显示成功消息\n        this.$bvToast?.toast('笔录删除成功', {\n          title: '操作成功',\n          variant: 'success',\n          solid: true\n        })\n        \n        // 返回列表页\n        this.$router.push('/record')\n      } catch (error) {\n        console.error('删除笔录失败:', error)\n        this.$bvToast?.toast(`删除失败: ${error.message || '未知错误'}`, {\n          title: '操作失败',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 导出笔录为Word文档\n    async exportRecord() {\n      try {\n        const response = await exportRecordApi(this.recordId)\n        \n        // 创建Blob对象\n        const blob = new Blob([response.data], { type: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document' })\n        \n        // 创建下载链接\n        const link = document.createElement('a')\n        link.href = URL.createObjectURL(blob)\n        link.download = `${this.record.recordName || '笔录'}_${this.recordId}.docx`\n        link.click()\n        \n        // 释放URL对象\n        URL.revokeObjectURL(link.href)\n      } catch (error) {\n        console.error('导出笔录失败:', error)\n        this.$bvToast?.toast(`导出失败: ${error.message || '未知错误'}`, {\n          title: '操作失败',\n          variant: 'danger',\n          solid: true\n        })\n      }\n    },\n    \n    // 验证笔录\n    verifyRecord() {\n      this.$router.push(`/record/verify/${this.recordId}`)\n    },\n    \n    // 查看关联案件\n    viewCase(caseId) {\n      this.$router.push(`/case/${caseId}`)\n    },\n    \n    // 切换视频全屏\n    toggleFullscreen() {\n      const video = this.$refs.videoPlayer\n      if (!video) return\n      \n      if (document.fullscreenElement) {\n        document.exitFullscreen()\n      } else {\n        video.requestFullscreen()\n      }\n    },\n    \n    // 格式化日期时间\n    formatDateTime(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toLocaleString('zh-CN', {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit'\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.record-content-container {\n  max-height: 500px;\n  overflow-y: auto;\n  background-color: #f8f9fa;\n  border-radius: 0.25rem;\n  padding: 1rem;\n}\n\n.record-content {\n  white-space: pre-wrap;\n  font-family: 'Courier New', Courier, monospace;\n  font-size: 0.9rem;\n  line-height: 1.5;\n  color: #212529;\n  margin: 0;\n}\n\n.video-player {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  background-color: #000;\n}\n\n/* 响应式调整 */\n@media (max-width: 768px) {\n  .record-content-container {\n    max-height: 300px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}