{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport { ref, reactive, computed, onMounted, watch } from 'vue';\nimport { Modal } from 'bootstrap';\nimport { getCaseList, searchCases, getCaseDetail, addCase, updateCase, deleteCase as deleteCaseApi, packageCase, getCaseStatistics } from '../api/case';\nexport default {\n  name: 'CaseManagement',\n  setup() {\n    // 状态变量\n    const loading = ref(false);\n    const detailLoading = ref(false);\n    const statisticsLoading = ref(false);\n    const submitting = ref(false);\n    const showAdvancedSearch = ref(false);\n    const viewMode = ref('card'); // 默认使用卡片视图\n    const cases = ref([]);\n    const caseTypes = ref([]);\n    const selectedCase = ref(null);\n    const caseDetail = ref({\n      case: null,\n      records: []\n    });\n    const statistics = ref({\n      totalCases: 0,\n      criminalCases: 0,\n      civilCases: 0,\n      administrativeCases: 0,\n      investigatingCases: 0,\n      inTrialCases: 0,\n      closedCases: 0\n    });\n\n    // 分页相关\n    const currentPage = ref(1);\n    const pageSize = ref(10);\n    const totalItems = ref(0);\n    const totalPages = ref(0);\n\n    // 搜索表单\n    const searchForm = reactive({\n      q: '',\n      caseType: '',\n      startDateFrom: '',\n      startDateTo: '',\n      createdAtFrom: '',\n      createdAtTo: '',\n      sortBy: 'createdAt_desc',\n      page: 1,\n      size: pageSize.value // 使用 pageSize 的值\n    });\n\n    // 案件表单\n    const caseForm = reactive({\n      id: null,\n      caseName: '',\n      caseType: '',\n      status: '',\n      caseNumber: '',\n      startDate: '',\n      endDate: '',\n      description: ''\n    });\n\n    // 模态框实例\n    let addCaseModalInstance = null;\n    let editCaseModalInstance = null;\n    let deleteCaseModalInstance = null;\n    let caseDetailModalInstance = null;\n\n    // 计算属性：显示的页码\n    const displayedPages = computed(() => {\n      const pages = [];\n      const maxVisiblePages = 5;\n      if (totalPages.value <= maxVisiblePages) {\n        // 如果总页数小于等于最大可见页数，显示所有页码\n        for (let i = 1; i <= totalPages.value; i++) {\n          pages.push(i);\n        }\n      } else {\n        // 否则，显示当前页附近的页码\n        let startPage = Math.max(currentPage.value - Math.floor(maxVisiblePages / 2), 1);\n        let endPage = startPage + maxVisiblePages - 1;\n        if (endPage > totalPages.value) {\n          endPage = totalPages.value;\n          startPage = Math.max(endPage - maxVisiblePages + 1, 1);\n        }\n        for (let i = startPage; i <= endPage; i++) {\n          pages.push(i);\n        }\n      }\n      return pages;\n    });\n\n    // 初始化模态框\n    const initModals = () => {\n      addCaseModalInstance = new Modal(document.getElementById('addCaseModal'));\n      editCaseModalInstance = new Modal(document.getElementById('editCaseModal'));\n      deleteCaseModalInstance = new Modal(document.getElementById('deleteCaseModal'));\n      caseDetailModalInstance = new Modal(document.getElementById('caseDetailModal'));\n    };\n\n    // 加载案件列表\n    const loadCases = async () => {\n      loading.value = true;\n      try {\n        const response = await getCaseList();\n        if (response.data.code === 200) {\n          cases.value = response.data.data || [];\n          // 确保totalItems正确设置为案件数量\n          totalItems.value = cases.value.length;\n        } else {\n          console.error('加载案件列表失败:', response.data.msg);\n        }\n      } catch (error) {\n        console.error('加载案件列表失败:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 搜索案件\n    const searchCasesData = async () => {\n      loading.value = true;\n      try {\n        // 构建搜索参数\n        const params = {\n          ...searchForm\n        };\n\n        // 确保使用当前的 pageSize 值\n        params.size = pageSize.value;\n\n        // 设置默认排序\n        params.sortField = 'createdAt';\n        params.sortOrder = 'desc';\n        delete params.sortBy;\n        console.log('搜索参数:', params); // 调试日志\n\n        const response = await searchCases(params);\n        if (response.data.code === 200) {\n          const result = response.data.data;\n          cases.value = result.records || [];\n          // 确保totalItems正确设置为案件数量\n          totalItems.value = result.total !== undefined ? result.total : cases.value.length;\n          totalPages.value = result.pages || 0;\n          currentPage.value = result.current || 1;\n\n          // 获取案件类型选项\n          if (result.extra) {\n            caseTypes.value = result.extra.caseTypes || [];\n          }\n        } else {\n          console.error('搜索案件失败:', response.data.msg);\n        }\n      } catch (error) {\n        console.error('搜索案件失败:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 重置搜索表单\n    const resetSearch = () => {\n      Object.keys(searchForm).forEach(key => {\n        if (key !== 'page' && key !== 'size' && key !== 'sortBy') {\n          searchForm[key] = '';\n        }\n      });\n      searchForm.page = 1;\n      searchCasesData();\n    };\n\n    // 切换页码\n    const changePage = page => {\n      if (page < 1 || page > totalPages.value || page === currentPage.value) {\n        return;\n      }\n      searchForm.page = page;\n      searchCasesData();\n    };\n\n    // 更改每页显示数量\n    const changePageSize = size => {\n      // 更新 pageSize 值\n      if (size) {\n        pageSize.value = parseInt(size);\n      }\n      // 更新搜索表单中的每页数量\n      searchForm.size = pageSize.value;\n      // 重置到第一页\n      searchForm.page = 1;\n      // 重新加载数据\n      searchCasesData();\n    };\n\n    // 重置案件表单\n    const resetCaseForm = () => {\n      // 重置表单\n      Object.keys(caseForm).forEach(key => {\n        caseForm[key] = key === 'id' ? null : '';\n      });\n    };\n\n    // 显示添加案件模态框\n    const showAddCaseModal = () => {\n      resetCaseForm();\n      addCaseModalInstance.show();\n    };\n\n    // 显示编辑案件模态框\n    const showEditCaseModal = caseItem => {\n      console.log('编辑案件:', caseItem.id); // 添加日志，帮助调试\n\n      // 确保模态框实例存在\n      if (!editCaseModalInstance) {\n        console.log('初始化模态框实例');\n        initModals();\n      }\n\n      // 填充表单\n      Object.keys(caseForm).forEach(key => {\n        if (key === 'id') {\n          caseForm.id = caseItem.id;\n        } else if (key === 'startDate' || key === 'endDate') {\n          caseForm[key] = caseItem[key] ? caseItem[key].substring(0, 10) : '';\n        } else {\n          caseForm[key] = caseItem[key] || '';\n        }\n      });\n\n      // 显示模态框\n      editCaseModalInstance.show();\n    };\n\n    // 确认删除案件\n    const confirmDeleteCase = caseItem => {\n      console.log('确认删除案件:', caseItem.id); // 添加日志，帮助调试\n\n      // 确保模态框实例存在\n      if (!deleteCaseModalInstance) {\n        console.log('初始化模态框实例');\n        initModals();\n      }\n      selectedCase.value = caseItem;\n\n      // 显示模态框\n      deleteCaseModalInstance.show();\n    };\n\n    // 查看案件详情\n    const viewCaseDetail = async caseId => {\n      console.log('查看案件详情:', caseId); // 添加日志，帮助调试\n      detailLoading.value = true;\n      caseDetail.value = {\n        case: null,\n        records: []\n      };\n\n      // 确保模态框实例存在\n      if (!caseDetailModalInstance) {\n        console.log('初始化模态框实例');\n        initModals();\n      }\n\n      // 显示模态框\n      caseDetailModalInstance.show();\n      try {\n        const response = await getCaseDetail(caseId);\n        if (response.data.code === 200) {\n          caseDetail.value = response.data.data || {\n            case: null,\n            records: []\n          };\n          console.log('获取案件详情成功:', caseDetail.value);\n        } else {\n          console.error('获取案件详情失败:', response.data.msg);\n        }\n      } catch (error) {\n        console.error('获取案件详情失败:', error);\n      } finally {\n        detailLoading.value = false;\n      }\n    };\n\n    // 提交添加案件\n    const submitAddCase = async () => {\n      // 表单验证\n      if (!caseForm.caseName || !caseForm.caseType || !caseForm.status) {\n        alert('请填写必填字段：案件名称、案件类型和案件状态');\n        return;\n      }\n      submitting.value = true;\n      try {\n        const response = await addCase(caseForm);\n        if (response.data.code === 200) {\n          alert('案件添加成功');\n          addCaseModalInstance.hide();\n          searchCasesData(); // 刷新列表\n        } else {\n          alert(`案件添加失败: ${response.data.msg}`);\n        }\n      } catch (error) {\n        console.error('添加案件失败:', error);\n        alert(`添加案件失败: ${error.message}`);\n      } finally {\n        submitting.value = false;\n      }\n    };\n\n    // 提交编辑案件\n    const submitEditCase = async () => {\n      // 表单验证\n      if (!caseForm.caseName || !caseForm.caseType || !caseForm.status) {\n        alert('请填写必填字段：案件名称、案件类型和案件状态');\n        return;\n      }\n      submitting.value = true;\n      try {\n        const response = await updateCase(caseForm.id, caseForm);\n        if (response.data.code === 200) {\n          alert('案件更新成功');\n          editCaseModalInstance.hide();\n          searchCasesData(); // 刷新列表\n        } else {\n          alert(`案件更新失败: ${response.data.msg}`);\n        }\n      } catch (error) {\n        console.error('更新案件失败:', error);\n        alert(`更新案件失败: ${error.message}`);\n      } finally {\n        submitting.value = false;\n      }\n    };\n\n    // 删除案件\n    const deleteCase = async () => {\n      if (!selectedCase.value || !selectedCase.value.id) {\n        return;\n      }\n      submitting.value = true;\n      try {\n        const response = await deleteCaseApi(selectedCase.value.id);\n        if (response.data.code === 200) {\n          alert('案件删除成功');\n          deleteCaseModalInstance.hide();\n          searchCasesData(); // 刷新列表\n        } else {\n          alert(`案件删除失败: ${response.data.msg}`);\n        }\n      } catch (error) {\n        console.error('删除案件失败:', error);\n        alert(`删除案件失败: ${error.message}`);\n      } finally {\n        submitting.value = false;\n      }\n    };\n\n    // 打包案件笔录\n    const packageCaseRecords = async () => {\n      if (!caseDetail.value.case || !caseDetail.value.case.id) {\n        return;\n      }\n      try {\n        const response = await packageCase(caseDetail.value.case.id);\n        // 处理文件下载\n        const blob = new Blob([response.data], {\n          type: response.headers['content-type']\n        });\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n\n        // 从响应头获取文件名，如果没有则使用默认名称\n        const contentDisposition = response.headers['content-disposition'];\n        let filename = `案件_${caseDetail.value.case.caseNumber}.zip`;\n        if (contentDisposition) {\n          const filenameMatch = contentDisposition.match(/filename=\"(.+)\"/);\n          if (filenameMatch && filenameMatch[1]) {\n            filename = decodeURIComponent(filenameMatch[1]);\n          }\n        }\n        link.download = filename;\n        link.click();\n        URL.revokeObjectURL(link.href);\n      } catch (error) {\n        console.error('打包案件笔录失败:', error);\n        alert('打包案件笔录失败，请稍后重试');\n      }\n    };\n\n    // 格式化日期\n    const formatDate = dateString => {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return date.toISOString().split('T')[0];\n    };\n\n    // 格式化日期时间\n    const formatDateTime = dateTimeString => {\n      if (!dateTimeString) return '';\n      const date = new Date(dateTimeString);\n      return `${date.toISOString().split('T')[0]} ${date.toTimeString().split(' ')[0].substring(0, 5)}`;\n    };\n\n    // 截断文本\n    const truncateText = (text, maxLength) => {\n      if (!text) return '';\n      return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n    };\n\n    // 加载统计数据\n    const loadStatistics = async () => {\n      statisticsLoading.value = true;\n      try {\n        const response = await getCaseStatistics();\n        if (response.data.code === 200) {\n          statistics.value = response.data.data || {\n            totalCases: 0,\n            criminalCases: 0,\n            civilCases: 0,\n            administrativeCases: 0,\n            investigatingCases: 0,\n            inTrialCases: 0,\n            closedCases: 0\n          };\n        } else {\n          console.error('加载统计数据失败:', response.data.msg);\n        }\n      } catch (error) {\n        console.error('加载统计数据失败:', error);\n      } finally {\n        statisticsLoading.value = false;\n      }\n    };\n\n    // 初始化下拉菜单\n    const initDropdowns = () => {\n      // 使用setTimeout确保DOM已经更新\n      setTimeout(() => {\n        console.log('初始化下拉菜单');\n        // 确保所有下拉菜单都处于关闭状态\n        document.querySelectorAll('.dropdown-menu.show').forEach(menu => {\n          menu.classList.remove('show');\n        });\n      }, 100);\n    };\n\n    // 组件挂载时执行\n    onMounted(() => {\n      initModals();\n      searchCasesData();\n      loadStatistics();\n\n      // 初始化下拉菜单\n      initDropdowns();\n\n      // 监听视图模式变化，重新初始化下拉菜单\n      watch(viewMode, () => {\n        initDropdowns();\n      });\n\n      // 监听案件数据变化，重新初始化下拉菜单\n      watch(cases, () => {\n        initDropdowns();\n      });\n\n      // 监听 pageSize 变化，更新 searchForm.size\n      watch(pageSize, newSize => {\n        searchForm.size = newSize;\n      });\n\n      // 添加全局点击事件监听器，关闭打开的下拉菜单\n      document.addEventListener('click', function (e) {\n        // 如果点击的不是下拉菜单或其子元素，也不是下拉菜单的触发按钮\n        if (!e.target.closest('.dropdown-menu') && !e.target.closest('.dropdown-toggle')) {\n          document.querySelectorAll('.dropdown-menu.show').forEach(openMenu => {\n            openMenu.classList.remove('show');\n            // 重置菜单样式\n            openMenu.style.display = 'none';\n            openMenu.style.visibility = 'hidden';\n            openMenu.style.opacity = '0';\n          });\n        }\n      });\n    });\n\n    // 切换下拉菜单显示状态\n    const toggleDropdown = event => {\n      // 阻止事件冒泡，防止全局点击事件处理器立即关闭菜单\n      event.stopPropagation();\n      console.log('切换下拉菜单', event.target);\n      const dropdownToggle = event.target.closest('.dropdown-toggle');\n      if (!dropdownToggle) return;\n      const dropdownMenu = dropdownToggle.nextElementSibling;\n      if (!dropdownMenu || !dropdownMenu.classList.contains('dropdown-menu')) return;\n\n      // 关闭所有其他打开的下拉菜单\n      document.querySelectorAll('.dropdown-menu.show').forEach(menu => {\n        if (menu !== dropdownMenu) {\n          menu.classList.remove('show');\n          // 重置其他菜单的样式\n          menu.style.display = 'none';\n          menu.style.visibility = 'hidden';\n          menu.style.opacity = '0';\n        }\n      });\n\n      // 切换当前下拉菜单\n      const isCurrentlyShown = dropdownMenu.classList.contains('show');\n      dropdownMenu.classList.toggle('show');\n      if (!isCurrentlyShown) {\n        // 如果之前是隐藏的，现在要显示\n        // 设置静态定位，防止被Bootstrap的Popper.js重新定位\n        dropdownMenu.setAttribute('data-bs-popper', 'static');\n        // 确保下拉菜单在卡片内可见\n        dropdownMenu.style.position = 'absolute';\n        dropdownMenu.style.zIndex = '1000';\n\n        // 获取按钮的位置和尺寸\n        const buttonRect = dropdownToggle.getBoundingClientRect();\n        const menuWidth = Math.max(120, buttonRect.width); // 确保菜单至少与按钮一样宽\n\n        // 判断是否为向上展开的菜单\n        if (dropdownMenu.classList.contains('dropup-menu')) {\n          // 向上展开菜单的样式\n          dropdownMenu.style.transform = 'translate3d(0px, -100%, 0px)';\n          dropdownMenu.style.bottom = '38px';\n          dropdownMenu.style.top = 'auto';\n        } else {\n          // 向下展开菜单的样式\n          dropdownMenu.style.transform = 'translate3d(0px, 38px, 0px)';\n          dropdownMenu.style.top = '0';\n          dropdownMenu.style.bottom = 'auto';\n        }\n\n        // 设置菜单位置和样式\n        dropdownMenu.style.left = 'auto';\n        dropdownMenu.style.right = '0';\n        dropdownMenu.style.willChange = 'transform';\n        dropdownMenu.style.width = `${menuWidth}px`;\n        dropdownMenu.style.minWidth = '120px';\n        dropdownMenu.style.maxWidth = 'none';\n        dropdownMenu.style.display = 'block';\n        dropdownMenu.style.visibility = 'visible';\n        dropdownMenu.style.opacity = '1';\n        dropdownMenu.style.overflow = 'visible';\n\n        // 确保下拉菜单项可见\n        dropdownMenu.querySelectorAll('.dropdown-item').forEach(item => {\n          item.style.whiteSpace = 'nowrap';\n          item.style.width = '100%';\n          item.style.display = 'block';\n          item.style.overflow = 'visible';\n          item.style.textOverflow = 'unset';\n        });\n      } else {\n        // 如果之前是显示的，现在要隐藏\n        // 隐藏菜单\n        dropdownMenu.style.display = 'none';\n        dropdownMenu.style.visibility = 'hidden';\n        dropdownMenu.style.opacity = '0';\n      }\n    };\n    return {\n      loading,\n      detailLoading,\n      statisticsLoading,\n      submitting,\n      showAdvancedSearch,\n      viewMode,\n      cases,\n      caseTypes,\n      selectedCase,\n      caseDetail,\n      statistics,\n      currentPage,\n      pageSize,\n      totalItems,\n      totalPages,\n      searchForm,\n      caseForm,\n      displayedPages,\n      loadCases,\n      searchCases: searchCasesData,\n      resetSearch,\n      resetCaseForm,\n      changePage,\n      changePageSize,\n      showAddCaseModal,\n      showEditCaseModal,\n      confirmDeleteCase,\n      viewCaseDetail,\n      submitAddCase,\n      submitEditCase,\n      deleteCase,\n      packageCaseRecords,\n      toggleDropdown,\n      loadStatistics,\n      formatDate,\n      formatDateTime,\n      truncateText\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","computed","onMounted","watch","Modal","getCaseList","searchCases","getCaseDetail","addCase","updateCase","deleteCase","deleteCaseApi","packageCase","getCaseStatistics","name","setup","loading","detailLoading","statisticsLoading","submitting","showAdvancedSearch","viewMode","cases","caseTypes","selectedCase","caseDetail","case","records","statistics","totalCases","criminalCases","civilCases","administrativeCases","investigatingCases","inTrialCases","closedCases","currentPage","pageSize","totalItems","totalPages","searchForm","q","caseType","startDateFrom","startDateTo","createdAtFrom","createdAtTo","sortBy","page","size","value","caseForm","id","caseName","status","caseNumber","startDate","endDate","description","addCaseModalInstance","editCaseModalInstance","deleteCaseModalInstance","caseDetailModalInstance","displayedPages","pages","maxVisiblePages","i","push","startPage","Math","max","floor","endPage","initModals","document","getElementById","loadCases","response","data","code","length","console","error","msg","searchCasesData","params","sortField","sortOrder","log","result","total","undefined","current","extra","resetSearch","Object","keys","forEach","key","changePage","changePageSize","parseInt","resetCaseForm","showAddCaseModal","show","showEditCaseModal","caseItem","substring","confirmDeleteCase","viewCaseDetail","caseId","submitAddCase","alert","hide","message","submitEditCase","packageCaseRecords","blob","Blob","type","headers","link","createElement","href","URL","createObjectURL","contentDisposition","filename","filenameMatch","match","decodeURIComponent","download","click","revokeObjectURL","formatDate","dateString","date","Date","toISOString","split","formatDateTime","dateTimeString","toTimeString","truncateText","text","maxLength","loadStatistics","initDropdowns","setTimeout","querySelectorAll","menu","classList","remove","newSize","addEventListener","e","target","closest","openMenu","style","display","visibility","opacity","toggleDropdown","event","stopPropagation","dropdownToggle","dropdownMenu","nextElementSibling","contains","isCurrentlyShown","toggle","setAttribute","position","zIndex","buttonRect","getBoundingClientRect","menuWidth","width","transform","bottom","top","left","right","willChange","minWidth","maxWidth","overflow","item","whiteSpace","textOverflow"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/views/CaseManagement.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid mt-4\">\n    <!-- 页面标题区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n          <div>\n            <h2 class=\"display-6 fw-bold text-primary mb-0\">\n              <i class=\"bi bi-folder2-open me-2\"></i>案件管理\n            </h2>\n            <p class=\"text-muted mb-0\">查看和管理所有案件信息</p>\n          </div>\n          <div class=\"btn-group\">\n            <button class=\"btn btn-outline-primary\" @click=\"showAdvancedSearch = !showAdvancedSearch\">\n              <i class=\"bi bi-funnel me-2\"></i>高级搜索\n            </button>\n            <button class=\"btn btn-success\" @click=\"showAddCaseModal\">\n              <i class=\"bi bi-plus-circle me-2\"></i>新增案件\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 案件统计卡片 -->\n    <div class=\"row mb-4\">\n      <!-- 统计标题 -->\n      <div class=\"col-12 mb-3\">\n        <div class=\"d-flex align-items-center\">\n          <div class=\"stats-section-icon bg-primary bg-opacity-10 text-primary me-2\">\n            <i class=\"bi bi-bar-chart-line\"></i>\n          </div>\n          <h5 class=\"fw-bold mb-0\">案件统计</h5>\n        </div>\n      </div>\n      \n      <!-- 统计卡片横向滚动区域 -->\n      <div class=\"col-12\">\n        <div class=\"d-flex overflow-auto pb-2 stats-scroll\">\n          <!-- 总案件数 -->\n          <div class=\"stats-card-wrapper\">\n            <div class=\"card border-0 shadow-sm stats-card\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"stats-icon bg-primary bg-opacity-10 text-primary\">\n                    <i class=\"bi bi-folder2\"></i>\n                  </div>\n                  <div class=\"ms-3\">\n                    <h3 class=\"fw-bold mb-0\">{{ statistics.totalCases || 0 }}</h3>\n                    <p class=\"text-muted mb-0\">总案件数</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 刑事案件 -->\n          <div class=\"stats-card-wrapper\">\n            <div class=\"card border-0 shadow-sm stats-card\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"stats-icon bg-danger bg-opacity-10 text-danger\">\n                    <i class=\"bi bi-shield-exclamation\"></i>\n                  </div>\n                  <div class=\"ms-3\">\n                    <h3 class=\"fw-bold mb-0\">{{ statistics.criminalCases || 0 }}</h3>\n                    <p class=\"text-muted mb-0\">刑事案件</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 民事案件 -->\n          <div class=\"stats-card-wrapper\">\n            <div class=\"card border-0 shadow-sm stats-card\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"stats-icon bg-success bg-opacity-10 text-success\">\n                    <i class=\"bi bi-people\"></i>\n                  </div>\n                  <div class=\"ms-3\">\n                    <h3 class=\"fw-bold mb-0\">{{ statistics.civilCases || 0 }}</h3>\n                    <p class=\"text-muted mb-0\">民事案件</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 行政案件 -->\n          <div class=\"stats-card-wrapper\">\n            <div class=\"card border-0 shadow-sm stats-card\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"stats-icon bg-info bg-opacity-10 text-info\">\n                    <i class=\"bi bi-building\"></i>\n                  </div>\n                  <div class=\"ms-3\">\n                    <h3 class=\"fw-bold mb-0\">{{ statistics.administrativeCases || 0 }}</h3>\n                    <p class=\"text-muted mb-0\">行政案件</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 调查中 -->\n          <div class=\"stats-card-wrapper\">\n            <div class=\"card border-0 shadow-sm stats-card\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"stats-icon bg-warning bg-opacity-10 text-warning\">\n                    <i class=\"bi bi-search\"></i>\n                  </div>\n                  <div class=\"ms-3\">\n                    <h3 class=\"fw-bold mb-0\">{{ statistics.investigatingCases || 0 }}</h3>\n                    <p class=\"text-muted mb-0\">调查中</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 审理中 -->\n          <div class=\"stats-card-wrapper\">\n            <div class=\"card border-0 shadow-sm stats-card\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"stats-icon bg-secondary bg-opacity-10 text-secondary\">\n                    <i class=\"bi bi-hourglass-split\"></i>\n                  </div>\n                  <div class=\"ms-3\">\n                    <h3 class=\"fw-bold mb-0\">{{ statistics.inTrialCases || 0 }}</h3>\n                    <p class=\"text-muted mb-0\">审理中</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 已结案 -->\n          <div class=\"stats-card-wrapper\">\n            <div class=\"card border-0 shadow-sm stats-card\">\n              <div class=\"card-body\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"stats-icon bg-dark bg-opacity-10 text-dark\">\n                    <i class=\"bi bi-check2-circle\"></i>\n                  </div>\n                  <div class=\"ms-3\">\n                    <h3 class=\"fw-bold mb-0\">{{ statistics.closedCases || 0 }}</h3>\n                    <p class=\"text-muted mb-0\">已结案</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 搜索区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12\">\n        <div class=\"card border-0 shadow-sm rounded-3\">\n          <div class=\"card-header bg-white py-3 border-0\">\n            <div class=\"d-flex align-items-center\">\n              <i class=\"bi bi-search fs-4 text-primary me-2\"></i>\n              <h5 class=\"card-title mb-0 fw-bold\">案件搜索</h5>\n            </div>\n          </div>\n          <div class=\"card-body p-4\">\n            <!-- 基础搜索 -->\n            <div class=\"row g-3 mb-3\">\n              <div class=\"col-md-12\">\n                <label class=\"form-label fw-bold text-primary\">搜索关键词</label>\n                <div class=\"input-group input-group-lg shadow-sm rounded overflow-hidden\">\n                  <span class=\"input-group-text bg-white border-end-0\">\n                    <i class=\"bi bi-search text-primary\"></i>\n                  </span>\n                  <input \n                    type=\"text\" \n                    class=\"form-control border-start-0\" \n                    placeholder=\"输入关键词搜索案件名称、编号、描述等\"\n                    v-model=\"searchForm.q\"\n                    @keyup.enter=\"searchCases\"\n                  />\n                  <button class=\"btn btn-primary px-4\" @click=\"searchCases\">\n                    <i class=\"bi bi-search me-2\"></i>搜索\n                  </button>\n                </div>\n                <div class=\"form-text mt-2\"><i class=\"bi bi-info-circle me-1\"></i>支持按案件名称、编号、描述等信息进行搜索</div>\n              </div>\n            </div>\n\n            <!-- 高级搜索切换按钮 -->\n            <div class=\"d-flex justify-content-center mb-3\">\n              <button class=\"btn btn-link text-decoration-none\" @click=\"showAdvancedSearch = !showAdvancedSearch\">\n                <i class=\"bi\" :class=\"showAdvancedSearch ? 'bi-chevron-up' : 'bi-chevron-down'\"></i>\n                {{ showAdvancedSearch ? '收起' : '展开' }}高级搜索选项\n              </button>\n            </div>\n\n            <!-- 高级搜索 -->\n            <div v-show=\"showAdvancedSearch\" class=\"advanced-search-panel\">\n              <div class=\"p-4 bg-light rounded-3 border border-light\">\n                <h6 class=\"fw-bold mb-3 d-flex align-items-center\">\n                  <span class=\"badge bg-primary me-2\"><i class=\"bi bi-funnel-fill\"></i></span>高级搜索选项\n                </h6>\n                <div class=\"row g-3\">\n                  <div class=\"col-md-3\">\n                    <label class=\"form-label\">案件类型</label>\n                    <select class=\"form-select shadow-sm\" v-model=\"searchForm.caseType\">\n                      <option value=\"\">全部类型</option>\n                      <option v-for=\"type in caseTypes\" :key=\"type\" :value=\"type\">{{ type }}</option>\n                    </select>\n                  </div>\n                  <div class=\"col-md-3\">\n                    <label class=\"form-label\">立案日期（从）</label>\n                    <input type=\"date\" class=\"form-control shadow-sm\" v-model=\"searchForm.startDateFrom\">\n                  </div>\n                  <div class=\"col-md-3\">\n                    <label class=\"form-label\">立案日期（至）</label>\n                    <input type=\"date\" class=\"form-control shadow-sm\" v-model=\"searchForm.startDateTo\">\n                  </div>\n                  <div class=\"col-md-3\">\n                    <label class=\"form-label\">创建日期（从）</label>\n                    <input type=\"date\" class=\"form-control shadow-sm\" v-model=\"searchForm.createdAtFrom\">\n                  </div>\n                  <div class=\"col-md-3\">\n                    <label class=\"form-label\">创建日期（至）</label>\n                    <input type=\"date\" class=\"form-control shadow-sm\" v-model=\"searchForm.createdAtTo\">\n                  </div>\n                  <div class=\"col-12 text-end mt-4\">\n                    <button class=\"btn btn-outline-secondary me-2\" @click=\"resetSearch\">\n                      <i class=\"bi bi-arrow-counterclockwise me-2\"></i>重置\n                    </button>\n                    <button class=\"btn btn-primary px-4\" @click=\"searchCases\">\n                      <i class=\"bi bi-search me-2\"></i>搜索\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 案件列表 -->\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"card border-0 shadow-sm rounded-3\">\n          <div class=\"card-header bg-white py-3 border-0\">\n            <div class=\"d-flex align-items-center justify-content-between\">\n                <div class=\"d-flex align-items-center\">\n                  <i class=\"bi bi-folder2-open fs-4 text-primary me-2\"></i>\n                  <h5 class=\"card-title mb-0 fw-bold\">案件列表</h5>\n                  <span class=\"badge bg-primary bg-opacity-10 text-primary ms-3\">{{ cases.length }}</span>\n                </div>\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"btn-group me-2\">\n                    <button class=\"btn btn-sm\" :class=\"viewMode === 'card' ? 'btn-primary' : 'btn-outline-primary'\" @click=\"viewMode = 'card'\" title=\"卡片视图\">\n                      <i class=\"bi bi-grid\"></i>\n                    </button>\n                    <button class=\"btn btn-sm\" :class=\"viewMode === 'list' ? 'btn-primary' : 'btn-outline-primary'\" @click=\"viewMode = 'list'\" title=\"列表视图\">\n                      <i class=\"bi bi-list\"></i>\n                    </button>\n                  </div>\n                  <button class=\"btn btn-sm btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#addCaseModal\" @click=\"resetCaseForm\">\n                    <i class=\"bi bi-plus-lg me-1\"></i> 新增案件\n                  </button>\n                </div>\n              </div>\n          </div>\n          <div class=\"card-body p-4\">\n            <div v-if=\"loading\" class=\"text-center py-5\">\n              <div class=\"spinner-border text-primary\" role=\"status\">\n                <span class=\"visually-hidden\">加载中...</span>\n              </div>\n              <p class=\"mt-3 text-muted\">正在加载案件数据...</p>\n            </div>\n            <div v-else-if=\"cases.length === 0\" class=\"text-center py-5\">\n              <div class=\"empty-state p-4\">\n                <i class=\"bi bi-folder2 text-muted\" style=\"font-size: 4rem;\"></i>\n                <h5 class=\"mt-4\">暂无案件记录</h5>\n                <p class=\"text-muted\">您可以点击\"新增案件\"按钮添加第一个案件</p>\n                <button class=\"btn btn-primary mt-3\" data-bs-toggle=\"modal\" data-bs-target=\"#addCaseModal\" @click=\"resetCaseForm\">\n                  <i class=\"bi bi-plus-lg me-1\"></i> 新增案件\n                </button>\n              </div>\n            </div>\n            <div v-else>\n              <!-- 卡片视图 -->\n              <div v-if=\"viewMode === 'card'\" class=\"row\">\n                <div v-for=\"(caseItem, index) in cases\" :key=\"index\" class=\"col-md-6 col-lg-4 mb-3\">\n                  <div class=\"card shadow-sm h-100 border-0 hover-card\" style=\"position: relative; overflow: visible;\">\n                    <div class=\"card-body p-3\" style=\"overflow: visible;\">\n                      <!-- 卡片头部：案件名称、状态 -->\n                      <div class=\"d-flex justify-content-between align-items-center mb-2\">\n                        <div class=\"d-flex align-items-center\">\n                          <div class=\"case-icon rounded-circle p-1 me-2\" \n                               :class=\"{\n                                 'bg-success bg-opacity-10': caseItem.caseType === '民事案件',\n                                 'bg-danger bg-opacity-10': caseItem.caseType === '刑事案件',\n                                 'bg-info bg-opacity-10': caseItem.caseType === '行政案件',\n                                 'bg-primary bg-opacity-10': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n                               }\">\n                            <i class=\"bi fs-5\" \n                               :class=\"{\n                                 'bi-people text-success': caseItem.caseType === '民事案件',\n                                 'bi-shield-lock text-danger': caseItem.caseType === '刑事案件',\n                                 'bi-building text-info': caseItem.caseType === '行政案件',\n                                 'bi-folder text-primary': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n                               }\"></i>\n                          </div>\n                          <div>\n                            <h6 class=\"card-title mb-0 fw-bold\">{{ caseItem.caseName }}</h6>\n                            <div class=\"text-muted small\">{{ caseItem.caseNumber }}</div>\n                          </div>\n                        </div>\n                        <span class=\"badge rounded-pill px-2 py-1 small\" :class=\"{\n                          'bg-success': caseItem.status === '已完成' || caseItem.status === '已结案',\n                          'bg-warning text-dark': caseItem.status === '进行中',\n                          'bg-secondary': caseItem.status !== '已完成' && caseItem.status !== '已结案' && caseItem.status !== '进行中'\n                        }\">{{ caseItem.status }}</span>\n                      </div>\n                      \n                      <!-- 案件信息 -->\n                      <div class=\"row g-2 mt-2 small\">\n                        <div class=\"col-6\">\n                          <div class=\"d-flex align-items-center\">\n                            <i class=\"bi bi-folder text-primary me-1\"></i>\n                            <span class=\"text-muted\">类型:</span> <span class=\"ms-1\">{{ caseItem.caseType }}</span>\n                          </div>\n                        </div>\n                        <div class=\"col-6\">\n                          <div class=\"d-flex align-items-center\">\n                            <i class=\"bi bi-calendar-date text-success me-1\"></i>\n                            <span class=\"text-muted\">立案:</span> <span class=\"ms-1\">{{ formatDate(caseItem.startDate) }}</span>\n                          </div>\n                        </div>\n                        <div class=\"col-6\">\n                          <div class=\"d-flex align-items-center\">\n                            <i class=\"bi bi-card-text text-info me-1\"></i>\n                            <span class=\"text-muted\">笔录:</span> <span class=\"ms-1\">{{ caseItem.recordCount || 0 }}</span>\n                          </div>\n                        </div>\n                        <div class=\"col-6\">\n                          <div class=\"d-flex align-items-center\">\n                            <i class=\"bi bi-clock-history text-warning me-1\"></i>\n                            <span class=\"text-muted\">创建:</span> <span class=\"ms-1\">{{ formatDate(caseItem.createdAt) }}</span>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <!-- 案件描述 (可折叠) -->\n                      <div v-if=\"caseItem.description\" class=\"mt-2 small\">\n                        <p class=\"text-muted mb-0 text-truncate\" :title=\"caseItem.description\">{{ truncateText(caseItem.description, 60) }}</p>\n                      </div>\n                      \n                      <!-- 操作按钮 -->\n                      <div class=\"mt-3 d-flex justify-content-end\" style=\"position: relative; z-index: 10;\">\n                        <div class=\"dropdown d-inline-block me-1\" style=\"position: relative; z-index: 100;\">\n                          <button class=\"btn btn-sm btn-outline-secondary dropdown-toggle\" type=\"button\" @click.stop.prevent=\"toggleDropdown($event)\">\n                            <i class=\"bi bi-three-dots-vertical\"></i>\n                          </button>\n                          <ul class=\"dropdown-menu dropdown-menu-end dropup-menu\" style=\"z-index: 1000; position: absolute; min-width: 120px; width: auto !important; right: 0; left: auto; transform: translate3d(0px, -100%, 0px) !important; bottom: 38px; top: auto; border-radius: 0.25rem; border: 1px solid rgba(0, 0, 0, 0.15); background-color: #fff; padding: 0.5rem 0;\">\n                            <li style=\"width: 100%;\"><a class=\"dropdown-item\" href=\"#\" @click.stop.prevent=\"showEditCaseModal(caseItem)\" style=\"position: relative; z-index: 1001; white-space: nowrap; width: 100%;\"><i class=\"bi bi-pencil me-1\"></i>编辑</a></li>\n                            <li style=\"width: 100%;\"><a class=\"dropdown-item\" href=\"#\" @click.stop.prevent=\"confirmDeleteCase(caseItem)\" style=\"position: relative; z-index: 1001; white-space: nowrap; width: 100%;\"><i class=\"bi bi-trash me-1\"></i>删除</a></li>\n                          </ul>\n                        </div>\n                        <button class=\"btn btn-sm btn-primary\" @click.stop.prevent=\"viewCaseDetail(caseItem.id)\" style=\"position: relative; z-index: 10;\">\n                          <i class=\"bi bi-eye me-1\"></i>查看详情\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <!-- 列表视图 -->\n              <div v-else class=\"table-responsive\">\n                <table class=\"table table-hover align-middle\">\n                  <thead class=\"table-light\">\n                    <tr>\n                      <th scope=\"col\" width=\"40%\">案件信息</th>\n                      <th scope=\"col\" width=\"15%\">类型</th>\n                      <th scope=\"col\" width=\"15%\">立案日期</th>\n                      <th scope=\"col\" width=\"10%\">状态</th>\n                      <th scope=\"col\" width=\"10%\">笔录数</th>\n                      <th scope=\"col\" width=\"10%\">操作</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"(caseItem, index) in cases\" :key=\"index\" @click.stop>\n                      <td>\n                        <div class=\"d-flex align-items-center\">\n                          <div class=\"case-icon rounded-circle p-1 me-2\" \n                               :class=\"{\n                                 'bg-success bg-opacity-10': caseItem.caseType === '民事案件',\n                                 'bg-danger bg-opacity-10': caseItem.caseType === '刑事案件',\n                                 'bg-info bg-opacity-10': caseItem.caseType === '行政案件',\n                                 'bg-primary bg-opacity-10': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n                               }\">\n                            <i class=\"bi fs-5\" \n                               :class=\"{\n                                 'bi-people text-success': caseItem.caseType === '民事案件',\n                                 'bi-shield-lock text-danger': caseItem.caseType === '刑事案件',\n                                 'bi-building text-info': caseItem.caseType === '行政案件',\n                                 'bi-folder text-primary': !['民事案件', '刑事案件', '行政案件'].includes(caseItem.caseType)\n                               }\"></i>\n                          </div>\n                          <div>\n                            <div class=\"fw-medium\">{{ caseItem.caseName }}</div>\n                            <div class=\"text-muted small\">{{ caseItem.caseNumber }}</div>\n                          </div>\n                        </div>\n                      </td>\n                      <td>{{ caseItem.caseType }}</td>\n                      <td>{{ formatDate(caseItem.startDate) }}</td>\n                      <td>\n                        <span class=\"badge rounded-pill px-2 py-1\" :class=\"{\n                          'bg-success': caseItem.status === '已完成' || caseItem.status === '已结案',\n                          'bg-warning text-dark': caseItem.status === '进行中',\n                          'bg-secondary': caseItem.status !== '已完成' && caseItem.status !== '已结案' && caseItem.status !== '进行中'\n                        }\">{{ caseItem.status }}</span>\n                      </td>\n                      <td>{{ caseItem.recordCount || 0 }}</td>\n                      <td>\n                        <div class=\"btn-group\">\n                          <button class=\"btn btn-sm btn-primary\" @click.stop.prevent=\"viewCaseDetail(caseItem.id)\" title=\"查看详情\">\n                            <i class=\"bi bi-eye\"></i>\n                          </button>\n                          <button class=\"btn btn-sm btn-outline-secondary\" @click.stop.prevent=\"showEditCaseModal(caseItem)\" title=\"编辑\">\n                            <i class=\"bi bi-pencil\"></i>\n                          </button>\n                          <button class=\"btn btn-sm btn-outline-danger\" @click.stop.prevent=\"confirmDeleteCase(caseItem)\" title=\"删除\">\n                            <i class=\"bi bi-trash\"></i>\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n              \n              <!-- 分页控件 -->\n              <div class=\"d-flex flex-column flex-md-row justify-content-between align-items-center mt-5 pt-4 border-top\">\n                <div class=\"d-flex align-items-center text-muted mb-3 mb-md-0\">\n                  <span class=\"badge bg-primary bg-opacity-10 text-primary me-2 p-2\">{{ totalItems }}</span>\n                  条记录，当前第 <span class=\"fw-bold text-primary\">{{ currentPage }}</span> / {{ totalPages }} 页\n                  \n                  <div class=\"ms-3 d-flex align-items-center\">\n                    <span class=\"me-2\">每页显示:</span>\n                    <select class=\"form-select form-select-sm\" v-model.number=\"pageSize\" @change=\"changePageSize($event.target.value)\" style=\"width: 80px;\">\n                      <option :value=\"5\">5</option>\n                      <option :value=\"10\">10</option>\n                      <option :value=\"20\">20</option>\n                      <option :value=\"50\">50</option>\n                      <option :value=\"100\">100</option>\n                    </select>\n                  </div>\n                </div>\n                <nav aria-label=\"Page navigation\" class=\"pagination-container\">\n                  <ul class=\"pagination pagination-md\">\n                    <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                      <a class=\"page-link rounded-start\" href=\"#\" @click.prevent=\"changePage(1)\" title=\"首页\">\n                        <i class=\"bi bi-chevron-double-left\"></i>\n                      </a>\n                    </li>\n                    <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                      <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(currentPage - 1)\" title=\"上一页\">\n                        <i class=\"bi bi-chevron-left\"></i>\n                      </a>\n                    </li>\n                    <li v-for=\"page in displayedPages\" :key=\"page\" class=\"page-item\" :class=\"{ active: currentPage === page }\">\n                      <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(page)\">{{ page }}</a>\n                    </li>\n                    <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                      <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(currentPage + 1)\" title=\"下一页\">\n                        <i class=\"bi bi-chevron-right\"></i>\n                      </a>\n                    </li>\n                    <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                      <a class=\"page-link rounded-end\" href=\"#\" @click.prevent=\"changePage(totalPages)\" title=\"末页\">\n                        <i class=\"bi bi-chevron-double-right\"></i>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 添加案件模态框 -->\n    <div class=\"modal fade\" id=\"addCaseModal\" tabindex=\"-1\" aria-labelledby=\"addCaseModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-success text-white\">\n            <h5 class=\"modal-title\" id=\"addCaseModalLabel\">\n              <i class=\"bi bi-plus-circle me-2\"></i>新增案件\n            </h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"submitAddCase\">\n              <div class=\"mb-3\">\n                <label for=\"caseName\" class=\"form-label\">案件名称 <span class=\"text-danger\">*</span></label>\n                <input type=\"text\" class=\"form-control\" id=\"caseName\" v-model=\"caseForm.caseName\" required>\n              </div>\n              \n              <div class=\"row mb-3\">\n                <div class=\"col-md-6\">\n                  <label for=\"caseType\" class=\"form-label\">案件类型 <span class=\"text-danger\">*</span></label>\n                  <select class=\"form-select\" id=\"caseType\" v-model=\"caseForm.caseType\" required>\n                    <option value=\"\">请选择案件类型</option>\n                    <option v-for=\"type in caseTypes\" :key=\"type\" :value=\"type\">{{ type }}</option>\n                  </select>\n                </div>\n                <div class=\"col-md-6\">\n                  <label for=\"status\" class=\"form-label\">案件状态 <span class=\"text-danger\">*</span></label>\n                  <select class=\"form-select\" id=\"status\" v-model=\"caseForm.status\" required>\n                    <option value=\"\">请选择案件状态</option>\n                    <option value=\"调查中\">调查中</option>\n                    <option value=\"审理中\">审理中</option>\n                    <option value=\"已结案\">已结案</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div class=\"mb-3\">\n                <label for=\"caseNumber\" class=\"form-label\">案件编号</label>\n                <input type=\"text\" class=\"form-control\" id=\"caseNumber\" v-model=\"caseForm.caseNumber\" placeholder=\"可选，留空将自动生成\">\n              </div>\n              \n              <div class=\"row mb-3\">\n                <div class=\"col-md-6\">\n                  <label for=\"startDate\" class=\"form-label\">开始日期</label>\n                  <input type=\"date\" class=\"form-control\" id=\"startDate\" v-model=\"caseForm.startDate\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label for=\"endDate\" class=\"form-label\">结束日期</label>\n                  <input type=\"date\" class=\"form-control\" id=\"endDate\" v-model=\"caseForm.endDate\">\n                </div>\n              </div>\n              \n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">案件描述</label>\n                <textarea class=\"form-control\" id=\"description\" v-model=\"caseForm.description\" rows=\"5\" placeholder=\"请输入案件的详细描述...\"></textarea>\n              </div>\n              \n              <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n                <button type=\"button\" class=\"btn btn-secondary me-md-2\" data-bs-dismiss=\"modal\">\n                  <i class=\"bi bi-x-circle me-2\"></i>取消\n                </button>\n                <button type=\"submit\" class=\"btn btn-success\" :disabled=\"submitting\">\n                  <i class=\"bi bi-check-circle me-2\"></i>\n                  <span v-if=\"submitting\">\n                    <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                    提交中...\n                  </span>\n                  <span v-else>创建案件</span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 编辑案件模态框 -->\n    <div class=\"modal fade\" id=\"editCaseModal\" tabindex=\"-1\" aria-labelledby=\"editCaseModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-primary text-white\">\n            <h5 class=\"modal-title\" id=\"editCaseModalLabel\">\n              <i class=\"bi bi-pencil-square me-2\"></i>编辑案件\n            </h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"submitEditCase\">\n              <div class=\"mb-3\">\n                <label for=\"editCaseName\" class=\"form-label\">案件名称 <span class=\"text-danger\">*</span></label>\n                <input type=\"text\" class=\"form-control\" id=\"editCaseName\" v-model=\"caseForm.caseName\" required>\n              </div>\n              \n              <div class=\"row mb-3\">\n                <div class=\"col-md-6\">\n                  <label for=\"editCaseType\" class=\"form-label\">案件类型 <span class=\"text-danger\">*</span></label>\n                  <select class=\"form-select\" id=\"editCaseType\" v-model=\"caseForm.caseType\" required>\n                    <option value=\"\">请选择案件类型</option>\n                    <option v-for=\"type in caseTypes\" :key=\"type\" :value=\"type\">{{ type }}</option>\n                  </select>\n                </div>\n                <div class=\"col-md-6\">\n                  <label for=\"editStatus\" class=\"form-label\">案件状态 <span class=\"text-danger\">*</span></label>\n                  <select class=\"form-select\" id=\"editStatus\" v-model=\"caseForm.status\" required>\n                    <option value=\"\">请选择案件状态</option>\n                    <option value=\"调查中\">调查中</option>\n                    <option value=\"审理中\">审理中</option>\n                    <option value=\"已结案\">已结案</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div class=\"mb-3\">\n                <label for=\"editCaseNumber\" class=\"form-label\">案件编号</label>\n                <input type=\"text\" class=\"form-control\" id=\"editCaseNumber\" v-model=\"caseForm.caseNumber\" readonly>\n              </div>\n              \n              <div class=\"row mb-3\">\n                <div class=\"col-md-6\">\n                  <label for=\"editStartDate\" class=\"form-label\">开始日期</label>\n                  <input type=\"date\" class=\"form-control\" id=\"editStartDate\" v-model=\"caseForm.startDate\">\n                </div>\n                <div class=\"col-md-6\">\n                  <label for=\"editEndDate\" class=\"form-label\">结束日期</label>\n                  <input type=\"date\" class=\"form-control\" id=\"editEndDate\" v-model=\"caseForm.endDate\">\n                </div>\n              </div>\n              \n              <div class=\"mb-3\">\n                <label for=\"editDescription\" class=\"form-label\">案件描述</label>\n                <textarea class=\"form-control\" id=\"editDescription\" v-model=\"caseForm.description\" rows=\"5\" placeholder=\"请输入案件的详细描述...\"></textarea>\n              </div>\n              \n              <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n                <button type=\"button\" class=\"btn btn-secondary me-md-2\" data-bs-dismiss=\"modal\">\n                  <i class=\"bi bi-x-circle me-2\"></i>取消\n                </button>\n                <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"submitting\">\n                  <i class=\"bi bi-check-circle me-2\"></i>\n                  <span v-if=\"submitting\">\n                    <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                    提交中...\n                  </span>\n                  <span v-else>保存修改</span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 删除确认模态框 -->\n    <div class=\"modal fade\" id=\"deleteCaseModal\" tabindex=\"-1\" aria-labelledby=\"deleteCaseModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-danger text-white\">\n            <h5 class=\"modal-title\" id=\"deleteCaseModalLabel\">\n              <i class=\"bi bi-exclamation-triangle me-2\"></i>删除确认\n            </h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <p>您确定要删除案件 <strong>{{ selectedCase ? selectedCase.caseName : '' }}</strong> 吗？</p>\n            <p class=\"text-danger\"><i class=\"bi bi-exclamation-circle me-2\"></i>此操作将同时删除该案件下的所有笔录记录，且无法恢复！</p>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n              <i class=\"bi bi-x-circle me-2\"></i>取消\n            </button>\n            <button type=\"button\" class=\"btn btn-danger\" @click=\"deleteCase\" :disabled=\"submitting\">\n              <i class=\"bi bi-trash me-2\"></i>\n              <span v-if=\"submitting\">\n                <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n                删除中...\n              </span>\n              <span v-else>确认删除</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 案件详情模态框 -->\n    <div class=\"modal fade\" id=\"caseDetailModal\" tabindex=\"-1\" aria-labelledby=\"caseDetailModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header bg-primary text-white\">\n            <h5 class=\"modal-title\" id=\"caseDetailModalLabel\">\n              <i class=\"bi bi-folder2-open me-2\"></i>案件详情\n            </h5>\n            <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div v-if=\"detailLoading\" class=\"text-center py-5\">\n              <div class=\"spinner-border text-primary\" role=\"status\">\n                <span class=\"visually-hidden\">加载中...</span>\n              </div>\n              <p class=\"mt-3 text-muted\">正在加载案件详情...</p>\n            </div>\n            <div v-else>\n              <!-- 案件信息卡片 -->\n              <div class=\"card mb-4 shadow-sm\">\n                <div class=\"card-header bg-gradient d-flex justify-content-between align-items-center\">\n                  <h4 class=\"card-title mb-0 text-primary\">{{ caseDetail.case ? caseDetail.case.caseName : '' }}</h4>\n                  <div>\n                    <span class=\"badge bg-info me-2\">{{ caseDetail.case ? caseDetail.case.caseType : '' }}</span>\n                    <span class=\"badge\" :class=\"{\n                      'bg-success': caseDetail.case && (caseDetail.case.status === '已完成' || caseDetail.case.status === '已结案'),\n                      'bg-warning': caseDetail.case && caseDetail.case.status === '进行中',\n                      'bg-secondary': caseDetail.case && caseDetail.case.status !== '已完成' && caseDetail.case.status !== '已结案' && caseDetail.case.status !== '进行中'\n                    }\">{{ caseDetail.case ? caseDetail.case.status : '' }}</span>\n                  </div>\n                </div>\n                <div class=\"card-body\">\n                  <div class=\"row\">\n                    <div class=\"col-md-6\">\n                      <div class=\"d-flex mb-2\">\n                        <div class=\"icon-box me-2\"><i class=\"bi bi-hash text-primary\"></i></div>\n                        <div><strong>案件编号:</strong> {{ caseDetail.case ? caseDetail.case.caseNumber : '' }}</div>\n                      </div>\n                      <div class=\"d-flex mb-2\">\n                        <div class=\"icon-box me-2\"><i class=\"bi bi-folder text-warning\"></i></div>\n                        <div><strong>案件类型:</strong> {{ caseDetail.case ? caseDetail.case.caseType : '' }}</div>\n                      </div>\n                      <div class=\"d-flex mb-2\">\n                        <div class=\"icon-box me-2\"><i class=\"bi bi-calendar-date text-success\"></i></div>\n                        <div><strong>立案日期:</strong> {{ caseDetail.case ? formatDate(caseDetail.case.startDate) : '' }}</div>\n                      </div>\n                    </div>\n                    <div class=\"col-md-6\">\n                      <div class=\"d-flex mb-2\">\n                        <div class=\"icon-box me-2\"><i class=\"bi bi-clock-history text-warning\"></i></div>\n                        <div><strong>创建时间:</strong> {{ caseDetail.case ? formatDateTime(caseDetail.case.createdAt) : '' }}</div>\n                      </div>\n                      <div class=\"d-flex mb-2\">\n                        <div class=\"icon-box me-2\"><i class=\"bi bi-card-text text-info\"></i></div>\n                        <div><strong>笔录数量:</strong> {{ caseDetail.records ? caseDetail.records.length : 0 }}</div>\n                      </div>\n                      <div v-if=\"caseDetail.case && caseDetail.case.endDate\" class=\"d-flex mb-2\">\n                        <div class=\"icon-box me-2\"><i class=\"bi bi-calendar-check text-danger\"></i></div>\n                        <div><strong>结案日期:</strong> {{ formatDate(caseDetail.case.endDate) }}</div>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div v-if=\"caseDetail.case && caseDetail.case.description\" class=\"mt-3\">\n                    <strong>案件描述:</strong>\n                    <p class=\"text-muted\">{{ caseDetail.case.description }}</p>\n                  </div>\n                </div>\n              </div>\n              \n              <!-- 相关笔录列表 -->\n              <div class=\"card shadow-sm\">\n                <div class=\"card-header bg-gradient\">\n                  <h4 class=\"card-title mb-0\">相关笔录</h4>\n                </div>\n                <div class=\"card-body\">\n                  <div v-if=\"!caseDetail.records || caseDetail.records.length === 0\" class=\"text-center py-3\">\n                    <i class=\"bi bi-info-circle text-info\" style=\"font-size: 2rem;\"></i>\n                    <p class=\"mt-2 text-muted\">暂无相关笔录记录</p>\n                  </div>\n                  <div v-else class=\"table-responsive\">\n                    <table class=\"table table-hover\">\n                      <thead class=\"table-light\">\n                        <tr>\n                          <th>笔录名称</th>\n                          <th>询问时间</th>\n                          <th>询问地点</th>\n                          <th>询问员</th>\n                          <th>被询问人</th>\n                          <th>操作</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        <tr v-for=\"record in caseDetail.records\" :key=\"record.id\">\n                          <td>{{ record.recordName }}</td>\n                          <td>{{ formatDateTime(record.inquiryTime) }}</td>\n                          <td>{{ record.inquiryAddress }}</td>\n                          <td>{{ record.assistantName }}</td>\n                          <td>{{ record.inquirerName }}</td>\n                          <td>\n                            <button class=\"btn btn-sm btn-outline-primary\">\n                              <i class=\"bi bi-eye me-1\"></i>查看\n                            </button>\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n              <i class=\"bi bi-x-circle me-2\"></i>关闭\n            </button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"packageCaseRecords\" :disabled=\"!caseDetail.case || !caseDetail.records || caseDetail.records.length === 0\">\n              <i class=\"bi bi-archive me-2\"></i>打包笔录\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted, watch } from 'vue'\nimport { Modal } from 'bootstrap'\nimport { getCaseList, searchCases, getCaseDetail, addCase, updateCase, deleteCase as deleteCaseApi, packageCase, getCaseStatistics } from '../api/case'\n\nexport default {\n  name: 'CaseManagement',\n  setup() {\n    // 状态变量\n    const loading = ref(false)\n    const detailLoading = ref(false)\n    const statisticsLoading = ref(false)\n    const submitting = ref(false)\n    const showAdvancedSearch = ref(false)\n    const viewMode = ref('card') // 默认使用卡片视图\n    const cases = ref([])\n    const caseTypes = ref([])\n    const selectedCase = ref(null)\n    const caseDetail = ref({ case: null, records: [] })\n    const statistics = ref({\n      totalCases: 0,\n      criminalCases: 0,\n      civilCases: 0,\n      administrativeCases: 0,\n      investigatingCases: 0,\n      inTrialCases: 0,\n      closedCases: 0\n    })\n    \n    // 分页相关\n    const currentPage = ref(1)\n    const pageSize = ref(10)\n    const totalItems = ref(0)\n    const totalPages = ref(0)\n    \n    // 搜索表单\n    const searchForm = reactive({\n      q: '',\n      caseType: '',\n      startDateFrom: '',\n      startDateTo: '',\n      createdAtFrom: '',\n      createdAtTo: '',\n      sortBy: 'createdAt_desc',\n      page: 1,\n      size: pageSize.value // 使用 pageSize 的值\n    })\n    \n    // 案件表单\n    const caseForm = reactive({\n      id: null,\n      caseName: '',\n      caseType: '',\n      status: '',\n      caseNumber: '',\n      startDate: '',\n      endDate: '',\n      description: ''\n    })\n    \n    // 模态框实例\n    let addCaseModalInstance = null\n    let editCaseModalInstance = null\n    let deleteCaseModalInstance = null\n    let caseDetailModalInstance = null\n    \n    // 计算属性：显示的页码\n    const displayedPages = computed(() => {\n      const pages = []\n      const maxVisiblePages = 5\n      \n      if (totalPages.value <= maxVisiblePages) {\n        // 如果总页数小于等于最大可见页数，显示所有页码\n        for (let i = 1; i <= totalPages.value; i++) {\n          pages.push(i)\n        }\n      } else {\n        // 否则，显示当前页附近的页码\n        let startPage = Math.max(currentPage.value - Math.floor(maxVisiblePages / 2), 1)\n        let endPage = startPage + maxVisiblePages - 1\n        \n        if (endPage > totalPages.value) {\n          endPage = totalPages.value\n          startPage = Math.max(endPage - maxVisiblePages + 1, 1)\n        }\n        \n        for (let i = startPage; i <= endPage; i++) {\n          pages.push(i)\n        }\n      }\n      \n      return pages\n    })\n    \n    // 初始化模态框\n    const initModals = () => {\n      addCaseModalInstance = new Modal(document.getElementById('addCaseModal'))\n      editCaseModalInstance = new Modal(document.getElementById('editCaseModal'))\n      deleteCaseModalInstance = new Modal(document.getElementById('deleteCaseModal'))\n      caseDetailModalInstance = new Modal(document.getElementById('caseDetailModal'))\n    }\n    \n    // 加载案件列表\n    const loadCases = async () => {\n      loading.value = true\n      try {\n        const response = await getCaseList()\n        if (response.data.code === 200) {\n          cases.value = response.data.data || []\n          // 确保totalItems正确设置为案件数量\n          totalItems.value = cases.value.length\n        } else {\n          console.error('加载案件列表失败:', response.data.msg)\n        }\n      } catch (error) {\n        console.error('加载案件列表失败:', error)\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    // 搜索案件\n    const searchCasesData = async () => {\n      loading.value = true\n      try {\n        // 构建搜索参数\n        const params = { ...searchForm }\n        \n        // 确保使用当前的 pageSize 值\n        params.size = pageSize.value\n        \n        // 设置默认排序\n        params.sortField = 'createdAt'\n        params.sortOrder = 'desc'\n        delete params.sortBy\n        \n        console.log('搜索参数:', params) // 调试日志\n        \n        const response = await searchCases(params)\n        if (response.data.code === 200) {\n          const result = response.data.data\n          cases.value = result.records || []\n          // 确保totalItems正确设置为案件数量\n          totalItems.value = result.total !== undefined ? result.total : cases.value.length\n          totalPages.value = result.pages || 0\n          currentPage.value = result.current || 1\n          \n          // 获取案件类型选项\n          if (result.extra) {\n            caseTypes.value = result.extra.caseTypes || []\n          }\n        } else {\n          console.error('搜索案件失败:', response.data.msg)\n        }\n      } catch (error) {\n        console.error('搜索案件失败:', error)\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    // 重置搜索表单\n    const resetSearch = () => {\n      Object.keys(searchForm).forEach(key => {\n        if (key !== 'page' && key !== 'size' && key !== 'sortBy') {\n          searchForm[key] = ''\n        }\n      })\n      searchForm.page = 1\n      searchCasesData()\n    }\n    \n    // 切换页码\n    const changePage = (page) => {\n      if (page < 1 || page > totalPages.value || page === currentPage.value) {\n        return\n      }\n      searchForm.page = page\n      searchCasesData()\n    }\n    \n    // 更改每页显示数量\n    const changePageSize = (size) => {\n      // 更新 pageSize 值\n      if (size) {\n        pageSize.value = parseInt(size)\n      }\n      // 更新搜索表单中的每页数量\n      searchForm.size = pageSize.value\n      // 重置到第一页\n      searchForm.page = 1\n      // 重新加载数据\n      searchCasesData()\n    }\n    \n    // 重置案件表单\n    const resetCaseForm = () => {\n      // 重置表单\n      Object.keys(caseForm).forEach(key => {\n        caseForm[key] = key === 'id' ? null : ''\n      })\n    }\n    \n    // 显示添加案件模态框\n    const showAddCaseModal = () => {\n      resetCaseForm()\n      addCaseModalInstance.show()\n    }\n    \n    // 显示编辑案件模态框\n    const showEditCaseModal = (caseItem) => {\n      console.log('编辑案件:', caseItem.id) // 添加日志，帮助调试\n      \n      // 确保模态框实例存在\n      if (!editCaseModalInstance) {\n        console.log('初始化模态框实例')\n        initModals()\n      }\n      \n      // 填充表单\n      Object.keys(caseForm).forEach(key => {\n        if (key === 'id') {\n          caseForm.id = caseItem.id\n        } else if (key === 'startDate' || key === 'endDate') {\n          caseForm[key] = caseItem[key] ? caseItem[key].substring(0, 10) : ''\n        } else {\n          caseForm[key] = caseItem[key] || ''\n        }\n      })\n      \n      // 显示模态框\n      editCaseModalInstance.show()\n    }\n    \n    // 确认删除案件\n    const confirmDeleteCase = (caseItem) => {\n      console.log('确认删除案件:', caseItem.id) // 添加日志，帮助调试\n      \n      // 确保模态框实例存在\n      if (!deleteCaseModalInstance) {\n        console.log('初始化模态框实例')\n        initModals()\n      }\n      \n      selectedCase.value = caseItem\n      \n      // 显示模态框\n      deleteCaseModalInstance.show()\n    }\n    \n    // 查看案件详情\n    const viewCaseDetail = async (caseId) => {\n      console.log('查看案件详情:', caseId) // 添加日志，帮助调试\n      detailLoading.value = true\n      caseDetail.value = { case: null, records: [] }\n      \n      // 确保模态框实例存在\n      if (!caseDetailModalInstance) {\n        console.log('初始化模态框实例')\n        initModals()\n      }\n      \n      // 显示模态框\n      caseDetailModalInstance.show()\n      \n      try {\n        const response = await getCaseDetail(caseId)\n        if (response.data.code === 200) {\n          caseDetail.value = response.data.data || { case: null, records: [] }\n          console.log('获取案件详情成功:', caseDetail.value)\n        } else {\n          console.error('获取案件详情失败:', response.data.msg)\n        }\n      } catch (error) {\n        console.error('获取案件详情失败:', error)\n      } finally {\n        detailLoading.value = false\n      }\n    }\n    \n    // 提交添加案件\n    const submitAddCase = async () => {\n      // 表单验证\n      if (!caseForm.caseName || !caseForm.caseType || !caseForm.status) {\n        alert('请填写必填字段：案件名称、案件类型和案件状态')\n        return\n      }\n      \n      submitting.value = true\n      try {\n        const response = await addCase(caseForm)\n        if (response.data.code === 200) {\n          alert('案件添加成功')\n          addCaseModalInstance.hide()\n          searchCasesData() // 刷新列表\n        } else {\n          alert(`案件添加失败: ${response.data.msg}`)\n        }\n      } catch (error) {\n        console.error('添加案件失败:', error)\n        alert(`添加案件失败: ${error.message}`)\n      } finally {\n        submitting.value = false\n      }\n    }\n    \n    // 提交编辑案件\n    const submitEditCase = async () => {\n      // 表单验证\n      if (!caseForm.caseName || !caseForm.caseType || !caseForm.status) {\n        alert('请填写必填字段：案件名称、案件类型和案件状态')\n        return\n      }\n      \n      submitting.value = true\n      try {\n        const response = await updateCase(caseForm.id, caseForm)\n        if (response.data.code === 200) {\n          alert('案件更新成功')\n          editCaseModalInstance.hide()\n          searchCasesData() // 刷新列表\n        } else {\n          alert(`案件更新失败: ${response.data.msg}`)\n        }\n      } catch (error) {\n        console.error('更新案件失败:', error)\n        alert(`更新案件失败: ${error.message}`)\n      } finally {\n        submitting.value = false\n      }\n    }\n    \n    // 删除案件\n    const deleteCase = async () => {\n      if (!selectedCase.value || !selectedCase.value.id) {\n        return\n      }\n      \n      submitting.value = true\n      try {\n        const response = await deleteCaseApi(selectedCase.value.id)\n        if (response.data.code === 200) {\n          alert('案件删除成功')\n          deleteCaseModalInstance.hide()\n          searchCasesData() // 刷新列表\n        } else {\n          alert(`案件删除失败: ${response.data.msg}`)\n        }\n      } catch (error) {\n        console.error('删除案件失败:', error)\n        alert(`删除案件失败: ${error.message}`)\n      } finally {\n        submitting.value = false\n      }\n    }\n    \n    // 打包案件笔录\n    const packageCaseRecords = async () => {\n      if (!caseDetail.value.case || !caseDetail.value.case.id) {\n        return\n      }\n      \n      try {\n        const response = await packageCase(caseDetail.value.case.id)\n        // 处理文件下载\n        const blob = new Blob([response.data], { type: response.headers['content-type'] })\n        const link = document.createElement('a')\n        link.href = URL.createObjectURL(blob)\n        \n        // 从响应头获取文件名，如果没有则使用默认名称\n        const contentDisposition = response.headers['content-disposition']\n        let filename = `案件_${caseDetail.value.case.caseNumber}.zip`\n        \n        if (contentDisposition) {\n          const filenameMatch = contentDisposition.match(/filename=\"(.+)\"/);\n          if (filenameMatch && filenameMatch[1]) {\n            filename = decodeURIComponent(filenameMatch[1])\n          }\n        }\n        \n        link.download = filename\n        link.click()\n        URL.revokeObjectURL(link.href)\n      } catch (error) {\n        console.error('打包案件笔录失败:', error)\n        alert('打包案件笔录失败，请稍后重试')\n      }\n    }\n    \n    // 格式化日期\n    const formatDate = (dateString) => {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return date.toISOString().split('T')[0]\n    }\n    \n    // 格式化日期时间\n    const formatDateTime = (dateTimeString) => {\n      if (!dateTimeString) return ''\n      const date = new Date(dateTimeString)\n      return `${date.toISOString().split('T')[0]} ${date.toTimeString().split(' ')[0].substring(0, 5)}`\n    }\n    \n    // 截断文本\n    const truncateText = (text, maxLength) => {\n      if (!text) return ''\n      return text.length > maxLength ? text.substring(0, maxLength) + '...' : text\n    }\n    \n    // 加载统计数据\n    const loadStatistics = async () => {\n      statisticsLoading.value = true\n      try {\n        const response = await getCaseStatistics()\n        if (response.data.code === 200) {\n          statistics.value = response.data.data || {\n            totalCases: 0,\n            criminalCases: 0,\n            civilCases: 0,\n            administrativeCases: 0,\n            investigatingCases: 0,\n            inTrialCases: 0,\n            closedCases: 0\n          }\n        } else {\n          console.error('加载统计数据失败:', response.data.msg)\n        }\n      } catch (error) {\n        console.error('加载统计数据失败:', error)\n      } finally {\n        statisticsLoading.value = false\n      }\n    }\n    \n    // 初始化下拉菜单\n    const initDropdowns = () => {\n      // 使用setTimeout确保DOM已经更新\n      setTimeout(() => {\n        console.log('初始化下拉菜单')\n        // 确保所有下拉菜单都处于关闭状态\n        document.querySelectorAll('.dropdown-menu.show').forEach(menu => {\n          menu.classList.remove('show')\n        })\n      }, 100)\n    }\n    \n    // 组件挂载时执行\n    onMounted(() => {\n      initModals()\n      searchCasesData()\n      loadStatistics()\n      \n      // 初始化下拉菜单\n      initDropdowns()\n      \n      // 监听视图模式变化，重新初始化下拉菜单\n      watch(viewMode, () => {\n        initDropdowns()\n      })\n      \n      // 监听案件数据变化，重新初始化下拉菜单\n      watch(cases, () => {\n        initDropdowns()\n      })\n      \n      // 监听 pageSize 变化，更新 searchForm.size\n      watch(pageSize, (newSize) => {\n        searchForm.size = newSize\n      })\n      \n      // 添加全局点击事件监听器，关闭打开的下拉菜单\n      document.addEventListener('click', function(e) {\n        // 如果点击的不是下拉菜单或其子元素，也不是下拉菜单的触发按钮\n        if (!e.target.closest('.dropdown-menu') && !e.target.closest('.dropdown-toggle')) {\n          document.querySelectorAll('.dropdown-menu.show').forEach(openMenu => {\n            openMenu.classList.remove('show')\n            // 重置菜单样式\n            openMenu.style.display = 'none'\n            openMenu.style.visibility = 'hidden'\n            openMenu.style.opacity = '0'\n          })\n        }\n      })\n    })\n    \n    // 切换下拉菜单显示状态\n    const toggleDropdown = (event) => {\n      // 阻止事件冒泡，防止全局点击事件处理器立即关闭菜单\n      event.stopPropagation()\n      \n      console.log('切换下拉菜单', event.target)\n      const dropdownToggle = event.target.closest('.dropdown-toggle')\n      if (!dropdownToggle) return\n      \n      const dropdownMenu = dropdownToggle.nextElementSibling\n      if (!dropdownMenu || !dropdownMenu.classList.contains('dropdown-menu')) return\n      \n      // 关闭所有其他打开的下拉菜单\n      document.querySelectorAll('.dropdown-menu.show').forEach(menu => {\n        if (menu !== dropdownMenu) {\n          menu.classList.remove('show')\n          // 重置其他菜单的样式\n          menu.style.display = 'none'\n          menu.style.visibility = 'hidden'\n          menu.style.opacity = '0'\n        }\n      })\n      \n      // 切换当前下拉菜单\n      const isCurrentlyShown = dropdownMenu.classList.contains('show')\n      dropdownMenu.classList.toggle('show')\n      \n      if (!isCurrentlyShown) { // 如果之前是隐藏的，现在要显示\n        // 设置静态定位，防止被Bootstrap的Popper.js重新定位\n        dropdownMenu.setAttribute('data-bs-popper', 'static')\n        // 确保下拉菜单在卡片内可见\n        dropdownMenu.style.position = 'absolute'\n        dropdownMenu.style.zIndex = '1000'\n        \n        // 获取按钮的位置和尺寸\n        const buttonRect = dropdownToggle.getBoundingClientRect()\n        const menuWidth = Math.max(120, buttonRect.width) // 确保菜单至少与按钮一样宽\n        \n        // 判断是否为向上展开的菜单\n        if (dropdownMenu.classList.contains('dropup-menu')) {\n          // 向上展开菜单的样式\n          dropdownMenu.style.transform = 'translate3d(0px, -100%, 0px)'\n          dropdownMenu.style.bottom = '38px'\n          dropdownMenu.style.top = 'auto'\n        } else {\n          // 向下展开菜单的样式\n          dropdownMenu.style.transform = 'translate3d(0px, 38px, 0px)'\n          dropdownMenu.style.top = '0'\n          dropdownMenu.style.bottom = 'auto'\n        }\n        \n        // 设置菜单位置和样式\n        dropdownMenu.style.left = 'auto'\n        dropdownMenu.style.right = '0'\n        dropdownMenu.style.willChange = 'transform'\n        dropdownMenu.style.width = `${menuWidth}px`\n        dropdownMenu.style.minWidth = '120px'\n        dropdownMenu.style.maxWidth = 'none'\n        dropdownMenu.style.display = 'block'\n        dropdownMenu.style.visibility = 'visible'\n        dropdownMenu.style.opacity = '1'\n        dropdownMenu.style.overflow = 'visible'\n        \n        // 确保下拉菜单项可见\n        dropdownMenu.querySelectorAll('.dropdown-item').forEach(item => {\n          item.style.whiteSpace = 'nowrap'\n          item.style.width = '100%'\n          item.style.display = 'block'\n          item.style.overflow = 'visible'\n          item.style.textOverflow = 'unset'\n        })\n      } else { // 如果之前是显示的，现在要隐藏\n        // 隐藏菜单\n        dropdownMenu.style.display = 'none'\n        dropdownMenu.style.visibility = 'hidden'\n        dropdownMenu.style.opacity = '0'\n      }\n    }\n    \n    return {\n      loading,\n      detailLoading,\n      statisticsLoading,\n      submitting,\n      showAdvancedSearch,\n      viewMode,\n      cases,\n      caseTypes,\n      selectedCase,\n      caseDetail,\n      statistics,\n      currentPage,\n      pageSize,\n      totalItems,\n      totalPages,\n      searchForm,\n      caseForm,\n      displayedPages,\n      loadCases,\n      searchCases: searchCasesData,\n      resetSearch,\n      resetCaseForm,\n      changePage,\n      changePageSize,\n      showAddCaseModal,\n      showEditCaseModal,\n      confirmDeleteCase,\n      viewCaseDetail,\n      submitAddCase,\n      submitEditCase,\n      deleteCase,\n      packageCaseRecords,\n      toggleDropdown,\n      loadStatistics,\n      formatDate,\n      formatDateTime,\n      truncateText\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 卡片悬停效果 */\n.hover-card {\n  transition: all 0.3s ease;\n  border: none;\n  overflow: hidden;\n  position: relative;\n  z-index: 1; /* 确保卡片有正确的层叠顺序 */\n}\n\n.hover-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15) !important;\n}\n\n.hover-card::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  height: 100%;\n  background: linear-gradient(to bottom, #4a6cf7, #2651f0);\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: -1; /* 确保伪元素不会干扰点击事件 */\n  pointer-events: none; /* 确保伪元素不会捕获点击事件 */\n}\n\n.hover-card:hover::before {\n  opacity: 1;\n}\n\n/* 案件图标样式 */\n.case-icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 32px;\n  height: 32px;\n}\n\n/* 列表视图样式 */\n.table-responsive {\n  border-radius: 8px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  background-color: #fff;\n}\n\n.table-hover tbody tr {\n  transition: all 0.2s ease;\n}\n\n.table-hover tbody tr:hover {\n  background-color: rgba(74, 108, 247, 0.05);\n}\n\n/* 视图切换按钮样式 */\n.btn-group .btn-sm {\n  padding: 0.25rem 0.5rem;\n  font-size: 0.875rem;\n}\n\n/* 统计图标样式 */\n.stat-icon {\n  opacity: 0.8;\n  transition: all 0.3s ease;\n  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));\n}\n\n.hover-card:hover .stat-icon {\n  transform: scale(1.1);\n  opacity: 1;\n}\n\n/* 统计卡片样式 */\n.stats-card {\n  transition: all 0.3s ease;\n  border-radius: 12px;\n  overflow: hidden;\n  margin-bottom: 1rem;\n}\n\n.stats-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1) !important;\n}\n\n.stats-icon {\n  width: 48px;\n  height: 48px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 12px;\n  font-size: 1.5rem;\n}\n\n.stats-section-icon {\n  width: 32px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 8px;\n  font-size: 1rem;\n}\n\n.stats-section-title {\n  display: flex;\n  align-items: center;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: #6c757d;\n  margin-bottom: 0.5rem;\n  padding-left: 0.5rem;\n  border-left: 3px solid #4a6cf7;\n}\n\n/* 图标盒子样式 */\n.icon-box {\n  width: 28px;\n  height: 28px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  background-color: rgba(0, 123, 255, 0.1);\n  color: #0d6efd;\n  transition: all 0.3s ease;\n}\n\n/* 高级搜索面板动画 */\n.advanced-search-panel {\n  animation: fadeIn 0.4s ease-in-out;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  padding-top: 1.5rem;\n  margin-top: 1rem;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-15px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n/* 页面标题样式增强 */\n.display-6 {\n  position: relative;\n  padding-bottom: 0.5rem;\n}\n\n.display-6::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 60px;\n  height: 3px;\n  background: linear-gradient(to right, #4a6cf7, #2651f0);\n  border-radius: 3px;\n}\n\n/* 卡片样式增强 */\n.card {\n  border-radius: 10px;\n  overflow: hidden;\n}\n\n.card-body {\n  padding: 1.5rem;\n}\n\n/* 按钮样式增强 */\n.btn {\n  border-radius: 6px;\n  font-weight: 500;\n  transition: all 0.3s ease;\n}\n\n.btn-primary {\n  background: linear-gradient(to right, #4a6cf7, #2651f0);\n  border: none;\n  box-shadow: 0 4px 10px rgba(74, 108, 247, 0.3);\n}\n\n.btn-primary:hover {\n  background: linear-gradient(to right, #2651f0, #1a3fd9);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 15px rgba(74, 108, 247, 0.4);\n}\n\n.btn-success {\n  background: linear-gradient(to right, #28a745, #20913a);\n  border: none;\n  box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);\n}\n\n.btn-success:hover {\n  background: linear-gradient(to right, #20913a, #187d2e);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 15px rgba(40, 167, 69, 0.4);\n}\n\n/* 分页控件美化 */\n.pagination .page-link {\n  border-radius: 4px;\n  margin: 0 2px;\n  color: #4a6cf7;\n  border: 1px solid rgba(74, 108, 247, 0.2);\n}\n\n.pagination .page-item.active .page-link {\n  background: linear-gradient(to right, #4a6cf7, #2651f0);\n  border-color: #2651f0;\n}\n\n/* 表单控件美化 */\n.form-control, .form-select {\n  border-radius: 6px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 0.6rem 1rem;\n  transition: all 0.3s ease;\n}\n\n.form-control:focus, .form-select:focus {\n  border-color: #4a6cf7;\n  box-shadow: 0 0 0 0.25rem rgba(74, 108, 247, 0.25);\n}\n\n/* 加载动画美化 */\n.spinner-border {\n  color: #4a6cf7;\n}\n\n/* 案件列表卡片美化 */\n.card.shadow-sm {\n  transition: all 0.3s ease;\n}\n\n.card.shadow-sm:hover {\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;\n}\n\n/* 统计卡片样式 */\n.stats-card {\n  transition: all 0.3s ease;\n  border-radius: 12px;\n}\n\n.stats-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1) !important;\n}\n\n.stats-icon {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  font-size: 24px;\n}\n\n.stats-scroll {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(0, 0, 0, 0.2) transparent;\n}\n\n.stats-scroll::-webkit-scrollbar {\n  height: 6px;\n}\n\n.stats-scroll::-webkit-scrollbar-thumb {\n  background-color: rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n}\n\n.stats-scroll::-webkit-scrollbar-track {\n  background-color: transparent;\n}\n\n.stats-card-wrapper {\n  min-width: 240px;\n  margin-right: 15px;\n  flex-shrink: 0;\n}\n\n.stats-card-wrapper:last-child {\n  margin-right: 0;\n}\n\n/* 下拉菜单样式优化 */\n.dropdown-menu.show {\n  display: block !important;\n  visibility: visible !important;\n  opacity: 1 !important;\n  z-index: 1000 !important;\n  position: absolute !important;\n  width: auto !important;\n  min-width: 120px !important;\n  max-width: none !important;\n  right: 0 !important;\n  left: auto !important;\n}\n\n.card .dropdown-menu {\n  transform: translate3d(0px, 38px, 0px) !important;\n  top: 0 !important;\n  left: auto !important;\n  right: 0 !important;\n  margin-top: 0 !important;\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n  overflow: visible !important;\n}\n\n.dropdown-item {\n  white-space: nowrap !important;\n  overflow: visible !important;\n  text-overflow: unset !important;\n  padding: 0.5rem 1rem !important;\n  width: 100% !important;\n  display: block !important;\n}\n\n/* 向上展开的下拉菜单样式 */\n.dropup-menu.show {\n  display: block !important;\n  visibility: visible !important;\n  opacity: 1 !important;\n  z-index: 1000 !important;\n  position: absolute !important;\n  transform: translate3d(0px, -100%, 0px) !important;\n  bottom: 38px !important;\n  top: auto !important;\n  right: 0 !important;\n  left: auto !important;\n  width: auto !important;\n  min-width: 120px !important;\n  max-width: none !important;\n  box-shadow: 0 -0.5rem 1rem rgba(0, 0, 0, 0.15) !important;\n  border-radius: 0.25rem !important;\n  border: 1px solid rgba(0, 0, 0, 0.15) !important;\n  background-color: #fff !important;\n  padding: 0.5rem 0 !important;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}