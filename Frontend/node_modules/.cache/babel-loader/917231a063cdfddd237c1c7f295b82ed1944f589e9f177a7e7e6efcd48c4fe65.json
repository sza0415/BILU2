{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col-12\"\n};\nconst _hoisted_4 = {\n  class: \"card border-0 shadow-lg rounded-4 overflow-hidden\"\n};\nconst _hoisted_5 = {\n  class: \"card-header bg-white border-0 p-4\"\n};\nconst _hoisted_6 = {\n  class: \"d-flex justify-content-between align-items-center\"\n};\nconst _hoisted_7 = {\n  class: \"btn-group\"\n};\nconst _hoisted_8 = [\"disabled\"];\nconst _hoisted_9 = [\"disabled\"];\nconst _hoisted_10 = [\"disabled\"];\nconst _hoisted_11 = {\n  key: 0\n};\nconst _hoisted_12 = {\n  key: 1\n};\nconst _hoisted_13 = {\n  class: \"card-header bg-white border-0 p-0\"\n};\nconst _hoisted_14 = {\n  class: \"tab-navigation-container\"\n};\nconst _hoisted_15 = {\n  class: \"tab-scroll-wrapper\"\n};\nconst _hoisted_16 = {\n  class: \"nav nav-tabs custom-tabs flex-nowrap\",\n  role: \"tablist\"\n};\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = {\n  class: \"badge bg-primary rounded-pill ms-2\"\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"tab-controls d-flex align-items-center ms-2\"\n};\nconst _hoisted_20 = {\n  class: \"card-body p-4\"\n};\nconst _hoisted_21 = {\n  class: \"tab-content\"\n};\nconst _hoisted_22 = {\n  class: \"tab-pane fade show active\"\n};\nconst _hoisted_23 = {\n  class: \"d-flex justify-content-between align-items-center mb-4\"\n};\nconst _hoisted_24 = {\n  class: \"fw-bold text-primary mb-0\"\n};\nconst _hoisted_25 = {\n  class: \"badge bg-primary rounded-pill ms-2\"\n};\nconst _hoisted_26 = {\n  class: \"btn-group\"\n};\nconst _hoisted_27 = [\"disabled\"];\nconst _hoisted_28 = [\"disabled\"];\nconst _hoisted_29 = {\n  class: \"table-responsive rounded-4 shadow-sm\",\n  style: {\n    \"min-height\": \"400px\"\n  }\n};\nconst _hoisted_30 = {\n  class: \"table table-hover mb-0\"\n};\nconst _hoisted_31 = {\n  class: \"py-3 ps-4 fw-bold text-muted\"\n};\nconst _hoisted_32 = {\n  class: \"py-3 question-text\"\n};\nconst _hoisted_33 = {\n  class: \"py-3 text-center\"\n};\nconst _hoisted_34 = {\n  class: \"btn-group\"\n};\nconst _hoisted_35 = [\"onClick\", \"disabled\"];\nconst _hoisted_36 = [\"onClick\", \"disabled\"];\nconst _hoisted_37 = {\n  key: 0\n};\nconst _hoisted_38 = {\n  class: \"modal-dialog modal-lg\"\n};\nconst _hoisted_39 = {\n  class: \"modal-content\"\n};\nconst _hoisted_40 = {\n  class: \"modal-header\"\n};\nconst _hoisted_41 = {\n  class: \"modal-title\"\n};\nconst _hoisted_42 = {\n  class: \"modal-body\"\n};\nconst _hoisted_43 = {\n  class: \"mb-3\"\n};\nconst _hoisted_44 = {\n  class: \"d-flex align-items-center mb-2\"\n};\nconst _hoisted_45 = {\n  class: \"input-group\"\n};\nconst _hoisted_46 = [\"disabled\"];\nconst _hoisted_47 = [\"value\"];\nconst _hoisted_48 = {\n  key: 0,\n  class: \"fas fa-plus\"\n};\nconst _hoisted_49 = {\n  key: 1,\n  class: \"fas fa-minus\"\n};\nconst _hoisted_50 = {\n  key: 0,\n  class: \"mb-3 new-category-fields\"\n};\nconst _hoisted_51 = {\n  class: \"card border-primary p-3 mb-3\"\n};\nconst _hoisted_52 = {\n  class: \"mb-3\"\n};\nconst _hoisted_53 = {\n  class: \"input-group\"\n};\nconst _hoisted_54 = {\n  class: \"mb-3\"\n};\nconst _hoisted_55 = {\n  class: \"mb-3\"\n};\nconst _hoisted_56 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_57 = [\"disabled\"];\nconst _hoisted_58 = [\"disabled\"];\nconst _hoisted_59 = {\n  key: 0\n};\nconst _hoisted_60 = {\n  key: 1\n};\nconst _hoisted_61 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_62 = {\n  class: \"modal-content\"\n};\nconst _hoisted_63 = {\n  class: \"modal-header\"\n};\nconst _hoisted_64 = {\n  class: \"modal-body\"\n};\nconst _hoisted_65 = {\n  class: \"mb-3\"\n};\nconst _hoisted_66 = {\n  class: \"modal-footer\"\n};\nconst _hoisted_67 = [\"disabled\"];\nconst _hoisted_68 = [\"disabled\"];\nconst _hoisted_69 = {\n  key: 0\n};\nconst _hoisted_70 = {\n  key: 1\n};\nconst _hoisted_71 = {\n  key: 0,\n  class: \"modal-backdrop fade show\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 页面标题区域 \"), _cache[51] || (_cache[51] = _createElementVNode(\"div\", {\n    class: \"row mb-4\"\n  }, [_createElementVNode(\"div\", {\n    class: \"col-12 text-center\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"display-5 fw-bold text-primary\"\n  }, \"保密问答模板管理\"), _createElementVNode(\"p\", {\n    class: \"text-muted\"\n  }, \"管理和维护各类保密审查问题模板\")])], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" 操作按钮区域 \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[24] || (_cache[24] = _createElementVNode(\"div\", null, [_createElementVNode(\"h4\", {\n    class: \"fw-bold text-primary mb-0\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-gear me-2\"\n  }), _createTextVNode(\"模板管理 \")])], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary\",\n    onClick: _cache[0] || (_cache[0] = $event => $data.showAddModal = true),\n    disabled: $data.loading\n  }, _cache[20] || (_cache[20] = [_createElementVNode(\"i\", {\n    class: \"bi bi-plus-circle me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"添加模板类别 \")]), 8 /* PROPS */, _hoisted_8), _createElementVNode(\"button\", {\n    class: \"btn btn-success\",\n    onClick: _cache[1] || (_cache[1] = $event => $data.showImportModal = true),\n    disabled: $data.loading\n  }, _cache[21] || (_cache[21] = [_createElementVNode(\"i\", {\n    class: \"bi bi-upload me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"导入模板 \")]), 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n    class: \"btn btn-info\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.exportTemplates && $options.exportTemplates(...args)),\n    disabled: $data.loading\n  }, [_cache[23] || (_cache[23] = _createElementVNode(\"i\", {\n    class: \"bi bi-download me-2\"\n  }, null, -1 /* CACHED */)), $data.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_11, _cache[22] || (_cache[22] = [_createElementVNode(\"span\", {\n    class: \"spinner-border spinner-border-sm me-2\",\n    role: \"status\",\n    \"aria-hidden\": \"true\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 导出中... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_12, \"导出模板\"))], 8 /* PROPS */, _hoisted_10)])])]), _createCommentVNode(\" 标签导航 \"), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"ul\", _hoisted_16, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.templateTypes, type => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      class: \"nav-item flex-shrink-0\",\n      role: \"presentation\",\n      key: type.key\n    }, [_createElementVNode(\"button\", {\n      class: _normalizeClass([\"nav-link\", {\n        active: $data.activeTab === type.key\n      }]),\n      onClick: $event => $options.switchTab(type.key),\n      type: \"button\",\n      role: \"tab\"\n    }, [_cache[25] || (_cache[25] = _createElementVNode(\"i\", {\n      class: \"fas fa-shield-alt me-2\"\n    }, null, -1 /* CACHED */)), _createTextVNode(_toDisplayString(type.name) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_18, _toDisplayString($options.getTemplateCount(type.key)), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_17)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" 标签导航控制按钮 \"), $data.templateTypes.length > 4 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    class: \"btn btn-sm btn-outline-secondary\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.scrollTabs('left')),\n    title: \"向左滚动\"\n  }, _cache[26] || (_cache[26] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-left\"\n  }, null, -1 /* CACHED */)])), _createElementVNode(\"button\", {\n    class: \"btn btn-sm btn-outline-secondary ms-1\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.scrollTabs('right')),\n    title: \"向右滚动\"\n  }, _cache[27] || (_cache[27] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-right\"\n  }, null, -1 /* CACHED */)]))])) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 标签内容 \"), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", null, [_createElementVNode(\"h3\", _hoisted_24, [_cache[28] || (_cache[28] = _createElementVNode(\"i\", {\n    class: \"fas fa-list-alt me-2\"\n  }, null, -1 /* CACHED */)), _createTextVNode(_toDisplayString($options.getCurrentTypeName()) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_25, _toDisplayString($options.getCurrentTemplates().length), 1 /* TEXT */)]), _cache[29] || (_cache[29] = _createElementVNode(\"div\", {\n    class: \"border-bottom border-2 border-primary mt-2\",\n    style: {\n      \"width\": \"50px\"\n    }\n  }, null, -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"button\", {\n    class: \"btn btn-primary px-4 py-2 d-flex align-items-center shadow-sm\",\n    onClick: _cache[5] || (_cache[5] = $event => $data.showAddModal = true),\n    disabled: $data.loading\n  }, _cache[30] || (_cache[30] = [_createElementVNode(\"i\", {\n    class: \"fas fa-plus-circle me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 添加问题 \")]), 8 /* PROPS */, _hoisted_27), $options.getCurrentTemplates().length > 0 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"btn btn-danger px-4 py-2 d-flex align-items-center shadow-sm\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.confirmDeleteTemplateType && $options.confirmDeleteTemplateType(...args)),\n    disabled: $data.loading\n  }, _cache[31] || (_cache[31] = [_createElementVNode(\"i\", {\n    class: \"fas fa-trash-alt me-2\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 删除类型 \")]), 8 /* PROPS */, _hoisted_28)) : _createCommentVNode(\"v-if\", true)])]), _createCommentVNode(\" 问题列表 \"), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"table\", _hoisted_30, [_cache[35] || (_cache[35] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", {\n    class: \"bg-light\"\n  }, [_createElementVNode(\"th\", {\n    width: \"5%\",\n    class: \"py-3 ps-4 text-primary\"\n  }, \"序号\"), _createElementVNode(\"th\", {\n    width: \"80%\",\n    class: \"py-3 text-primary\"\n  }, \"问题\"), _createElementVNode(\"th\", {\n    width: \"15%\",\n    class: \"py-3 text-center text-primary\"\n  }, \"操作\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getCurrentTemplates(), (template, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: template.id,\n      class: \"border-bottom question-item\",\n      ref_for: true,\n      ref: 'row-' + template.id\n    }, [_createElementVNode(\"td\", _hoisted_31, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_32, _toDisplayString(template.question), 1 /* TEXT */), _createElementVNode(\"td\", _hoisted_33, [_createElementVNode(\"div\", _hoisted_34, [_createElementVNode(\"button\", {\n      class: \"btn btn-sm btn-outline-primary edit-btn\",\n      onClick: $event => $options.editTemplate(template),\n      disabled: $data.loading\n    }, [...(_cache[32] || (_cache[32] = [_createElementVNode(\"i\", {\n      class: \"fas fa-edit me-1\"\n    }, null, -1 /* CACHED */), _createTextVNode(\" 编辑 \")]))], 8 /* PROPS */, _hoisted_35), _createElementVNode(\"button\", {\n      class: \"btn btn-sm btn-outline-danger delete-btn\",\n      onClick: $event => $options.confirmDeleteTemplate(template.id),\n      disabled: $data.loading\n    }, [...(_cache[33] || (_cache[33] = [_createElementVNode(\"i\", {\n      class: \"fas fa-trash-alt me-1\"\n    }, null, -1 /* CACHED */), _createTextVNode(\" 删除 \")]))], 8 /* PROPS */, _hoisted_36)])])]);\n  }), 128 /* KEYED_FRAGMENT */)), $options.getCurrentTemplates().length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_37, _cache[34] || (_cache[34] = [_createElementVNode(\"td\", {\n    colspan: \"3\",\n    class: \"text-center py-5\"\n  }, [_createElementVNode(\"div\", {\n    class: \"empty-state\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-inbox fa-3x mb-3 text-secondary opacity-50\"\n  }), _createElementVNode(\"h5\", {\n    class: \"text-secondary\"\n  }, \"暂无问题模板\"), _createElementVNode(\"p\", {\n    class: \"text-muted\"\n  }, \"点击\\\"添加问题\\\"按钮创建新的问题模板\")])], -1 /* CACHED */)]))) : _createCommentVNode(\"v-if\", true)])])])])])])])])]), _createCommentVNode(\" 添加/编辑模板模态框 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"modal fade\", {\n      show: $data.showAddModal\n    }]),\n    style: _normalizeStyle({\n      display: $data.showAddModal ? 'block' : 'none'\n    }),\n    tabindex: \"-1\"\n  }, [_createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"h5\", _hoisted_41, [_cache[36] || (_cache[36] = _createElementVNode(\"i\", {\n    class: \"bi bi-plus-circle me-2\"\n  }, null, -1 /* CACHED */)), _createTextVNode(_toDisplayString($data.editingTemplate ? '编辑模板' : '添加模板类别'), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.closeAddModal && $options.closeAddModal(...args))\n  })]), _createElementVNode(\"div\", _hoisted_42, [_createElementVNode(\"form\", {\n    onSubmit: _cache[13] || (_cache[13] = _withModifiers((...args) => $options.saveTemplate && $options.saveTemplate(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_43, [_cache[38] || (_cache[38] = _createElementVNode(\"label\", {\n    for: \"templateType\",\n    class: \"form-label\"\n  }, \"模板类型\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_44, [_createElementVNode(\"div\", _hoisted_45, [_withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select\",\n    id: \"templateType\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.templateForm.templateType = $event),\n    disabled: $data.showNewCategoryFields,\n    required: \"\"\n  }, [_cache[37] || (_cache[37] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"请选择模板类型\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.templateTypes, type => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: type.key,\n      value: type.key\n    }, _toDisplayString(type.name), 9 /* TEXT, PROPS */, _hoisted_47);\n  }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_46), [[_vModelSelect, $data.templateForm.templateType]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-outline-primary\",\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.toggleNewCategory && $options.toggleNewCategory(...args))\n  }, [!$data.showNewCategoryFields ? (_openBlock(), _createElementBlock(\"i\", _hoisted_48)) : (_openBlock(), _createElementBlock(\"i\", _hoisted_49)), _createTextVNode(\" \" + _toDisplayString($data.showNewCategoryFields ? ' 取消新类别' : ' 新类别'), 1 /* TEXT */)])])])]), _createCommentVNode(\" 新类别输入字段 \"), $data.showNewCategoryFields ? (_openBlock(), _createElementBlock(\"div\", _hoisted_50, [_createElementVNode(\"div\", _hoisted_51, [_createElementVNode(\"div\", _hoisted_52, [_cache[40] || (_cache[40] = _createElementVNode(\"label\", {\n    for: \"newTypeKey\",\n    class: \"form-label\"\n  }, \"类别名称\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_53, [_cache[39] || (_cache[39] = _createElementVNode(\"span\", {\n    class: \"input-group-text\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-code\"\n  })], -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"newTypeKey\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.newCategoryForm.key = $event),\n    placeholder: \"例如：信息安全\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newCategoryForm.key]])]), _cache[41] || (_cache[41] = _createElementVNode(\"div\", {\n    class: \"form-text text-muted\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-info-circle me-1\"\n  }), _createTextVNode(\" 类别名称只能包含中文、英文、数字、下划线和连字符，不能包含空格 \")], -1 /* CACHED */))])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_54, [_cache[42] || (_cache[42] = _createElementVNode(\"label\", {\n    for: \"question\",\n    class: \"form-label\"\n  }, \"问题内容\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    class: \"form-control\",\n    id: \"question\",\n    rows: \"4\",\n    \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.templateForm.question = $event),\n    placeholder: \"请输入问题内容\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.templateForm.question]])]), _createElementVNode(\"div\", _hoisted_55, [_cache[43] || (_cache[43] = _createElementVNode(\"label\", {\n    for: \"sortOrder\",\n    class: \"form-label\"\n  }, \"排序\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"number\",\n    class: \"form-control\",\n    id: \"sortOrder\",\n    \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.templateForm.sortOrder = $event),\n    placeholder: \"排序号（数字越小越靠前）\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.templateForm.sortOrder]])])], 32 /* NEED_HYDRATION */)]), _createElementVNode(\"div\", _hoisted_56, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    onClick: _cache[14] || (_cache[14] = (...args) => $options.closeAddModal && $options.closeAddModal(...args)),\n    disabled: $data.loading\n  }, \"取消\", 8 /* PROPS */, _hoisted_57), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[15] || (_cache[15] = (...args) => $options.saveTemplate && $options.saveTemplate(...args)),\n    disabled: $data.loading\n  }, [_cache[45] || (_cache[45] = _createElementVNode(\"i\", {\n    class: \"bi bi-check-circle me-2\"\n  }, null, -1 /* CACHED */)), $data.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_59, _cache[44] || (_cache[44] = [_createElementVNode(\"span\", {\n    class: \"spinner-border spinner-border-sm me-2\",\n    role: \"status\",\n    \"aria-hidden\": \"true\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 保存中... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_60, \"保存\"))], 8 /* PROPS */, _hoisted_58)])])])], 6 /* CLASS, STYLE */), _createCommentVNode(\" 导入模板模态框 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"modal fade\", {\n      show: $data.showImportModal\n    }]),\n    style: _normalizeStyle({\n      display: $data.showImportModal ? 'block' : 'none'\n    }),\n    tabindex: \"-1\"\n  }, [_createElementVNode(\"div\", _hoisted_61, [_createElementVNode(\"div\", _hoisted_62, [_createElementVNode(\"div\", _hoisted_63, [_cache[46] || (_cache[46] = _createElementVNode(\"h5\", {\n    class: \"modal-title\"\n  }, [_createElementVNode(\"i\", {\n    class: \"bi bi-upload me-2\"\n  }), _createTextVNode(\"导入模板 \")], -1 /* CACHED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[16] || (_cache[16] = $event => $data.showImportModal = false)\n  })]), _createElementVNode(\"div\", _hoisted_64, [_createElementVNode(\"div\", _hoisted_65, [_cache[47] || (_cache[47] = _createElementVNode(\"label\", {\n    for: \"importFile\",\n    class: \"form-label\"\n  }, \"选择文件\", -1 /* CACHED */)), _createElementVNode(\"input\", {\n    type: \"file\",\n    class: \"form-control\",\n    id: \"importFile\",\n    onChange: _cache[17] || (_cache[17] = (...args) => $options.handleFileSelect && $options.handleFileSelect(...args)),\n    accept: \".xlsx,.xls,.csv\"\n  }, null, 32 /* NEED_HYDRATION */), _cache[48] || (_cache[48] = _createElementVNode(\"div\", {\n    class: \"form-text\"\n  }, \"支持Excel (.xlsx, .xls) 和CSV (.csv) 格式\", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_66, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    onClick: _cache[18] || (_cache[18] = $event => $data.showImportModal = false),\n    disabled: $data.loading\n  }, \"取消\", 8 /* PROPS */, _hoisted_67), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[19] || (_cache[19] = (...args) => $options.confirmImportTemplates && $options.confirmImportTemplates(...args)),\n    disabled: !$data.selectedFile || $data.loading\n  }, [_cache[50] || (_cache[50] = _createElementVNode(\"i\", {\n    class: \"bi bi-upload me-2\"\n  }, null, -1 /* CACHED */)), $data.loading ? (_openBlock(), _createElementBlock(\"span\", _hoisted_69, _cache[49] || (_cache[49] = [_createElementVNode(\"span\", {\n    class: \"spinner-border spinner-border-sm me-2\",\n    role: \"status\",\n    \"aria-hidden\": \"true\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 导入中... \")]))) : (_openBlock(), _createElementBlock(\"span\", _hoisted_70, \"导入\"))], 8 /* PROPS */, _hoisted_68)])])])], 6 /* CLASS, STYLE */), _createCommentVNode(\" 模态框背景 \"), $data.showAddModal || $data.showImportModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_71)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","role","style","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","onClick","_cache","$event","$data","showAddModal","disabled","loading","showImportModal","args","$options","exportTemplates","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_Fragment","_renderList","templateTypes","type","key","_normalizeClass","active","activeTab","switchTab","name","_hoisted_18","_toDisplayString","getTemplateCount","length","_hoisted_19","scrollTabs","title","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","getCurrentTypeName","_hoisted_25","getCurrentTemplates","_hoisted_26","confirmDeleteTemplateType","_hoisted_29","_hoisted_30","width","template","index","id","ref","_hoisted_31","_hoisted_32","question","_hoisted_33","_hoisted_34","editTemplate","confirmDeleteTemplate","_hoisted_37","colspan","show","_normalizeStyle","display","tabindex","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","editingTemplate","closeAddModal","_hoisted_42","onSubmit","_withModifiers","saveTemplate","_hoisted_43","for","_hoisted_44","_hoisted_45","templateForm","templateType","showNewCategoryFields","required","value","_hoisted_47","toggleNewCategory","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","newCategoryForm","placeholder","_hoisted_54","rows","_hoisted_55","sortOrder","_hoisted_56","_hoisted_57","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","onChange","handleFileSelect","accept","_hoisted_66","_hoisted_67","confirmImportTemplates","selectedFile","_hoisted_69","_hoisted_70","_hoisted_71"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/views/TemplateManagement.vue"],"sourcesContent":["<template>\n  <div class=\"container mt-4\">\n    <!-- 页面标题区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12 text-center\">\n        <h2 class=\"display-5 fw-bold text-primary\">保密问答模板管理</h2>\n        <p class=\"text-muted\">管理和维护各类保密审查问题模板</p>\n      </div>\n    </div>\n    \n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"card border-0 shadow-lg rounded-4 overflow-hidden\">\n          <!-- 操作按钮区域 -->\n          <div class=\"card-header bg-white border-0 p-4\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <div>\n                <h4 class=\"fw-bold text-primary mb-0\">\n                  <i class=\"bi bi-gear me-2\"></i>模板管理\n                </h4>\n              </div>\n              <div class=\"btn-group\">\n                <button class=\"btn btn-primary\" @click=\"showAddModal = true\" :disabled=\"loading\">\n                  <i class=\"bi bi-plus-circle me-2\"></i>添加模板类别\n                </button>\n                <button class=\"btn btn-success\" @click=\"showImportModal = true\" :disabled=\"loading\">\n                  <i class=\"bi bi-upload me-2\"></i>导入模板\n                </button>\n                <button class=\"btn btn-info\" @click=\"exportTemplates\" :disabled=\"loading\">\n                  <i class=\"bi bi-download me-2\"></i>\n                  <span v-if=\"loading\">\n                    <span class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                    导出中...\n                  </span>\n                  <span v-else>导出模板</span>\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 标签导航 -->\n          <div class=\"card-header bg-white border-0 p-0\">\n            <div class=\"tab-navigation-container\">\n              <div class=\"tab-scroll-wrapper\">\n                <ul class=\"nav nav-tabs custom-tabs flex-nowrap\" role=\"tablist\">\n                  <li class=\"nav-item flex-shrink-0\" role=\"presentation\" v-for=\"type in templateTypes\" :key=\"type.key\">\n                    <button \n                      class=\"nav-link\" \n                      :class=\"{ active: activeTab === type.key }\"\n                      @click=\"switchTab(type.key)\"\n                      type=\"button\" \n                      role=\"tab\"\n                    >\n                      <i class=\"fas fa-shield-alt me-2\"></i>{{ type.name }}\n                      <span class=\"badge bg-primary rounded-pill ms-2\">{{ getTemplateCount(type.key) }}</span>\n                    </button>\n                  </li>\n                </ul>\n              </div>\n              <!-- 标签导航控制按钮 -->\n              <div class=\"tab-controls d-flex align-items-center ms-2\" v-if=\"templateTypes.length > 4\">\n                <button class=\"btn btn-sm btn-outline-secondary\" @click=\"scrollTabs('left')\" title=\"向左滚动\">\n                  <i class=\"fas fa-chevron-left\"></i>\n                </button>\n                <button class=\"btn btn-sm btn-outline-secondary ms-1\" @click=\"scrollTabs('right')\" title=\"向右滚动\">\n                  <i class=\"fas fa-chevron-right\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 标签内容 -->\n          <div class=\"card-body p-4\">\n            <div class=\"tab-content\">\n              <div class=\"tab-pane fade show active\">\n                <div class=\"d-flex justify-content-between align-items-center mb-4\">\n                  <div>\n                    <h3 class=\"fw-bold text-primary mb-0\">\n                      <i class=\"fas fa-list-alt me-2\"></i>{{ getCurrentTypeName() }}\n                      <span class=\"badge bg-primary rounded-pill ms-2\">{{ getCurrentTemplates().length }}</span>\n                    </h3>\n                    <div class=\"border-bottom border-2 border-primary mt-2\" style=\"width: 50px;\"></div>\n                  </div>\n                  <div class=\"btn-group\">\n                    <button \n                      class=\"btn btn-primary px-4 py-2 d-flex align-items-center shadow-sm\" \n                      @click=\"showAddModal = true\"\n                      :disabled=\"loading\"\n                    >\n                      <i class=\"fas fa-plus-circle me-2\"></i> 添加问题\n                    </button>\n                    <button \n                      v-if=\"getCurrentTemplates().length > 0\"\n                      class=\"btn btn-danger px-4 py-2 d-flex align-items-center shadow-sm\" \n                      @click=\"confirmDeleteTemplateType\"\n                      :disabled=\"loading\"\n                    >\n                      <i class=\"fas fa-trash-alt me-2\"></i> 删除类型\n                    </button>\n                  </div>\n                </div>\n                \n                <!-- 问题列表 -->\n                <div class=\"table-responsive rounded-4 shadow-sm\" style=\"min-height: 400px;\">\n                  <table class=\"table table-hover mb-0\">\n                    <thead>\n                      <tr class=\"bg-light\">\n                        <th width=\"5%\" class=\"py-3 ps-4 text-primary\">序号</th>\n                        <th width=\"80%\" class=\"py-3 text-primary\">问题</th>\n                        <th width=\"15%\" class=\"py-3 text-center text-primary\">操作</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr \n                        v-for=\"(template, index) in getCurrentTemplates()\" \n                        :key=\"template.id\" \n                        class=\"border-bottom question-item\"\n                        :ref=\"'row-' + template.id\"\n                      >\n                        <td class=\"py-3 ps-4 fw-bold text-muted\">{{ index + 1 }}</td>\n                        <td class=\"py-3 question-text\">{{ template.question }}</td>\n                        <td class=\"py-3 text-center\">\n                          <div class=\"btn-group\">\n                            <button \n                              class=\"btn btn-sm btn-outline-primary edit-btn\" \n                              @click=\"editTemplate(template)\"\n                              :disabled=\"loading\"\n                            >\n                              <i class=\"fas fa-edit me-1\"></i> 编辑\n                            </button>\n                            <button \n                              class=\"btn btn-sm btn-outline-danger delete-btn\" \n                              @click=\"confirmDeleteTemplate(template.id)\"\n                              :disabled=\"loading\"\n                            >\n                              <i class=\"fas fa-trash-alt me-1\"></i> 删除\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                      <tr v-if=\"getCurrentTemplates().length === 0\">\n                        <td colspan=\"3\" class=\"text-center py-5\">\n                          <div class=\"empty-state\">\n                            <i class=\"fas fa-inbox fa-3x mb-3 text-secondary opacity-50\"></i>\n                            <h5 class=\"text-secondary\">暂无问题模板</h5>\n                            <p class=\"text-muted\">点击\"添加问题\"按钮创建新的问题模板</p>\n                          </div>\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 添加/编辑模板模态框 -->\n    <div class=\"modal fade\" :class=\"{ show: showAddModal }\" :style=\"{ display: showAddModal ? 'block' : 'none' }\" tabindex=\"-1\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">\n              <i class=\"bi bi-plus-circle me-2\"></i>{{ editingTemplate ? '编辑模板' : '添加模板类别' }}\n            </h5>\n            <button type=\"button\" class=\"btn-close\" @click=\"closeAddModal\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"saveTemplate\">\n              <div class=\"mb-3\">\n                <label for=\"templateType\" class=\"form-label\">模板类型</label>\n                <div class=\"d-flex align-items-center mb-2\">\n                  <div class=\"input-group\">\n                    <select class=\"form-select\" id=\"templateType\" v-model=\"templateForm.templateType\" :disabled=\"showNewCategoryFields\" required>\n                      <option value=\"\">请选择模板类型</option>\n                      <option v-for=\"type in templateTypes\" :key=\"type.key\" :value=\"type.key\">\n                        {{ type.name }}\n                      </option>\n                    </select>\n                    <button type=\"button\" class=\"btn btn-outline-primary\" @click=\"toggleNewCategory\">\n                      <i class=\"fas fa-plus\" v-if=\"!showNewCategoryFields\"></i>\n                      <i class=\"fas fa-minus\" v-else></i>\n                      {{ showNewCategoryFields ? ' 取消新类别' : ' 新类别' }}\n                    </button>\n                  </div>\n                </div>\n              </div>\n              \n              <!-- 新类别输入字段 -->\n              <div v-if=\"showNewCategoryFields\" class=\"mb-3 new-category-fields\">\n                <div class=\"card border-primary p-3 mb-3\">\n                  <div class=\"mb-3\">\n                    <label for=\"newTypeKey\" class=\"form-label\">类别名称</label>\n                    <div class=\"input-group\">\n                      <span class=\"input-group-text\"><i class=\"fas fa-code\"></i></span>\n                      <input type=\"text\" class=\"form-control\" id=\"newTypeKey\" v-model=\"newCategoryForm.key\" placeholder=\"例如：信息安全\">\n                    </div>\n                    <div class=\"form-text text-muted\">\n                      <i class=\"fas fa-info-circle me-1\"></i>\n                      类别名称只能包含中文、英文、数字、下划线和连字符，不能包含空格\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"question\" class=\"form-label\">问题内容</label>\n                <textarea \n                  class=\"form-control\" \n                  id=\"question\" \n                  rows=\"4\" \n                  v-model=\"templateForm.question\" \n                  placeholder=\"请输入问题内容\"\n                  required\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"sortOrder\" class=\"form-label\">排序</label>\n                <input \n                  type=\"number\" \n                  class=\"form-control\" \n                  id=\"sortOrder\" \n                  v-model=\"templateForm.sortOrder\" \n                  placeholder=\"排序号（数字越小越靠前）\"\n                />\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"closeAddModal\" :disabled=\"loading\">取消</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"saveTemplate\" :disabled=\"loading\">\n              <i class=\"bi bi-check-circle me-2\"></i>\n              <span v-if=\"loading\">\n                <span class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                保存中...\n              </span>\n              <span v-else>保存</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 导入模板模态框 -->\n    <div class=\"modal fade\" :class=\"{ show: showImportModal }\" :style=\"{ display: showImportModal ? 'block' : 'none' }\" tabindex=\"-1\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">\n              <i class=\"bi bi-upload me-2\"></i>导入模板\n            </h5>\n            <button type=\"button\" class=\"btn-close\" @click=\"showImportModal = false\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <div class=\"mb-3\">\n              <label for=\"importFile\" class=\"form-label\">选择文件</label>\n              <input \n                type=\"file\" \n                class=\"form-control\" \n                id=\"importFile\" \n                @change=\"handleFileSelect\"\n                accept=\".xlsx,.xls,.csv\"\n              />\n              <div class=\"form-text\">支持Excel (.xlsx, .xls) 和CSV (.csv) 格式</div>\n            </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"showImportModal = false\" :disabled=\"loading\">取消</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"confirmImportTemplates\" :disabled=\"!selectedFile || loading\">\n              <i class=\"bi bi-upload me-2\"></i>\n              <span v-if=\"loading\">\n                <span class=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\n                导入中...\n              </span>\n              <span v-else>导入</span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 模态框背景 -->\n    <div v-if=\"showAddModal || showImportModal\" class=\"modal-backdrop fade show\"></div>\n  </div>\n</template>\n\n<script>\nimport secrecyTemplateApi from '@/api/secrecyTemplate'\nimport message from '@/utils/message'\n\nexport default {\n  name: 'TemplateManagement',\n  data() {\n    return {\n      activeTab: 'secrecy_system',\n      showAddModal: false,\n      showImportModal: false,\n      showNewCategoryFields: false,\n      editingTemplate: null,\n      selectedFile: null,\n      loading: false,\n      templateForm: {\n        templateType: '',\n        question: '',\n        sortOrder: 0\n      },\n      newCategoryForm: {\n        key: ''\n      },\n      templateTypes: [],\n      templates: {}\n    }\n  },\n  methods: {\n    // UI交互方法\n    switchTab(tabKey) {\n      // 添加标签切换动画效果\n      const tabContent = document.querySelector('.tab-content');\n      if (tabContent) {\n        tabContent.style.animation = 'none';\n        setTimeout(() => {\n          this.activeTab = tabKey;\n          tabContent.style.animation = 'fadeIn 0.5s ease-in-out';\n        }, 10);\n      } else {\n        this.activeTab = tabKey;\n      }\n      \n      // 确保当前激活的标签在可视区域内\n      this.$nextTick(() => {\n        this.scrollToActiveTab();\n      });\n    },\n\n    scrollTabs(direction) {\n      const scrollWrapper = document.querySelector('.tab-scroll-wrapper');\n      if (!scrollWrapper) return;\n      \n      const scrollAmount = 200; // 每次滚动的像素数\n      const currentScroll = scrollWrapper.scrollLeft;\n      \n      if (direction === 'left') {\n        scrollWrapper.scrollTo({\n          left: currentScroll - scrollAmount,\n          behavior: 'smooth'\n        });\n      } else {\n        scrollWrapper.scrollTo({\n          left: currentScroll + scrollAmount,\n          behavior: 'smooth'\n        });\n      }\n    },\n\n    scrollToActiveTab() {\n      const scrollWrapper = document.querySelector('.tab-scroll-wrapper');\n      const activeTab = document.querySelector('.nav-link.active');\n      \n      if (!scrollWrapper || !activeTab) return;\n      \n      const wrapperRect = scrollWrapper.getBoundingClientRect();\n      const tabRect = activeTab.getBoundingClientRect();\n      \n      // 如果激活的标签不在可视区域内，滚动到该标签\n      if (tabRect.left < wrapperRect.left || tabRect.right > wrapperRect.right) {\n        const scrollLeft = activeTab.offsetLeft - (scrollWrapper.offsetWidth / 2) + (activeTab.offsetWidth / 2);\n        scrollWrapper.scrollTo({\n          left: scrollLeft,\n          behavior: 'smooth'\n        });\n      }\n    },\n\n    confirmDeleteTemplate(id) {\n      if (!id) {\n        this.showToast('错误', '无法获取问题ID，请刷新页面重试', 'error');\n        return;\n      }\n\n      // 使用浏览器原生确认对话框（可以后续替换为更美观的组件）\n      if (confirm('确定要删除这个问题吗？删除后将无法恢复！')) {\n        this.deleteTemplate(id);\n      }\n    },\n\n    confirmDeleteTemplateType() {\n      const typeName = this.getCurrentTypeName();\n      if (confirm(`确定要删除整个\"${typeName}\"类型的所有模板吗？删除后将无法恢复\"${typeName}\"类型下的所有问题！`)) {\n        this.deleteTemplateType();\n      }\n    },\n\n    confirmImportTemplates() {\n      if (!this.selectedFile) {\n        this.showToast('错误', '请选择文件', 'error');\n        return;\n      }\n\n      if (confirm('确定要导入模板吗？这将覆盖数据库中的现有数据！')) {\n        this.importTemplates();\n      }\n    },\n\n    showToast(title, message, type) {\n      // 简化的消息提示，可以后续替换为更美观的组件\n      if (type === 'success') {\n        message.success(message);\n      } else if (type === 'error') {\n        message.error(message);\n      } else if (type === 'warning') {\n        message.warning(message);\n      }\n    },\n\n    toggleNewCategory() {\n      this.showNewCategoryFields = !this.showNewCategoryFields;\n      if (this.showNewCategoryFields) {\n        // 清空模板类型选择\n        this.templateForm.templateType = '';\n        // 添加动画效果\n        this.$nextTick(() => {\n          const newCategoryFields = document.querySelector('.new-category-fields');\n          if (newCategoryFields) {\n            newCategoryFields.style.animation = 'fadeIn 0.3s ease-in-out';\n          }\n        });\n      } else {\n        // 清空新类别输入框\n        this.newCategoryForm.key = '';\n      }\n    },\n\n    validateNewCategory() {\n      const newTypeKey = this.newCategoryForm.key.trim();\n      \n      if (!newTypeKey) {\n        this.showToast('错误', '新类别名称不能为空', 'error');\n        return false;\n      }\n      \n      // 验证类别名称格式（不能包含空格等特殊字符）\n      if (!/^[\\u4e00-\\u9fa5a-zA-Z0-9_-]+$/.test(newTypeKey)) {\n        this.showToast('错误', '类别名称只能包含中文、英文、数字、下划线和连字符，不能包含空格', 'error');\n        return false;\n      }\n      \n      return true;\n    },\n\n    // API调用方法\n    async loadTemplateTypes() {\n      try {\n        const response = await secrecyTemplateApi.getAllTemplateTypes();\n        \n        if (response.data.code === 200) {\n          const types = response.data.data;\n          // 将字符串类型转换为对象格式\n          this.templateTypes = types.map(type => ({\n            key: type,\n            name: this.getTemplateTypeName(type)\n          }));\n          \n          // 初始化templates对象\n          types.forEach(type => {\n            this.templates[type] = [];\n          });\n          \n          // 设置默认激活标签\n          if (types.length > 0) {\n            this.activeTab = types[0];\n          }\n        } else {\n          message.error(response.data.message || '加载模板类型失败');\n        }\n      } catch (error) {\n        console.error('加载模板类型失败:', error);\n        message.error('加载模板类型失败');\n      }\n    },\n\n    // 获取模板类型的显示名称\n    getTemplateTypeName(type) {\n      return type;\n    },\n\n    async loadTemplates(templateType = null) {\n      try {\n        this.loading = true;\n        \n        if (templateType) {\n          // 加载指定类型的模板\n          const response = await secrecyTemplateApi.getAllTemplates(templateType);\n          if (response.data.code === 200) {\n             this.templates[templateType] = response.data.data;\n          } else {\n            message.error(response.data.message || '加载模板失败');\n          }\n        } else {\n          // 为每个模板类型分别加载数据\n          for (const type of this.templateTypes) {\n            const response = await secrecyTemplateApi.getAllTemplates(type.key);\n            if (response.data.code === 200) {\n               this.templates[type.key] = response.data.data;\n             } else {\n               console.error(`加载类型 ${type.key} 的模板失败:`, response.data.message);\n               this.templates[type.key] = [];\n            }\n          }\n        }\n      } catch (error) {\n        console.error('加载模板失败:', error);\n        message.error('加载模板失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async saveTemplate() {\n      try {\n        // 检查是否是新类别\n        const isNewCategory = this.showNewCategoryFields;\n        let templateType = this.templateForm.templateType;\n        \n        if (isNewCategory) {\n          // 验证新类别输入\n          if (!this.validateNewCategory()) {\n            return;\n          }\n          templateType = this.newCategoryForm.key.trim();\n        }\n        \n        if (!templateType || !this.templateForm.question) {\n          message.warning('请填写完整信息');\n          return;\n        }\n\n        this.loading = true;\n        let response;\n        \n        if (this.editingTemplate) {\n          // 编辑模板\n          response = await secrecyTemplateApi.editTemplate(this.editingTemplate.id, {\n            templateType: templateType,\n            question: this.templateForm.question,\n            sortOrder: this.templateForm.sortOrder || 0\n          });\n        } else {\n          // 添加模板（使用新类别或现有类别）\n          response = await secrecyTemplateApi.addTemplateWithCategory(\n            templateType,\n            this.templateForm.question,\n            this.templateForm.sortOrder || 0\n          );\n        }\n\n        if (response.data.code === 200) {\n          message.success(this.editingTemplate ? '更新成功' : '问题已成功添加');\n          this.closeAddModal();\n          \n          // 如果是新类别，需要重新加载模板类型和模板数据\n          if (isNewCategory) {\n            await this.loadTemplateTypes();\n            await this.loadTemplates();\n            // 切换到新创建的类别\n            this.activeTab = templateType;\n          } else {\n            await this.loadTemplates(templateType);\n          }\n        } else {\n          message.error(response.data.message || '操作失败');\n        }\n      } catch (error) {\n        console.error('保存模板失败:', error);\n        message.error('保存模板失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async deleteTemplate(id) {\n      try {\n        this.loading = true;\n        const response = await secrecyTemplateApi.deleteTemplate(id);\n\n        if (response.data.code === 200) {\n          // 添加行删除动画效果\n          const rowElement = this.$refs[`row-${id}`];\n          if (rowElement && rowElement[0]) {\n            // 添加淡出动画\n            rowElement[0].style.transition = 'opacity 0.3s ease';\n            rowElement[0].style.opacity = '0';\n            \n            setTimeout(() => {\n              message.success('问题已成功删除');\n              this.loadTemplates(this.activeTab);\n            }, 300);\n          } else {\n            message.success('删除成功');\n            await this.loadTemplates(this.activeTab);\n          }\n        } else {\n          message.error(response.data.message || '删除失败');\n        }\n      } catch (error) {\n        console.error('删除模板失败:', error);\n        message.error('删除模板失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async deleteTemplateType() {\n      const typeName = this.getCurrentTypeName();\n      if (!confirm(`确定要删除整个\"${typeName}\"类型的所有模板吗？`)) {\n        return;\n      }\n\n      try {\n        this.loading = true;\n        const response = await secrecyTemplateApi.deleteTemplateType(this.activeTab);\n\n        if (response.data.code === 200) {\n          message.success('删除类型成功');\n          await this.loadTemplates(this.activeTab);\n        } else {\n          message.error(response.data.message || '删除失败');\n        }\n      } catch (error) {\n        console.error('删除模板类型失败:', error);\n        message.error('删除模板类型失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async importTemplates() {\n      if (!this.selectedFile) {\n        message.warning('请选择文件');\n        return;\n      }\n\n      try {\n        this.loading = true;\n        let response;\n        \n        if (this.selectedFile.name.endsWith('.csv')) {\n          response = await secrecyTemplateApi.importCsvTemplate(this.selectedFile);\n        } else {\n          response = await secrecyTemplateApi.importTemplate(this.selectedFile);\n        }\n\n        if (response.data.code === 200) {\n          message.success(`成功导入${response.data.data}条数据`);\n          this.showImportModal = false;\n          this.selectedFile = null;\n          await this.loadTemplates();\n        } else {\n          message.error(response.data.message || '导入失败');\n        }\n      } catch (error) {\n        console.error('导入模板失败:', error);\n        message.error('导入模板失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    async exportTemplates() {\n      try {\n        this.loading = true;\n        const response = await secrecyTemplateApi.exportTemplates(this.activeTab);\n\n        // 创建下载链接\n        const blob = new Blob([response.data], {\n          type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\n        });\n        const url = window.URL.createObjectURL(blob);\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `secrecy_templates_${this.activeTab || 'all'}.xlsx`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        window.URL.revokeObjectURL(url);\n\n        // 延迟恢复按钮状态（因为是下载操作，没有完成回调）\n        setTimeout(() => {\n          this.loading = false;\n          message.success('模板导出请求已发送');\n        }, 1000);\n      } catch (error) {\n        console.error('导出模板失败:', error);\n        message.error('导出模板失败');\n        this.loading = false;\n      }\n    },\n\n    handleFileSelect(event) {\n      this.selectedFile = event.target.files[0];\n    },\n\n    closeAddModal() {\n      this.showAddModal = false;\n      this.showNewCategoryFields = false;\n      this.editingTemplate = null;\n      this.templateForm = {\n        templateType: '',\n        question: '',\n        sortOrder: 0\n      };\n      this.newCategoryForm = {\n        key: ''\n      };\n    },\n\n    // UI辅助方法\n    getCurrentTemplates() {\n      return this.templates[this.activeTab] || [];\n    },\n\n    getCurrentTypeName() {\n      const type = this.templateTypes.find(t => t.key === this.activeTab);\n      return type ? type.name : '';\n    },\n\n    getTemplateCount(typeKey) {\n      return this.templates[typeKey] ? this.templates[typeKey].length : 0;\n    },\n\n    editTemplate(template) {\n      this.editingTemplate = template;\n      this.templateForm = {\n        templateType: this.activeTab,\n        question: template.question,\n        sortOrder: template.sortOrder\n      };\n      this.showAddModal = true;\n    },\n\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleString('zh-CN');\n    }\n  },\n  watch: {\n    activeTab(newTab) {\n      // 当切换标签时，如果该类型的模板还没有加载，则加载\n      if (!this.templates[newTab] || this.templates[newTab].length === 0) {\n        this.loadTemplates(newTab);\n      }\n    }\n  },\n  async mounted() {\n    console.log('模版管理页面已加载');\n    // 先加载模板类型，然后加载模板数据\n    await this.loadTemplateTypes();\n    await this.loadTemplates();\n  }\n}\n</script>\n\n<style scoped>\n/* 自定义标签样式 */\n.custom-tabs {\n  border-bottom: none;\n  background: linear-gradient(to right, #f8f9fa, #e9ecef);\n}\n\n.custom-tabs .nav-link {\n  border: none;\n  padding: 1rem 1.5rem;\n  font-weight: 500;\n  color: #6c757d;\n  position: relative;\n  transition: all 0.3s ease;\n}\n\n.custom-tabs .nav-link:hover {\n  color: #4361ee;\n}\n\n.custom-tabs .nav-link.active {\n  color: #4361ee;\n  background-color: transparent;\n}\n\n.custom-tabs .nav-link::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 3px;\n  background-color: #4361ee;\n  transform: scaleX(0);\n  transition: transform 0.3s ease;\n}\n\n.custom-tabs .nav-link.active::after,\n.custom-tabs .nav-link:hover::after {\n  transform: scaleX(1);\n}\n\n/* 表格样式 */\n.table {\n  border-collapse: separate;\n  border-spacing: 0;\n}\n\n.table thead th {\n  font-weight: 600;\n  border-top: none;\n  border-bottom: 2px solid #e0e0e0;\n}\n\n.table tbody tr {\n  transition: all 0.3s ease;\n}\n\n.table tbody tr:hover {\n  background-color: rgba(67, 97, 238, 0.05);\n}\n\n/* 问题项动画 */\n.question-item {\n  transition: all 0.3s ease;\n}\n\n.question-text {\n  line-height: 1.5;\n}\n\n/* 按钮样式 */\n.btn-outline-primary {\n  color: #4361ee;\n  border-color: #4361ee;\n}\n\n.btn-outline-primary:hover {\n  background-color: #4361ee;\n  border-color: #4361ee;\n}\n\n.btn-primary {\n  background-color: #4361ee;\n  border-color: #4361ee;\n}\n\n.btn-primary:hover {\n  background-color: #3f37c9;\n  border-color: #3f37c9;\n}\n\n.btn {\n  transition: all 0.3s ease;\n}\n\n.btn:hover {\n  transform: translateY(-1px);\n}\n\n/* 表单控件样式 */\n.form-control:focus, .form-select:focus {\n  border-color: #4361ee;\n  box-shadow: 0 0 0 0.25rem rgba(67, 97, 238, 0.25);\n}\n\n/* 模态框样式 */\n.modal {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.modal-content {\n  border-radius: 0.75rem;\n  overflow: hidden;\n}\n\n.modal-header {\n  padding: 1.25rem 1.5rem;\n}\n\n/* 空状态样式 */\n.empty-state {\n  padding: 2rem;\n  text-align: center;\n}\n\n/* 卡片悬停效果 */\n.card {\n  transition: all 0.3s ease;\n}\n\n.template-card {\n  transition: all 0.3s ease;\n}\n\n.template-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.badge {\n  font-size: 0.75rem;\n}\n\n.stats-card {\n  transition: all 0.3s ease;\n}\n\n.stats-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.stats-icon {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  margin: 0 auto;\n}\n\n/* 动画效果 */\n@keyframes fadeIn {\n  from { \n    opacity: 0; \n    transform: translateY(20px); \n  }\n  to { \n    opacity: 1; \n    transform: translateY(0); \n  }\n}\n\n.tab-content {\n  animation: fadeIn 0.5s ease-in-out;\n}\n\n/* 加载状态样式 */\n.spinner-border-sm {\n  width: 1rem;\n  height: 1rem;\n}\n\n/* 新类别字段样式 */\n.new-category-fields {\n  animation: fadeIn 0.3s ease-in-out;\n}\n\n.new-category-fields .card {\n  border: 1px solid #4361ee;\n  background-color: rgba(67, 97, 238, 0.05);\n}\n\n.new-category-fields .form-text {\n  font-size: 0.875rem;\n}\n\n.input-group-text {\n  background-color: #f8f9fa;\n  border-color: #dee2e6;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}