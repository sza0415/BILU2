{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"case-list-container\"\n};\nconst _hoisted_2 = {\n  class: \"card border-0 shadow-sm rounded-3\"\n};\nconst _hoisted_3 = {\n  class: \"card-header bg-white py-3 border-0\"\n};\nconst _hoisted_4 = {\n  class: \"d-flex align-items-center justify-content-between\"\n};\nconst _hoisted_5 = {\n  class: \"d-flex align-items-center\"\n};\nconst _hoisted_6 = {\n  class: \"badge bg-primary bg-opacity-10 text-primary ms-3\"\n};\nconst _hoisted_7 = {\n  class: \"ms-3 text-muted small\"\n};\nconst _hoisted_8 = {\n  class: \"d-flex align-items-center\"\n};\nconst _hoisted_9 = {\n  class: \"btn-group me-2\"\n};\nconst _hoisted_10 = {\n  class: \"card-body p-4\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"text-center py-5\"\n};\nconst _hoisted_12 = {\n  key: 1,\n  class: \"text-center py-5\"\n};\nconst _hoisted_13 = {\n  class: \"empty-state p-4\"\n};\nconst _hoisted_14 = {\n  key: 2\n};\nconst _hoisted_15 = {\n  key: 0,\n  class: \"row\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_case_card = _resolveComponent(\"case-card\");\n  const _component_case_table = _resolveComponent(\"case-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[4] || (_cache[4] = _createElementVNode(\"i\", {\n    class: \"bi bi-folder2-open fs-4 text-primary me-2\"\n  }, null, -1 /* CACHED */)), _cache[5] || (_cache[5] = _createElementVNode(\"h5\", {\n    class: \"card-title mb-0 fw-bold\"\n  }, \"案件列表\", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_6, _toDisplayString($setup.displayCases.length), 1 /* TEXT */), _createCommentVNode(\" 添加调试信息 \"), _createElementVNode(\"span\", _hoisted_7, \"(调试信息: 原始数组长度 \" + _toDisplayString($props.cases.length) + \", 显示数组长度 \" + _toDisplayString($setup.displayCases.length) + \")\", 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"btn btn-sm\", $setup.viewMode === 'card' ? 'btn-primary' : 'btn-outline-primary']),\n    onClick: _cache[0] || (_cache[0] = $event => $setup.setViewMode('card')),\n    title: \"卡片视图\"\n  }, _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n    class: \"bi bi-grid\"\n  }, null, -1 /* CACHED */)]), 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass([\"btn btn-sm\", $setup.viewMode === 'list' ? 'btn-primary' : 'btn-outline-primary']),\n    onClick: _cache[1] || (_cache[1] = $event => $setup.setViewMode('list')),\n    title: \"列表视图\"\n  }, _cache[7] || (_cache[7] = [_createElementVNode(\"i\", {\n    class: \"bi bi-list\"\n  }, null, -1 /* CACHED */)]), 2 /* CLASS */)]), _createElementVNode(\"button\", {\n    class: \"btn btn-sm btn-primary\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.addCase && $setup.addCase(...args))\n  }, _cache[8] || (_cache[8] = [_createElementVNode(\"i\", {\n    class: \"bi bi-plus-lg me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 新增案件 \")]))])])]), _createElementVNode(\"div\", _hoisted_10, [$props.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _cache[9] || (_cache[9] = [_createElementVNode(\"div\", {\n    class: \"spinner-border text-primary\",\n    role: \"status\"\n  }, [_createElementVNode(\"span\", {\n    class: \"visually-hidden\"\n  }, \"加载中...\")], -1 /* CACHED */), _createElementVNode(\"p\", {\n    class: \"mt-3 text-muted\"\n  }, \"正在加载案件数据...\", -1 /* CACHED */)]))) : $setup.displayCases.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_cache[11] || (_cache[11] = _createElementVNode(\"i\", {\n    class: \"bi bi-folder2 text-muted\",\n    style: {\n      \"font-size\": \"4rem\"\n    }\n  }, null, -1 /* CACHED */)), _cache[12] || (_cache[12] = _createElementVNode(\"h5\", {\n    class: \"mt-4\"\n  }, \"暂无案件记录\", -1 /* CACHED */)), _cache[13] || (_cache[13] = _createElementVNode(\"p\", {\n    class: \"text-muted\"\n  }, \"您可以点击\\\"新增案件\\\"按钮添加第一个案件\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"btn btn-primary mt-3\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.addCase && $setup.addCase(...args))\n  }, _cache[10] || (_cache[10] = [_createElementVNode(\"i\", {\n    class: \"bi bi-plus-lg me-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 新增案件 \")]))])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [_createCommentVNode(\" 卡片视图 \"), $setup.viewMode === 'card' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.displayCases, (caseItem, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: caseItem.id || index,\n      class: \"col-md-6 col-lg-4 mb-3\"\n    }, [_createVNode(_component_case_card, {\n      \"case-item\": caseItem,\n      onViewDetail: $setup.viewCaseDetail,\n      onEdit: $setup.editCase,\n      onDelete: $setup.confirmDeleteCase\n    }, null, 8 /* PROPS */, [\"case-item\", \"onViewDetail\", \"onEdit\", \"onDelete\"])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" 表格视图 \"), _createElementVNode(\"div\", null, [_createVNode(_component_case_table, {\n    cases: $setup.displayCases,\n    onViewDetail: $setup.viewCaseDetail,\n    onEdit: $setup.editCase,\n    onDelete: $setup.confirmDeleteCase\n  }, null, 8 /* PROPS */, [\"cases\", \"onViewDetail\", \"onEdit\", \"onDelete\"])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","$setup","displayCases","length","_createCommentVNode","_hoisted_7","$props","cases","_hoisted_8","_hoisted_9","_normalizeClass","viewMode","onClick","_cache","$event","setViewMode","title","args","addCase","_hoisted_10","loading","_hoisted_11","role","_hoisted_12","_hoisted_13","style","_hoisted_14","_hoisted_15","_Fragment","_renderList","caseItem","index","key","id","_createVNode","_component_case_card","onViewDetail","viewCaseDetail","onEdit","editCase","onDelete","confirmDeleteCase","_component_case_table"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/case/CaseList.vue"],"sourcesContent":["<template>\n  <div class=\"case-list-container\">\n    <div class=\"card border-0 shadow-sm rounded-3\">\n      <div class=\"card-header bg-white py-3 border-0\">\n        <div class=\"d-flex align-items-center justify-content-between\">\n          <div class=\"d-flex align-items-center\">\n            <i class=\"bi bi-folder2-open fs-4 text-primary me-2\"></i>\n            <h5 class=\"card-title mb-0 fw-bold\">案件列表</h5>\n            <span class=\"badge bg-primary bg-opacity-10 text-primary ms-3\">{{ displayCases.length }}</span>\n            <!-- 添加调试信息 -->\n            <span class=\"ms-3 text-muted small\">(调试信息: 原始数组长度 {{ cases.length }}, 显示数组长度 {{ displayCases.length }})</span>\n          </div>\n          <div class=\"d-flex align-items-center\">\n            <div class=\"btn-group me-2\">\n              <button class=\"btn btn-sm\" :class=\"viewMode === 'card' ? 'btn-primary' : 'btn-outline-primary'\" @click=\"setViewMode('card')\" title=\"卡片视图\">\n                <i class=\"bi bi-grid\"></i>\n              </button>\n              <button class=\"btn btn-sm\" :class=\"viewMode === 'list' ? 'btn-primary' : 'btn-outline-primary'\" @click=\"setViewMode('list')\" title=\"列表视图\">\n                <i class=\"bi bi-list\"></i>\n              </button>\n            </div>\n            <button class=\"btn btn-sm btn-primary\" @click=\"addCase\">\n              <i class=\"bi bi-plus-lg me-1\"></i> 新增案件\n            </button>\n          </div>\n        </div>\n      </div>\n      <div class=\"card-body p-4\">\n        <div v-if=\"loading\" class=\"text-center py-5\">\n          <div class=\"spinner-border text-primary\" role=\"status\">\n            <span class=\"visually-hidden\">加载中...</span>\n          </div>\n          <p class=\"mt-3 text-muted\">正在加载案件数据...</p>\n        </div>\n        <div v-else-if=\"displayCases.length === 0\" class=\"text-center py-5\">\n          <div class=\"empty-state p-4\">\n            <i class=\"bi bi-folder2 text-muted\" style=\"font-size: 4rem;\"></i>\n            <h5 class=\"mt-4\">暂无案件记录</h5>\n            <p class=\"text-muted\">您可以点击\"新增案件\"按钮添加第一个案件</p>\n            <button class=\"btn btn-primary mt-3\" @click=\"addCase\">\n              <i class=\"bi bi-plus-lg me-1\"></i> 新增案件\n            </button>\n          </div>\n        </div>\n        <div v-else>\n          <!-- 卡片视图 -->\n          <div v-if=\"viewMode === 'card'\" class=\"row\">\n            <div v-for=\"(caseItem, index) in displayCases\" :key=\"caseItem.id || index\" class=\"col-md-6 col-lg-4 mb-3\">\n              <case-card \n                :case-item=\"caseItem\" \n                @view-detail=\"viewCaseDetail\" \n                @edit=\"editCase\" \n                @delete=\"confirmDeleteCase\"\n              />\n            </div>\n          </div>\n          \n          <!-- 表格视图 -->\n          <div v-else>\n            <case-table \n              :cases=\"displayCases\" \n              @view-detail=\"viewCaseDetail\" \n              @edit=\"editCase\" \n              @delete=\"confirmDeleteCase\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, computed } from 'vue'\nimport CaseCard from './CaseCard.vue'\nimport CaseTable from './CaseTable.vue'\n\nexport default {\n  name: 'CaseList',\n  components: {\n    CaseCard,\n    CaseTable\n  },\n  props: {\n    cases: {\n      type: Array,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['view-detail', 'add', 'edit', 'delete'],\n  setup(props, { emit }) {\n    const viewMode = ref('card') // 默认卡片视图\n    \n    // 使用计算属性确保始终有一个有效的数组\n    const displayCases = computed(() => {\n      console.log('计算displayCases，原始cases:', props.cases)\n      return Array.isArray(props.cases) ? props.cases : []\n    })\n    \n    // 监听cases属性变化\n    watch(() => props.cases, (newCases, oldCases) => {\n      console.log('CaseList组件检测到cases变化:')\n      console.log('新的cases:', newCases)\n      console.log('旧的cases:', oldCases)\n      console.log('新cases长度:', Array.isArray(newCases) ? newCases.length : 0)\n      console.log('旧cases长度:', Array.isArray(oldCases) ? oldCases.length : 0)\n      console.log('displayCases长度:', displayCases.value.length)\n    }, { deep: true, immediate: true })\n    \n    // 设置视图模式\n    const setViewMode = (mode) => {\n      viewMode.value = mode\n    }\n    \n    // 查看案件详情\n    const viewCaseDetail = (id) => {\n      emit('view-detail', id)\n    }\n    \n    // 添加案件\n    const addCase = () => {\n      emit('add')\n    }\n    \n    // 编辑案件\n    const editCase = (caseItem) => {\n      emit('edit', caseItem)\n    }\n    \n    // 确认删除案件\n    const confirmDeleteCase = (caseItem) => {\n      emit('delete', caseItem)\n    }\n    \n    return {\n      viewMode,\n      displayCases,\n      setViewMode,\n      viewCaseDetail,\n      addCase,\n      editCase,\n      confirmDeleteCase\n    }\n  }\n}\n</script>\n\n<style scoped>\n.case-list-container {\n  margin-bottom: 2rem;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n}\n\n.btn-primary {\n  background: linear-gradient(to right, #4a6cf7, #2651f0);\n  border: none;\n  box-shadow: 0 4px 10px rgba(74, 108, 247, 0.3);\n}\n\n.btn-primary:hover {\n  background: linear-gradient(to right, #2651f0, #1a3fd9);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 15px rgba(74, 108, 247, 0.4);\n}\n\n.btn-outline-primary {\n  color: #4a6cf7;\n  border-color: #4a6cf7;\n}\n\n.btn-outline-primary:hover {\n  background-color: rgba(74, 108, 247, 0.1);\n  color: #2651f0;\n  border-color: #2651f0;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}