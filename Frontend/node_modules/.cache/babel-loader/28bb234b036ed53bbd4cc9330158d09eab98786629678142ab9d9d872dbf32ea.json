{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { ref, reactive, onMounted, watch } from 'vue';\nimport { getCaseList, searchCases as searchCasesApi, addCase, updateCase, deleteCase as deleteCaseApi, getCaseStatistics } from '@/api/case';\n\n// 导入组件\nimport CaseStatistics from '@/components/case/CaseStatistics.vue';\nimport CaseSearch from '@/components/case/CaseSearch.vue';\nimport CaseList from '@/components/case/CaseList.vue';\nimport Pagination from '@/components/case/Pagination.vue';\nimport AddCaseModal from '@/components/case/modals/AddCaseModal.vue';\nimport EditCaseModal from '@/components/case/modals/EditCaseModal.vue';\nimport DeleteCaseModal from '@/components/case/modals/DeleteCaseModal.vue';\nimport CaseDetailModal from '@/components/case/modals/CaseDetailModal.vue';\nexport default {\n  name: 'CaseManagement',\n  components: {\n    CaseStatistics,\n    CaseSearch,\n    CaseList,\n    Pagination,\n    AddCaseModal,\n    EditCaseModal,\n    DeleteCaseModal,\n    CaseDetailModal\n  },\n  setup() {\n    // 状态变量\n    const loading = ref(false);\n    const statisticsLoading = ref(false);\n    const showAdvancedSearch = ref(false);\n    const cases = ref([]);\n    const caseListKey = ref(0); // 用于强制刷新CaseList组件\n    const statistics = ref({\n      totalCases: 0,\n      criminalCases: 0,\n      civilCases: 0,\n      administrativeCases: 0,\n      investigatingCases: 0,\n      inTrialCases: 0,\n      closedCases: 0\n    });\n\n    // 分页相关\n    const currentPage = ref(1);\n    const pageSize = ref(10);\n    const totalItems = ref(0);\n    const totalPages = ref(0);\n\n    // 搜索表单\n    const searchForm = reactive({\n      q: '',\n      caseType: '',\n      status: '',\n      startDateFrom: '',\n      startDateTo: '',\n      createdAtFrom: '',\n      createdAtTo: '',\n      sortBy: 'createdAt_desc',\n      page: 1,\n      size: pageSize.value\n    });\n\n    // 模态框引用\n    const addCaseModalRef = ref(null);\n    const editCaseModalRef = ref(null);\n    const deleteCaseModalRef = ref(null);\n    const caseDetailModalRef = ref(null);\n\n    // 加载案件列表\n    const loadCases = async () => {\n      loading.value = true;\n      try {\n        const response = await getCaseList();\n        if (response.data && response.data.code === 200) {\n          cases.value = response.data.data || [];\n          // 确保totalItems正确设置为案件数量\n          totalItems.value = cases.value.length;\n        } else {\n          console.error('加载案件列表失败:', response.data ? response.data.msg : '未知错误');\n        }\n      } catch (error) {\n        console.error('加载案件列表失败:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 加载案件统计数据\n    const loadStatistics = async () => {\n      statisticsLoading.value = true;\n      try {\n        const response = await getCaseStatistics();\n        if (response.data && response.data.code === 200) {\n          statistics.value = response.data.data || {\n            totalCases: 0,\n            criminalCases: 0,\n            civilCases: 0,\n            administrativeCases: 0,\n            investigatingCases: 0,\n            inTrialCases: 0,\n            closedCases: 0\n          };\n        } else {\n          console.error('加载案件统计失败:', response.data ? response.data.msg : '未知错误');\n        }\n      } catch (error) {\n        console.error('加载案件统计失败:', error);\n      } finally {\n        statisticsLoading.value = false;\n      }\n    };\n\n    // 搜索案件\n    const searchCasesData = async () => {\n      console.log('开始执行searchCasesData方法');\n      loading.value = true;\n      try {\n        // 构建搜索参数\n        const params = {\n          ...searchForm\n        };\n\n        // 确保使用当前的 pageSize 值，并且是数字类型\n        params.size = Number(pageSize.value);\n        params.page = Number(params.page);\n\n        // 设置默认排序\n        params.sortField = 'createdAt';\n        params.sortOrder = 'desc';\n        delete params.sortBy;\n\n        // 调试：检查参数是否正确\n        console.log('searchForm:', searchForm);\n        console.log('params:', params);\n\n        // 确保所有参数都是正确的类型\n        Object.keys(params).forEach(key => {\n          // 如果是空字符串且不是必需参数，则删除该参数\n          if (params[key] === '' && key !== 'q') {\n            delete params[key];\n          }\n        });\n        console.log('准备发送API请求，优化后的参数:', params);\n        console.log('调用searchCasesApi前');\n        const response = await searchCasesApi(params);\n        console.log('调用searchCasesApi后');\n        console.log('API响应:', response);\n        console.log('处理API响应数据:', response);\n        if (response.data) {\n          console.log('响应数据:', response.data);\n          if (response.data.code === 200) {\n            const result = response.data.data;\n            console.log('结果数据:', result);\n            console.log('更新cases.value前，当前值:', cases.value);\n\n            // 先清空数组，然后添加新数据，确保视图更新\n            cases.value = [];\n            setTimeout(() => {\n              cases.value = result.records || [];\n              console.log('更新cases.value后，新值:', cases.value);\n              // 确保totalItems正确设置为案件数量\n              totalItems.value = result.total !== undefined ? result.total : cases.value.length;\n              totalPages.value = result.pages || 0;\n              currentPage.value = result.current || 1;\n              // 更新key，强制刷新组件\n              caseListKey.value += 1;\n              console.log('更新caseListKey:', caseListKey.value);\n            }, 0);\n          } else {\n            console.error('搜索案件失败:', response.data.msg || '未知错误');\n          }\n        } else {\n          console.error('搜索案件失败: 响应数据为空');\n        }\n      } catch (error) {\n        console.error('搜索案件失败:', error);\n      } finally {\n        loading.value = false;\n        console.log('searchCasesData方法执行完成');\n      }\n    };\n\n    // 搜索案件（用于搜索按钮点击事件）\n    const handleSearch = formData => {\n      console.log('CaseManagement收到搜索事件，接收到的数据:', formData);\n      console.log('搜索事件处理开始');\n      // 将CaseSearch组件传来的keyword字段映射到searchForm的q字段\n      if (formData) {\n        // 检查formData是否包含keyword属性\n        console.log('formData包含keyword属性:', Object.prototype.hasOwnProperty.call(formData, 'keyword'));\n        console.log('formData.keyword值:', formData.keyword);\n\n        // 更新搜索表单的值\n        searchForm.q = formData.keyword || '';\n        searchForm.caseType = formData.caseType || '';\n        searchForm.status = formData.status || '';\n        searchForm.startDateFrom = formData.startDateFrom || '';\n        searchForm.startDateTo = formData.startDateTo || '';\n        searchForm.createdAtFrom = formData.createdAtFrom || '';\n        searchForm.createdAtTo = formData.createdAtTo || '';\n\n        // 确保日期格式正确\n        if (searchForm.startDateFrom && !(searchForm.startDateFrom instanceof Date) && searchForm.startDateFrom.trim() !== '') {\n          try {\n            searchForm.startDateFrom = searchForm.startDateFrom.split('T')[0]; // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e);\n          }\n        }\n        if (searchForm.startDateTo && !(searchForm.startDateTo instanceof Date) && searchForm.startDateTo.trim() !== '') {\n          try {\n            searchForm.startDateTo = searchForm.startDateTo.split('T')[0]; // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e);\n          }\n        }\n        if (searchForm.createdAtFrom && !(searchForm.createdAtFrom instanceof Date) && searchForm.createdAtFrom.trim() !== '') {\n          try {\n            searchForm.createdAtFrom = searchForm.createdAtFrom.split('T')[0]; // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e);\n          }\n        }\n        if (searchForm.createdAtTo && !(searchForm.createdAtTo instanceof Date) && searchForm.createdAtTo.trim() !== '') {\n          try {\n            searchForm.createdAtTo = searchForm.createdAtTo.split('T')[0]; // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e);\n          }\n        }\n      }\n      console.log('处理后的searchForm:', {\n        ...searchForm\n      });\n      searchForm.page = 1; // 重置到第一页\n      console.log('准备调用searchCasesData');\n\n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1;\n        console.log('更新caseListKey:', caseListKey.value);\n        searchCasesData();\n        console.log('searchCasesData调用完成');\n      }, 0);\n    };\n\n    // 重置搜索条件\n    const resetSearch = () => {\n      console.log('重置搜索条件');\n      // 清空搜索条件\n      searchForm.q = '';\n      searchForm.caseType = '';\n      searchForm.status = '';\n      searchForm.startDateFrom = '';\n      searchForm.startDateTo = '';\n      searchForm.createdAtFrom = '';\n      searchForm.createdAtTo = '';\n      searchForm.page = 1; // 重置到第一页\n\n      console.log('重置后的searchForm:', {\n        ...searchForm\n      });\n      console.log('准备调用searchCasesData');\n\n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1;\n        console.log('更新caseListKey:', caseListKey.value);\n        searchCasesData();\n        console.log('searchCasesData调用完成');\n      }, 0);\n    };\n\n    // 切换高级搜索\n    const toggleAdvancedSearch = value => {\n      // 如果传入了值，使用传入的值；否则切换当前值\n      showAdvancedSearch.value = value !== undefined ? value : !showAdvancedSearch.value;\n    };\n\n    // 切换页码\n    const changePage = page => {\n      console.log('切换页码:', page);\n      searchForm.page = page;\n\n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1;\n        console.log('更新caseListKey:', caseListKey.value);\n        searchCasesData();\n        console.log('searchCasesData调用完成');\n      }, 0);\n    };\n\n    // 切换每页显示数量\n    const changePageSize = size => {\n      console.log('切换每页显示数量:', size);\n      pageSize.value = size;\n      searchForm.page = 1; // 重置到第一页\n\n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1;\n        console.log('更新caseListKey:', caseListKey.value);\n        searchCasesData();\n        console.log('searchCasesData调用完成');\n      }, 0);\n    };\n\n    // 显示添加案件模态框\n    const showAddCaseModal = () => {\n      if (addCaseModalRef.value) {\n        addCaseModalRef.value.showModal();\n      }\n    };\n\n    // 显示编辑案件模态框\n    const showEditCaseModal = caseItem => {\n      if (editCaseModalRef.value) {\n        editCaseModalRef.value.showModal(caseItem);\n      }\n    };\n\n    // 确认删除案件\n    const confirmDeleteCase = caseItem => {\n      if (deleteCaseModalRef.value) {\n        deleteCaseModalRef.value.showModal(caseItem);\n      }\n    };\n\n    // 查看案件详情\n    const viewCaseDetail = caseId => {\n      if (caseDetailModalRef.value) {\n        caseDetailModalRef.value.showModal(caseId);\n      }\n    };\n\n    // 提交添加案件\n    const submitAddCase = async formData => {\n      try {\n        const response = await addCase(formData);\n        if (response.data && response.data.code === 200) {\n          // 重新加载数据\n          searchCasesData();\n          loadStatistics();\n        } else {\n          console.error('添加案件失败:', response.data ? response.data.msg : '未知错误');\n        }\n      } catch (error) {\n        console.error('添加案件失败:', error);\n      }\n    };\n\n    // 提交编辑案件\n    const submitEditCase = async caseData => {\n      try {\n        const response = await updateCase(caseData);\n        if (response.data && response.data.code === 200) {\n          console.log('编辑案件成功');\n          // 使用setTimeout确保在下一个事件循环中执行\n          setTimeout(() => {\n            // 更新key，强制刷新组件\n            caseListKey.value += 1;\n            console.log('更新caseListKey:', caseListKey.value);\n            // 重新加载数据\n            searchCasesData();\n            loadStatistics();\n            console.log('searchCasesData和loadStatistics调用完成');\n          }, 0);\n        } else {\n          console.error('编辑案件失败:', response.data.msg || '未知错误');\n        }\n      } catch (error) {\n        console.error('编辑案件失败:', error);\n      }\n    };\n\n    // 删除案件\n    const deleteCase = async caseId => {\n      try {\n        const response = await deleteCaseApi(caseId);\n        if (response.data && response.data.code === 200) {\n          console.log('删除案件成功');\n          // 使用setTimeout确保在下一个事件循环中执行\n          setTimeout(() => {\n            // 更新key，强制刷新组件\n            caseListKey.value += 1;\n            console.log('更新caseListKey:', caseListKey.value);\n            // 重新加载数据\n            searchCasesData();\n            loadStatistics();\n            console.log('searchCasesData和loadStatistics调用完成');\n          }, 0);\n        } else {\n          console.error('删除案件失败:', response.data.msg || '未知错误');\n        }\n      } catch (error) {\n        console.error('删除案件失败:', error);\n      }\n    };\n\n    // 组件挂载时初始化数据\n    onMounted(() => {\n      console.log('CaseManagement组件挂载');\n      // 初始化搜索表单\n      searchForm.page = 1;\n      searchForm.size = pageSize.value;\n      console.log('初始化searchForm:', {\n        ...searchForm\n      });\n      console.log('准备调用searchCasesData和loadStatistics');\n\n      // 使用setTimeout确保在下一个事件循环中执行\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1;\n        console.log('更新caseListKey:', caseListKey.value);\n        // 加载案件数据\n        searchCasesData();\n        // 加载统计数据\n        loadStatistics();\n        console.log('searchCasesData和loadStatistics调用完成');\n      }, 0);\n    });\n\n    // 监听页码变化，重新加载数据\n    watch(currentPage, newPage => {\n      console.log('监听到currentPage变化:', newPage);\n      if (searchForm.page !== newPage) {\n        searchForm.page = newPage;\n\n        // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n        setTimeout(() => {\n          // 更新key，强制刷新组件\n          caseListKey.value += 1;\n          console.log('更新caseListKey:', caseListKey.value);\n          searchCasesData();\n          console.log('searchCasesData调用完成');\n        }, 0);\n      }\n    });\n\n    // 手动刷新案件列表\n    const refreshCaseList = () => {\n      console.log('手动刷新案件列表');\n      // 更新key，强制刷新组件\n      caseListKey.value += 1;\n      console.log('更新caseListKey:', caseListKey.value);\n      // 重新加载数据\n      searchCasesData();\n    };\n\n    // 返回组件需要的数据和方法\n    return {\n      // 状态\n      loading,\n      statisticsLoading,\n      showAdvancedSearch,\n      cases,\n      caseListKey,\n      statistics,\n      // 分页\n      currentPage,\n      totalPages,\n      totalItems,\n      pageSize,\n      // 表单\n      searchForm,\n      // 模态框引用\n      addCaseModalRef,\n      editCaseModalRef,\n      deleteCaseModalRef,\n      caseDetailModalRef,\n      // 方法\n      refreshCaseList,\n      toggleAdvancedSearch,\n      searchCases: handleSearch,\n      resetSearch,\n      changePage,\n      changePageSize,\n      showAddCaseModal,\n      showEditCaseModal,\n      submitAddCase,\n      submitEditCase,\n      confirmDeleteCase,\n      deleteCase,\n      viewCaseDetail\n    };\n  }\n};","map":{"version":3,"names":["ref","reactive","onMounted","watch","getCaseList","searchCases","searchCasesApi","addCase","updateCase","deleteCase","deleteCaseApi","getCaseStatistics","CaseStatistics","CaseSearch","CaseList","Pagination","AddCaseModal","EditCaseModal","DeleteCaseModal","CaseDetailModal","name","components","setup","loading","statisticsLoading","showAdvancedSearch","cases","caseListKey","statistics","totalCases","criminalCases","civilCases","administrativeCases","investigatingCases","inTrialCases","closedCases","currentPage","pageSize","totalItems","totalPages","searchForm","q","caseType","status","startDateFrom","startDateTo","createdAtFrom","createdAtTo","sortBy","page","size","value","addCaseModalRef","editCaseModalRef","deleteCaseModalRef","caseDetailModalRef","loadCases","response","data","code","length","console","error","msg","loadStatistics","searchCasesData","log","params","Number","sortField","sortOrder","Object","keys","forEach","key","result","setTimeout","records","total","undefined","pages","current","handleSearch","formData","prototype","hasOwnProperty","call","keyword","Date","trim","split","e","resetSearch","toggleAdvancedSearch","changePage","changePageSize","showAddCaseModal","showModal","showEditCaseModal","caseItem","confirmDeleteCase","viewCaseDetail","caseId","submitAddCase","submitEditCase","caseData","newPage","refreshCaseList"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/case/CaseManagement.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid mt-4\">\n    <!-- 页面标题区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n          <div>\n            <h2 class=\"display-6 fw-bold text-primary mb-0\">\n              <i class=\"bi bi-folder2-open me-2\"></i>案件管理\n            </h2>\n            <p class=\"text-muted mb-0\">查看和管理所有案件信息</p>\n          </div>\n          <div class=\"btn-group\">\n            <button class=\"btn btn-outline-primary\" @click=\"toggleAdvancedSearch\">\n              <i class=\"bi bi-funnel me-2\"></i>高级搜索\n            </button>\n            <button class=\"btn btn-outline-secondary\" @click=\"refreshCaseList\" title=\"刷新案件列表\">\n              <i class=\"bi bi-arrow-clockwise me-2\"></i>刷新\n            </button>\n            <button class=\"btn btn-success\" @click=\"showAddCaseModal\">\n              <i class=\"bi bi-plus-circle me-2\"></i>新增案件\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 案件统计卡片 -->\n    <case-statistics :loading=\"statisticsLoading\" :statistics=\"statistics\" />\n\n    <!-- 搜索区域 -->\n    <case-search \n      :search-form=\"searchForm\" \n      :show-advanced-search=\"showAdvancedSearch\"\n      @toggle-advanced=\"toggleAdvancedSearch\"\n      @search=\"handleSearch\"\n      @reset=\"resetSearch\"\n    />\n\n    <!-- 案件列表 -->\n    <case-list \n      :cases=\"cases\" \n      :loading=\"loading\"\n      :key=\"caseListKey\"\n      @view-detail=\"viewCaseDetail\"\n      @add=\"showAddCaseModal\"\n      @edit=\"showEditCaseModal\"\n      @delete=\"confirmDeleteCase\"\n    />\n    \n    <!-- 分页控件 -->\n    <pagination \n      :current-page=\"currentPage\" \n      :total-pages=\"totalPages\" \n      :total-items=\"totalItems\" \n      :page-size=\"pageSize\"\n      @page-change=\"changePage\"\n      @size-change=\"changePageSize\"\n    />\n    \n    <!-- 模态框组件 -->\n    <add-case-modal ref=\"addCaseModalRef\" @submit=\"submitAddCase\" />\n    <edit-case-modal ref=\"editCaseModalRef\" @submit=\"submitEditCase\" />\n    <delete-case-modal ref=\"deleteCaseModalRef\" @confirm=\"deleteCase\" />\n    <case-detail-modal ref=\"caseDetailModalRef\" @edit=\"showEditCaseModal\" />\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, onMounted, watch } from 'vue'\nimport { getCaseList, searchCases as searchCasesApi, addCase, updateCase, deleteCase as deleteCaseApi, getCaseStatistics } from '@/api/case'\n\n// 导入组件\nimport CaseStatistics from '@/components/case/CaseStatistics.vue'\nimport CaseSearch from '@/components/case/CaseSearch.vue'\nimport CaseList from '@/components/case/CaseList.vue'\nimport Pagination from '@/components/case/Pagination.vue'\nimport AddCaseModal from '@/components/case/modals/AddCaseModal.vue'\nimport EditCaseModal from '@/components/case/modals/EditCaseModal.vue'\nimport DeleteCaseModal from '@/components/case/modals/DeleteCaseModal.vue'\nimport CaseDetailModal from '@/components/case/modals/CaseDetailModal.vue'\n\nexport default {\n  name: 'CaseManagement',\n  components: {\n    CaseStatistics,\n    CaseSearch,\n    CaseList,\n    Pagination,\n    AddCaseModal,\n    EditCaseModal,\n    DeleteCaseModal,\n    CaseDetailModal\n  },\n  setup() {\n    // 状态变量\n    const loading = ref(false)\n    const statisticsLoading = ref(false)\n    const showAdvancedSearch = ref(false)\n    const cases = ref([])\n    const caseListKey = ref(0) // 用于强制刷新CaseList组件\n    const statistics = ref({\n      totalCases: 0,\n      criminalCases: 0,\n      civilCases: 0,\n      administrativeCases: 0,\n      investigatingCases: 0,\n      inTrialCases: 0,\n      closedCases: 0\n    })\n    \n    // 分页相关\n    const currentPage = ref(1)\n    const pageSize = ref(10)\n    const totalItems = ref(0)\n    const totalPages = ref(0)\n    \n    // 搜索表单\n    const searchForm = reactive({\n      q: '',\n      caseType: '',\n      status: '',\n      startDateFrom: '',\n      startDateTo: '',\n      createdAtFrom: '',\n      createdAtTo: '',\n      sortBy: 'createdAt_desc',\n      page: 1,\n      size: pageSize.value\n    })\n    \n    // 模态框引用\n    const addCaseModalRef = ref(null)\n    const editCaseModalRef = ref(null)\n    const deleteCaseModalRef = ref(null)\n    const caseDetailModalRef = ref(null)\n    \n    // 加载案件列表\n    const loadCases = async () => {\n      loading.value = true\n      try {\n        const response = await getCaseList()\n        if (response.data && response.data.code === 200) {\n          cases.value = response.data.data || []\n          // 确保totalItems正确设置为案件数量\n          totalItems.value = cases.value.length\n        } else {\n          console.error('加载案件列表失败:', response.data ? response.data.msg : '未知错误')\n        }\n      } catch (error) {\n        console.error('加载案件列表失败:', error)\n      } finally {\n        loading.value = false\n      }\n    }\n    \n    // 加载案件统计数据\n    const loadStatistics = async () => {\n      statisticsLoading.value = true\n      try {\n        const response = await getCaseStatistics()\n        if (response.data && response.data.code === 200) {\n          statistics.value = response.data.data || {\n            totalCases: 0,\n            criminalCases: 0,\n            civilCases: 0,\n            administrativeCases: 0,\n            investigatingCases: 0,\n            inTrialCases: 0,\n            closedCases: 0\n          }\n        } else {\n          console.error('加载案件统计失败:', response.data ? response.data.msg : '未知错误')\n        }\n      } catch (error) {\n        console.error('加载案件统计失败:', error)\n      } finally {\n        statisticsLoading.value = false\n      }\n    }\n    \n    // 搜索案件\n    const searchCasesData = async () => {\n      console.log('开始执行searchCasesData方法')\n      loading.value = true\n      try {\n        // 构建搜索参数\n        const params = { ...searchForm }\n        \n        // 确保使用当前的 pageSize 值，并且是数字类型\n        params.size = Number(pageSize.value)\n        params.page = Number(params.page)\n        \n        // 设置默认排序\n        params.sortField = 'createdAt'\n        params.sortOrder = 'desc'\n        delete params.sortBy\n        \n        // 调试：检查参数是否正确\n        console.log('searchForm:', searchForm)\n        console.log('params:', params)\n        \n        // 确保所有参数都是正确的类型\n        Object.keys(params).forEach(key => {\n          // 如果是空字符串且不是必需参数，则删除该参数\n          if (params[key] === '' && key !== 'q') {\n            delete params[key]\n          }\n        })\n        \n        console.log('准备发送API请求，优化后的参数:', params)\n        console.log('调用searchCasesApi前')\n        const response = await searchCasesApi(params)\n        console.log('调用searchCasesApi后')\n        console.log('API响应:', response)\n        \n        console.log('处理API响应数据:', response)\n        if (response.data) {\n          console.log('响应数据:', response.data)\n          if (response.data.code === 200) {\n            const result = response.data.data\n            console.log('结果数据:', result)\n            console.log('更新cases.value前，当前值:', cases.value)\n            \n            // 先清空数组，然后添加新数据，确保视图更新\n            cases.value = []\n            setTimeout(() => {\n              cases.value = result.records || []\n              console.log('更新cases.value后，新值:', cases.value)\n              // 确保totalItems正确设置为案件数量\n              totalItems.value = result.total !== undefined ? result.total : cases.value.length\n              totalPages.value = result.pages || 0\n              currentPage.value = result.current || 1\n              // 更新key，强制刷新组件\n              caseListKey.value += 1\n              console.log('更新caseListKey:', caseListKey.value)\n            }, 0)\n          } else {\n            console.error('搜索案件失败:', response.data.msg || '未知错误')\n          }\n        } else {\n          console.error('搜索案件失败: 响应数据为空')\n        }\n      } catch (error) {\n        console.error('搜索案件失败:', error)\n      } finally {\n        loading.value = false\n        console.log('searchCasesData方法执行完成')\n      }\n    }\n    \n    // 搜索案件（用于搜索按钮点击事件）\n    const handleSearch = (formData) => {\n      console.log('CaseManagement收到搜索事件，接收到的数据:', formData)\n      console.log('搜索事件处理开始')\n      // 将CaseSearch组件传来的keyword字段映射到searchForm的q字段\n      if (formData) {\n        // 检查formData是否包含keyword属性\n        console.log('formData包含keyword属性:', Object.prototype.hasOwnProperty.call(formData, 'keyword'))\n        console.log('formData.keyword值:', formData.keyword)\n        \n        // 更新搜索表单的值\n        searchForm.q = formData.keyword || ''\n        searchForm.caseType = formData.caseType || ''\n        searchForm.status = formData.status || ''\n        searchForm.startDateFrom = formData.startDateFrom || ''\n        searchForm.startDateTo = formData.startDateTo || ''\n        searchForm.createdAtFrom = formData.createdAtFrom || ''\n        searchForm.createdAtTo = formData.createdAtTo || ''\n        \n        // 确保日期格式正确\n        if (searchForm.startDateFrom && !(searchForm.startDateFrom instanceof Date) && searchForm.startDateFrom.trim() !== '') {\n          try {\n            searchForm.startDateFrom = searchForm.startDateFrom.split('T')[0] // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e)\n          }\n        }\n        \n        if (searchForm.startDateTo && !(searchForm.startDateTo instanceof Date) && searchForm.startDateTo.trim() !== '') {\n          try {\n            searchForm.startDateTo = searchForm.startDateTo.split('T')[0] // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e)\n          }\n        }\n        \n        if (searchForm.createdAtFrom && !(searchForm.createdAtFrom instanceof Date) && searchForm.createdAtFrom.trim() !== '') {\n          try {\n            searchForm.createdAtFrom = searchForm.createdAtFrom.split('T')[0] // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e)\n          }\n        }\n        \n        if (searchForm.createdAtTo && !(searchForm.createdAtTo instanceof Date) && searchForm.createdAtTo.trim() !== '') {\n          try {\n            searchForm.createdAtTo = searchForm.createdAtTo.split('T')[0] // 只保留日期部分\n          } catch (e) {\n            console.error('日期格式转换错误:', e)\n          }\n        }\n      }\n      console.log('处理后的searchForm:', { ...searchForm })\n      searchForm.page = 1 // 重置到第一页\n      console.log('准备调用searchCasesData')\n      \n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1\n        console.log('更新caseListKey:', caseListKey.value)\n        searchCasesData()\n        console.log('searchCasesData调用完成')\n      }, 0)\n    }\n    \n    // 重置搜索条件\n    const resetSearch = () => {\n      console.log('重置搜索条件')\n      // 清空搜索条件\n      searchForm.q = ''\n      searchForm.caseType = ''\n      searchForm.status = ''\n      searchForm.startDateFrom = ''\n      searchForm.startDateTo = ''\n      searchForm.createdAtFrom = ''\n      searchForm.createdAtTo = ''\n      searchForm.page = 1 // 重置到第一页\n      \n      console.log('重置后的searchForm:', { ...searchForm })\n      console.log('准备调用searchCasesData')\n      \n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1\n        console.log('更新caseListKey:', caseListKey.value)\n        searchCasesData()\n        console.log('searchCasesData调用完成')\n      }, 0)\n    }\n    \n    // 切换高级搜索\n    const toggleAdvancedSearch = (value) => {\n      // 如果传入了值，使用传入的值；否则切换当前值\n      showAdvancedSearch.value = value !== undefined ? value : !showAdvancedSearch.value\n    }\n    \n    // 切换页码\n    const changePage = (page) => {\n      console.log('切换页码:', page)\n      searchForm.page = page\n      \n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1\n        console.log('更新caseListKey:', caseListKey.value)\n        searchCasesData()\n        console.log('searchCasesData调用完成')\n      }, 0)\n    }\n    \n    // 切换每页显示数量\n    const changePageSize = (size) => {\n      console.log('切换每页显示数量:', size)\n      pageSize.value = size\n      searchForm.page = 1 // 重置到第一页\n      \n      // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1\n        console.log('更新caseListKey:', caseListKey.value)\n        searchCasesData()\n        console.log('searchCasesData调用完成')\n      }, 0)\n    }\n    \n    // 显示添加案件模态框\n    const showAddCaseModal = () => {\n      if (addCaseModalRef.value) {\n        addCaseModalRef.value.showModal()\n      }\n    }\n    \n    // 显示编辑案件模态框\n    const showEditCaseModal = (caseItem) => {\n      if (editCaseModalRef.value) {\n        editCaseModalRef.value.showModal(caseItem)\n      }\n    }\n    \n    // 确认删除案件\n    const confirmDeleteCase = (caseItem) => {\n      if (deleteCaseModalRef.value) {\n        deleteCaseModalRef.value.showModal(caseItem)\n      }\n    }\n    \n    // 查看案件详情\n    const viewCaseDetail = (caseId) => {\n      if (caseDetailModalRef.value) {\n        caseDetailModalRef.value.showModal(caseId)\n      }\n    }\n    \n    // 提交添加案件\n    const submitAddCase = async (formData) => {\n      try {\n        const response = await addCase(formData)\n        if (response.data && response.data.code === 200) {\n          // 重新加载数据\n          searchCasesData()\n          loadStatistics()\n        } else {\n          console.error('添加案件失败:', response.data ? response.data.msg : '未知错误')\n        }\n      } catch (error) {\n        console.error('添加案件失败:', error)\n      }\n    }\n    \n    // 提交编辑案件\n    const submitEditCase = async (caseData) => {\n      try {\n        const response = await updateCase(caseData)\n        if (response.data && response.data.code === 200) {\n          console.log('编辑案件成功')\n          // 使用setTimeout确保在下一个事件循环中执行\n          setTimeout(() => {\n            // 更新key，强制刷新组件\n            caseListKey.value += 1\n            console.log('更新caseListKey:', caseListKey.value)\n            // 重新加载数据\n            searchCasesData()\n            loadStatistics()\n            console.log('searchCasesData和loadStatistics调用完成')\n          }, 0)\n        } else {\n          console.error('编辑案件失败:', response.data.msg || '未知错误')\n        }\n      } catch (error) {\n        console.error('编辑案件失败:', error)\n      }\n    }\n    \n    // 删除案件\n    const deleteCase = async (caseId) => {\n      try {\n        const response = await deleteCaseApi(caseId)\n        if (response.data && response.data.code === 200) {\n          console.log('删除案件成功')\n          // 使用setTimeout确保在下一个事件循环中执行\n          setTimeout(() => {\n            // 更新key，强制刷新组件\n            caseListKey.value += 1\n            console.log('更新caseListKey:', caseListKey.value)\n            // 重新加载数据\n            searchCasesData()\n            loadStatistics()\n            console.log('searchCasesData和loadStatistics调用完成')\n          }, 0)\n        } else {\n          console.error('删除案件失败:', response.data.msg || '未知错误')\n        }\n      } catch (error) {\n        console.error('删除案件失败:', error)\n      }\n    }\n    \n    // 组件挂载时初始化数据\n    onMounted(() => {\n      console.log('CaseManagement组件挂载')\n      // 初始化搜索表单\n      searchForm.page = 1\n      searchForm.size = pageSize.value\n      \n      console.log('初始化searchForm:', { ...searchForm })\n      console.log('准备调用searchCasesData和loadStatistics')\n      \n      // 使用setTimeout确保在下一个事件循环中执行\n      setTimeout(() => {\n        // 更新key，强制刷新组件\n        caseListKey.value += 1\n        console.log('更新caseListKey:', caseListKey.value)\n        // 加载案件数据\n        searchCasesData()\n        // 加载统计数据\n        loadStatistics()\n        console.log('searchCasesData和loadStatistics调用完成')\n      }, 0)\n    })\n    \n    // 监听页码变化，重新加载数据\n    watch(currentPage, (newPage) => {\n      console.log('监听到currentPage变化:', newPage)\n      if (searchForm.page !== newPage) {\n        searchForm.page = newPage\n        \n        // 使用setTimeout确保在下一个事件循环中执行searchCasesData\n        setTimeout(() => {\n          // 更新key，强制刷新组件\n          caseListKey.value += 1\n          console.log('更新caseListKey:', caseListKey.value)\n          searchCasesData()\n          console.log('searchCasesData调用完成')\n        }, 0)\n      }\n    })\n    \n    // 手动刷新案件列表\n    const refreshCaseList = () => {\n      console.log('手动刷新案件列表')\n      // 更新key，强制刷新组件\n      caseListKey.value += 1\n      console.log('更新caseListKey:', caseListKey.value)\n      // 重新加载数据\n      searchCasesData()\n    }\n    \n    // 返回组件需要的数据和方法\n    return {\n      // 状态\n      loading,\n      statisticsLoading,\n      showAdvancedSearch,\n      cases,\n      caseListKey,\n      statistics,\n      \n      // 分页\n      currentPage,\n      totalPages,\n      totalItems,\n      pageSize,\n      \n      // 表单\n      searchForm,\n      \n      // 模态框引用\n      addCaseModalRef,\n      editCaseModalRef,\n      deleteCaseModalRef,\n      caseDetailModalRef,\n      \n      // 方法\n      refreshCaseList,\n      toggleAdvancedSearch,\n      searchCases: handleSearch,\n      resetSearch,\n      changePage,\n      changePageSize,\n      showAddCaseModal,\n      showEditCaseModal,\n      submitAddCase,\n      submitEditCase,\n      confirmDeleteCase,\n      deleteCase,\n      viewCaseDetail\n    }\n  }\n}\n</script>\n\n<style scoped>\n.container-fluid {\n  max-width: 1600px;\n  margin: 0 auto;\n}\n\n.display-6 {\n  font-size: 2rem;\n}\n\n.btn-success {\n  background: linear-gradient(to right, #28a745, #20c997);\n  border: none;\n  box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);\n}\n\n.btn-success:hover {\n  background: linear-gradient(to right, #218838, #1e9e7f);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 15px rgba(40, 167, 69, 0.4);\n}\n\n.btn-outline-primary {\n  color: #4a6cf7;\n  border-color: #4a6cf7;\n}\n\n.btn-outline-primary:hover {\n  background-color: rgba(74, 108, 247, 0.1);\n  color: #2651f0;\n  border-color: #2651f0;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}