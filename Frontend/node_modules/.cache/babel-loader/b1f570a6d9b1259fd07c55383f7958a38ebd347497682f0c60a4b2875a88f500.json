{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withModifiers as _withModifiers, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"d-flex flex-column flex-md-row justify-content-between align-items-center mt-5 pt-4 border-top\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex align-items-center text-muted mb-3 mb-md-0\"\n};\nconst _hoisted_3 = {\n  class: \"badge bg-primary bg-opacity-10 text-primary me-2 p-2\"\n};\nconst _hoisted_4 = {\n  class: \"fw-bold text-primary\"\n};\nconst _hoisted_5 = {\n  class: \"ms-3 d-flex align-items-center\"\n};\nconst _hoisted_6 = {\n  \"aria-label\": \"Page navigation\",\n  class: \"pagination-container\"\n};\nconst _hoisted_7 = {\n  class: \"pagination pagination-md\"\n};\nconst _hoisted_8 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"span\", _hoisted_3, _toDisplayString($props.totalItems), 1 /* TEXT */), _cache[8] || (_cache[8] = _createTextVNode(\" 条记录，当前第 \")), _createElementVNode(\"span\", _hoisted_4, _toDisplayString($props.currentPage), 1 /* TEXT */), _createTextVNode(\" / \" + _toDisplayString($setup.totalPages) + \" 页 \", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"span\", {\n    class: \"me-2\"\n  }, \"每页显示:\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    class: \"form-select form-select-sm\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.localPageSize = $event),\n    onChange: _cache[1] || (_cache[1] = (...args) => $setup.changePageSize && $setup.changePageSize(...args)),\n    style: {\n      \"width\": \"80px\"\n    }\n  }, _cache[6] || (_cache[6] = [_createElementVNode(\"option\", {\n    value: 5\n  }, \"5\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: 10\n  }, \"10\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: 20\n  }, \"20\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: 50\n  }, \"50\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: 100\n  }, \"100\", -1 /* CACHED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $setup.localPageSize, void 0, {\n    number: true\n  }]])])]), _createElementVNode(\"nav\", _hoisted_6, [_createElementVNode(\"ul\", _hoisted_7, [_createElementVNode(\"li\", {\n    class: _normalizeClass([\"page-item\", {\n      disabled: $props.currentPage === 1\n    }])\n  }, [_createElementVNode(\"a\", {\n    class: \"page-link rounded-start\",\n    href: \"#\",\n    onClick: _cache[2] || (_cache[2] = _withModifiers($event => $setup.changePage(1), [\"prevent\"])),\n    title: \"首页\"\n  }, _cache[9] || (_cache[9] = [_createElementVNode(\"i\", {\n    class: \"bi bi-chevron-double-left\"\n  }, null, -1 /* CACHED */)]))], 2 /* CLASS */), _createElementVNode(\"li\", {\n    class: _normalizeClass([\"page-item\", {\n      disabled: $props.currentPage === 1\n    }])\n  }, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers($event => $setup.changePage($props.currentPage - 1), [\"prevent\"])),\n    title: \"上一页\"\n  }, _cache[10] || (_cache[10] = [_createElementVNode(\"i\", {\n    class: \"bi bi-chevron-left\"\n  }, null, -1 /* CACHED */)]))], 2 /* CLASS */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.displayedPages, page => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: page,\n      class: _normalizeClass([\"page-item\", {\n        active: $props.currentPage === page\n      }])\n    }, [_createElementVNode(\"a\", {\n      class: \"page-link\",\n      href: \"#\",\n      onClick: _withModifiers($event => $setup.changePage(page), [\"prevent\"])\n    }, _toDisplayString(page), 9 /* TEXT, PROPS */, _hoisted_8)], 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"li\", {\n    class: _normalizeClass([\"page-item\", {\n      disabled: $props.currentPage === $setup.totalPages\n    }])\n  }, [_createElementVNode(\"a\", {\n    class: \"page-link\",\n    href: \"#\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers($event => $setup.changePage($props.currentPage + 1), [\"prevent\"])),\n    title: \"下一页\"\n  }, _cache[11] || (_cache[11] = [_createElementVNode(\"i\", {\n    class: \"bi bi-chevron-right\"\n  }, null, -1 /* CACHED */)]))], 2 /* CLASS */), _createElementVNode(\"li\", {\n    class: _normalizeClass([\"page-item\", {\n      disabled: $props.currentPage === $setup.totalPages\n    }])\n  }, [_createElementVNode(\"a\", {\n    class: \"page-link rounded-end\",\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = _withModifiers($event => $setup.changePage($setup.totalPages), [\"prevent\"])),\n    title: \"末页\"\n  }, _cache[12] || (_cache[12] = [_createElementVNode(\"i\", {\n    class: \"bi bi-chevron-double-right\"\n  }, null, -1 /* CACHED */)]))], 2 /* CLASS */)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","$props","totalItems","_hoisted_4","currentPage","$setup","totalPages","_hoisted_5","localPageSize","$event","onChange","_cache","args","changePageSize","style","value","number","_hoisted_6","_hoisted_7","_normalizeClass","disabled","href","onClick","_withModifiers","changePage","title","_Fragment","_renderList","displayedPages","page","key","active","_hoisted_8"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/components/case/Pagination.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex flex-column flex-md-row justify-content-between align-items-center mt-5 pt-4 border-top\">\n    <div class=\"d-flex align-items-center text-muted mb-3 mb-md-0\">\n      <span class=\"badge bg-primary bg-opacity-10 text-primary me-2 p-2\">{{ totalItems }}</span>\n      条记录，当前第 <span class=\"fw-bold text-primary\">{{ currentPage }}</span> / {{ totalPages }} 页\n      \n      <div class=\"ms-3 d-flex align-items-center\">\n        <span class=\"me-2\">每页显示:</span>\n        <select class=\"form-select form-select-sm\" v-model.number=\"localPageSize\" @change=\"changePageSize\" style=\"width: 80px;\">\n          <option :value=\"5\">5</option>\n          <option :value=\"10\">10</option>\n          <option :value=\"20\">20</option>\n          <option :value=\"50\">50</option>\n          <option :value=\"100\">100</option>\n        </select>\n      </div>\n    </div>\n    <nav aria-label=\"Page navigation\" class=\"pagination-container\">\n      <ul class=\"pagination pagination-md\">\n        <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n          <a class=\"page-link rounded-start\" href=\"#\" @click.prevent=\"changePage(1)\" title=\"首页\">\n            <i class=\"bi bi-chevron-double-left\"></i>\n          </a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(currentPage - 1)\" title=\"上一页\">\n            <i class=\"bi bi-chevron-left\"></i>\n          </a>\n        </li>\n        <li v-for=\"page in displayedPages\" :key=\"page\" class=\"page-item\" :class=\"{ active: currentPage === page }\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(page)\">{{ page }}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(currentPage + 1)\" title=\"下一页\">\n            <i class=\"bi bi-chevron-right\"></i>\n          </a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n          <a class=\"page-link rounded-end\" href=\"#\" @click.prevent=\"changePage(totalPages)\" title=\"末页\">\n            <i class=\"bi bi-chevron-double-right\"></i>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, watch } from 'vue'\n\nexport default {\n  name: 'Pagination',\n  props: {\n    currentPage: {\n      type: Number,\n      required: true\n    },\n    pageSize: {\n      type: Number,\n      required: true\n    },\n    totalItems: {\n      type: Number,\n      required: true\n    }\n  },\n  emits: ['page-change', 'page-size-change'],\n  setup(props, { emit }) {\n    const localPageSize = ref(props.pageSize)\n    \n    // 监听 pageSize 变化\n    watch(() => props.pageSize, (newSize) => {\n      localPageSize.value = newSize\n    })\n    \n    // 计算总页数\n    const totalPages = computed(() => {\n      return Math.max(1, Math.ceil(props.totalItems / props.pageSize))\n    })\n    \n    // 计算要显示的页码\n    const displayedPages = computed(() => {\n      const pages = []\n      const maxDisplayed = 5 // 最多显示5个页码\n      \n      if (totalPages.value <= maxDisplayed) {\n        // 如果总页数小于等于最大显示数，则显示所有页码\n        for (let i = 1; i <= totalPages.value; i++) {\n          pages.push(i)\n        }\n      } else {\n        // 否则，显示当前页附近的页码\n        let start = Math.max(1, props.currentPage - Math.floor(maxDisplayed / 2))\n        let end = start + maxDisplayed - 1\n        \n        if (end > totalPages.value) {\n          end = totalPages.value\n          start = Math.max(1, end - maxDisplayed + 1)\n        }\n        \n        for (let i = start; i <= end; i++) {\n          pages.push(i)\n        }\n      }\n      \n      return pages\n    })\n    \n    // 切换页码\n    const changePage = (page) => {\n      if (page < 1 || page > totalPages.value || page === props.currentPage) {\n        return\n      }\n      emit('page-change', page)\n    }\n    \n    // 更改每页显示数量\n    const changePageSize = () => {\n      emit('page-size-change', localPageSize.value)\n    }\n    \n    return {\n      localPageSize,\n      totalPages,\n      displayedPages,\n      changePage,\n      changePageSize\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 分页控件美化 */\n.pagination .page-link {\n  border-radius: 4px;\n  margin: 0 2px;\n  color: #4a6cf7;\n  border: 1px solid rgba(74, 108, 247, 0.2);\n}\n\n.pagination .page-item.active .page-link {\n  background: linear-gradient(to right, #4a6cf7, #2651f0);\n  border-color: #2651f0;\n}\n\n.pagination .page-item.disabled .page-link {\n  color: #6c757d;\n  pointer-events: none;\n  background-color: #fff;\n  border-color: #dee2e6;\n}\n\n.pagination .page-link:hover {\n  background-color: rgba(74, 108, 247, 0.1);\n  border-color: rgba(74, 108, 247, 0.3);\n}\n\n.pagination .page-item.active .page-link:hover {\n  background: linear-gradient(to right, #4a6cf7, #2651f0);\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}