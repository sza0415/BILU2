{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nexport default {\n  name: 'PackageManagement',\n  data() {\n    return {\n      viewMode: 'table',\n      currentPage: 1,\n      pageSize: 10,\n      showCreatePackageModal: false,\n      selectedPackages: [],\n      searchForm: {\n        keyword: '',\n        status: '',\n        packageType: '',\n        creator: '',\n        dateFrom: ''\n      },\n      packageForm: {\n        name: '',\n        description: '',\n        packageType: '',\n        expiryDays: '30',\n        selectedCases: [],\n        selectedRecords: [],\n        dateFrom: '',\n        dateTo: '',\n        templateId: '',\n        includeAttachments: true,\n        compressFiles: true\n      },\n      stats: {\n        totalPackages: 12,\n        completedPackages: 8,\n        processingPackages: 2,\n        failedPackages: 1,\n        expiredPackages: 1,\n        totalSize: 1024 * 1024 * 150,\n        // 150MB\n        avgFileSize: 1024 * 1024 * 12.5,\n        // 12.5MB\n        totalFileCount: 48,\n        downloadCount: 25\n      },\n      packages: [{\n        id: 1,\n        name: '2024年1月刑事案件打包',\n        description: '包含2024年1月所有刑事案件的笔录文件',\n        packageType: 'date',\n        status: 'completed',\n        fileCount: 25,\n        fileSize: 1024 * 1024 * 45,\n        // 45MB\n        creator: '李警官',\n        createdAt: '2024-01-20 10:30:00',\n        expiresAt: '2024-02-19 10:30:00',\n        progress: 100,\n        downloadUrl: '/downloads/package1.zip'\n      }, {\n        id: 2,\n        name: 'CASE-2024-001案件资料',\n        description: '张某盗窃案相关所有笔录和附件',\n        packageType: 'case',\n        status: 'processing',\n        fileCount: 8,\n        fileSize: 1024 * 1024 * 12,\n        // 12MB\n        creator: '张警官',\n        createdAt: '2024-01-21 14:15:00',\n        expiresAt: '2024-02-20 14:15:00',\n        progress: 65,\n        downloadUrl: null\n      }, {\n        id: 3,\n        name: '保密问答模板导出',\n        description: '所有保密问答模板的导出文件',\n        packageType: 'template',\n        status: 'completed',\n        fileCount: 15,\n        fileSize: 1024 * 1024 * 8,\n        // 8MB\n        creator: '王警官',\n        createdAt: '2024-01-19 16:45:00',\n        expiresAt: '2024-02-18 16:45:00',\n        progress: 100,\n        downloadUrl: '/downloads/package3.zip'\n      }, {\n        id: 4,\n        name: '自定义笔录选择',\n        description: '手动选择的重要笔录文件',\n        packageType: 'custom',\n        status: 'failed',\n        fileCount: 0,\n        fileSize: 0,\n        creator: '李警官',\n        createdAt: '2024-01-18 09:20:00',\n        expiresAt: '2024-02-17 09:20:00',\n        progress: 0,\n        downloadUrl: null\n      }],\n      availableCases: [{\n        id: 1,\n        caseNumber: 'CASE-2024-001',\n        title: '张某涉嫌盗窃案'\n      }, {\n        id: 2,\n        caseNumber: 'CASE-2024-002',\n        title: '王某交通肇事案'\n      }, {\n        id: 3,\n        caseNumber: 'CASE-2024-003',\n        title: '刘某诈骗案'\n      }],\n      availableRecords: [{\n        id: 1,\n        caseNumber: 'CASE-2024-001',\n        title: '张某涉嫌盗窃案询问笔录'\n      }, {\n        id: 2,\n        caseNumber: 'CASE-2024-002',\n        title: '王某交通肇事案询问笔录'\n      }, {\n        id: 3,\n        caseNumber: 'CASE-2024-003',\n        title: '刘某诈骗案询问笔录'\n      }]\n    };\n  },\n  computed: {\n    filteredPackages() {\n      let filtered = this.packages;\n      if (this.searchForm.keyword) {\n        const keyword = this.searchForm.keyword.toLowerCase();\n        filtered = filtered.filter(pkg => pkg.name.toLowerCase().includes(keyword) || pkg.description.toLowerCase().includes(keyword));\n      }\n      if (this.searchForm.status) {\n        filtered = filtered.filter(pkg => pkg.status === this.searchForm.status);\n      }\n      if (this.searchForm.packageType) {\n        filtered = filtered.filter(pkg => pkg.packageType === this.searchForm.packageType);\n      }\n      if (this.searchForm.creator) {\n        filtered = filtered.filter(pkg => pkg.creator === this.searchForm.creator);\n      }\n      if (this.searchForm.dateFrom) {\n        filtered = filtered.filter(pkg => pkg.createdAt >= this.searchForm.dateFrom);\n      }\n      return filtered;\n    },\n    totalPages() {\n      return Math.ceil(this.filteredPackages.length / this.pageSize);\n    },\n    paginatedPackages() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.filteredPackages.slice(start, end);\n    },\n    visiblePages() {\n      const pages = [];\n      const total = this.totalPages;\n      const current = this.currentPage;\n      if (total <= 7) {\n        for (let i = 1; i <= total; i++) {\n          pages.push(i);\n        }\n      } else {\n        if (current <= 4) {\n          for (let i = 1; i <= 5; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        } else if (current >= total - 3) {\n          pages.push(1);\n          pages.push('...');\n          for (let i = total - 4; i <= total; i++) {\n            pages.push(i);\n          }\n        } else {\n          pages.push(1);\n          pages.push('...');\n          for (let i = current - 1; i <= current + 1; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        }\n      }\n      return pages;\n    }\n  },\n  methods: {\n    searchPackages() {\n      this.currentPage = 1;\n      console.log('搜索打包:', this.searchForm);\n    },\n    createPackage() {\n      if (!this.packageForm.name || !this.packageForm.packageType) {\n        alert('请填写完整信息');\n        return;\n      }\n\n      // 验证选择项\n      if (this.packageForm.packageType === 'case' && this.packageForm.selectedCases.length === 0) {\n        alert('请选择至少一个案件');\n        return;\n      }\n      if (this.packageForm.packageType === 'custom' && this.packageForm.selectedRecords.length === 0) {\n        alert('请选择至少一条笔录');\n        return;\n      }\n      if (this.packageForm.packageType === 'date' && (!this.packageForm.dateFrom || !this.packageForm.dateTo)) {\n        alert('请选择日期范围');\n        return;\n      }\n      if (this.packageForm.packageType === 'template' && !this.packageForm.templateId) {\n        alert('请选择模板');\n        return;\n      }\n      const expiresAt = new Date();\n      expiresAt.setDate(expiresAt.getDate() + parseInt(this.packageForm.expiryDays));\n      const newPackage = {\n        id: Date.now(),\n        name: this.packageForm.name,\n        description: this.packageForm.description,\n        packageType: this.packageForm.packageType,\n        status: 'pending',\n        fileCount: 0,\n        fileSize: 0,\n        creator: '当前用户',\n        // 这里应该从用户信息获取\n        createdAt: new Date().toISOString().slice(0, 19).replace('T', ' '),\n        expiresAt: expiresAt.toISOString().slice(0, 19).replace('T', ' '),\n        progress: 0,\n        downloadUrl: null\n      };\n      this.packages.unshift(newPackage);\n      this.showCreatePackageModal = false;\n      this.resetPackageForm();\n\n      // 模拟打包过程\n      this.simulatePackaging(newPackage.id);\n\n      // 更新统计数据\n      this.updateStats();\n    },\n    simulatePackaging(packageId) {\n      const pkg = this.packages.find(p => p.id === packageId);\n      if (!pkg) return;\n      pkg.status = 'processing';\n      const interval = setInterval(() => {\n        pkg.progress += Math.random() * 20;\n        if (pkg.progress >= 100) {\n          pkg.progress = 100;\n          pkg.status = 'completed';\n          pkg.fileCount = Math.floor(Math.random() * 20) + 5;\n          pkg.fileSize = Math.floor(Math.random() * 50 * 1024 * 1024) + 5 * 1024 * 1024; // 5-55MB\n          pkg.downloadUrl = `/downloads/package${packageId}.zip`;\n          clearInterval(interval);\n          this.updateStats();\n        }\n      }, 1000);\n    },\n    downloadPackage(pkg) {\n      if (pkg.status !== 'completed' || !pkg.downloadUrl) {\n        alert('文件尚未准备就绪');\n        return;\n      }\n      console.log('下载打包文件:', pkg.name);\n      // 这里实现实际的下载逻辑\n      alert(`开始下载: ${pkg.name}`);\n    },\n    viewPackageDetails(pkg) {\n      console.log('查看打包详情:', pkg);\n      // 这里可以打开详情模态框\n    },\n    deletePackage(id) {\n      if (confirm('确定要删除这个打包吗？删除后将无法恢复！')) {\n        const index = this.packages.findIndex(p => p.id === id);\n        if (index > -1) {\n          this.packages.splice(index, 1);\n          this.updateStats();\n        }\n      }\n    },\n    batchDownload() {\n      const selectedPkgs = this.packages.filter(p => this.selectedPackages.includes(p.id));\n      const completedPkgs = selectedPkgs.filter(p => p.status === 'completed');\n      if (completedPkgs.length === 0) {\n        alert('没有可下载的文件');\n        return;\n      }\n      console.log('批量下载:', completedPkgs);\n      alert(`开始批量下载 ${completedPkgs.length} 个文件`);\n    },\n    cleanupPackages() {\n      const expiredPackages = this.packages.filter(p => this.isExpired(p.expiresAt));\n      if (expiredPackages.length === 0) {\n        alert('没有过期的打包文件');\n        return;\n      }\n      if (confirm(`发现 ${expiredPackages.length} 个过期文件，确定要清理吗？`)) {\n        expiredPackages.forEach(pkg => {\n          const index = this.packages.findIndex(p => p.id === pkg.id);\n          if (index > -1) {\n            this.packages.splice(index, 1);\n          }\n        });\n        this.updateStats();\n        alert('过期文件清理完成');\n      }\n    },\n    toggleSelectAll(event) {\n      if (event.target.checked) {\n        this.selectedPackages = this.paginatedPackages.map(p => p.id);\n      } else {\n        this.selectedPackages = [];\n      }\n    },\n    resetPackageForm() {\n      this.packageForm = {\n        name: '',\n        description: '',\n        packageType: '',\n        expiryDays: '30',\n        selectedCases: [],\n        selectedRecords: [],\n        dateFrom: '',\n        dateTo: '',\n        templateId: '',\n        includeAttachments: true,\n        compressFiles: true\n      };\n    },\n    updateStats() {\n      this.stats.totalPackages = this.packages.length;\n      this.stats.completedPackages = this.packages.filter(p => p.status === 'completed').length;\n      this.stats.processingPackages = this.packages.filter(p => p.status === 'processing').length;\n      this.stats.totalSize = this.packages.reduce((total, pkg) => total + pkg.fileSize, 0);\n    },\n    getPackageTypeClass(packageType) {\n      const classes = {\n        case: 'bg-primary',\n        date: 'bg-success',\n        custom: 'bg-warning',\n        template: 'bg-info'\n      };\n      return classes[packageType] || 'bg-secondary';\n    },\n    getPackageTypeText(packageType) {\n      const texts = {\n        case: '按案件',\n        date: '按日期',\n        custom: '自定义',\n        template: '模板导出'\n      };\n      return texts[packageType] || '未知';\n    },\n    getStatusClass(status) {\n      const classes = {\n        pending: 'bg-secondary',\n        processing: 'bg-warning',\n        completed: 'bg-success',\n        failed: 'bg-danger',\n        expired: 'bg-dark'\n      };\n      return classes[status] || 'bg-secondary';\n    },\n    getStatusText(status) {\n      const texts = {\n        pending: '等待中',\n        processing: '处理中',\n        completed: '已完成',\n        failed: '失败',\n        expired: '已过期'\n      };\n      return texts[status] || '未知';\n    },\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 B';\n      const k = 1024;\n      const sizes = ['B', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    },\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleString('zh-CN');\n    },\n    isExpired(expiresAt) {\n      return new Date(expiresAt) < new Date();\n    }\n  },\n  mounted() {\n    console.log('打包管理页面已加载');\n    this.updateStats();\n  }\n};","map":{"version":3,"names":["name","data","viewMode","currentPage","pageSize","showCreatePackageModal","selectedPackages","searchForm","keyword","status","packageType","creator","dateFrom","packageForm","description","expiryDays","selectedCases","selectedRecords","dateTo","templateId","includeAttachments","compressFiles","stats","totalPackages","completedPackages","processingPackages","failedPackages","expiredPackages","totalSize","avgFileSize","totalFileCount","downloadCount","packages","id","fileCount","fileSize","createdAt","expiresAt","progress","downloadUrl","availableCases","caseNumber","title","availableRecords","computed","filteredPackages","filtered","toLowerCase","filter","pkg","includes","totalPages","Math","ceil","length","paginatedPackages","start","end","slice","visiblePages","pages","total","current","i","push","methods","searchPackages","console","log","createPackage","alert","Date","setDate","getDate","parseInt","newPackage","now","toISOString","replace","unshift","resetPackageForm","simulatePackaging","updateStats","packageId","find","p","interval","setInterval","random","floor","clearInterval","downloadPackage","viewPackageDetails","deletePackage","confirm","index","findIndex","splice","batchDownload","selectedPkgs","completedPkgs","cleanupPackages","isExpired","forEach","toggleSelectAll","event","target","checked","map","reduce","getPackageTypeClass","classes","case","date","custom","template","getPackageTypeText","texts","getStatusClass","pending","processing","completed","failed","expired","getStatusText","formatFileSize","bytes","k","sizes","parseFloat","pow","toFixed","formatDate","dateStr","toLocaleString","mounted"],"sources":["/Users/sunziang/IdeaProjects/backend_bilu/bilu_backend2/src/views/PackageManagement.vue"],"sourcesContent":["<template>\n  <div class=\"container-fluid mt-4\">\n    <!-- 页面标题区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12\">\n        <div class=\"d-flex justify-content-between align-items-center\">\n          <div>\n            <h2 class=\"display-6 fw-bold text-primary mb-0\">\n              <i class=\"bi bi-archive me-2\"></i>打包管理\n            </h2>\n            <p class=\"text-muted mb-0\">管理和下载笔录打包文件</p>\n          </div>\n          <div class=\"btn-group\">\n            <button class=\"btn btn-primary btn-lg\" @click=\"showCreatePackageModal = true\">\n              <i class=\"bi bi-plus-circle me-2\"></i>新建打包\n            </button>\n            <button class=\"btn btn-success btn-lg\" @click=\"batchDownload\" :disabled=\"selectedPackages.length === 0\">\n              <i class=\"bi bi-download me-2\"></i>批量下载\n            </button>\n            <button class=\"btn btn-warning btn-lg\" @click=\"cleanupPackages\">\n              <i class=\"bi bi-trash3 me-2\"></i>清理过期\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 统计卡片 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-md-3\">\n        <div class=\"card border-0 shadow-sm stats-card\">\n          <div class=\"card-body text-center\">\n            <div class=\"stats-icon bg-primary bg-opacity-10 text-primary mb-3\">\n              <i class=\"bi bi-archive\"></i>\n            </div>\n            <h3 class=\"fw-bold mb-1\">{{ stats.totalPackages }}</h3>\n            <p class=\"text-muted mb-0\">总打包数</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"card border-0 shadow-sm stats-card\">\n          <div class=\"card-body text-center\">\n            <div class=\"stats-icon bg-success bg-opacity-10 text-success mb-3\">\n              <i class=\"bi bi-check-circle\"></i>\n            </div>\n            <h3 class=\"fw-bold mb-1\">{{ stats.completedPackages }}</h3>\n            <p class=\"text-muted mb-0\">已完成</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"card border-0 shadow-sm stats-card\">\n          <div class=\"card-body text-center\">\n            <div class=\"stats-icon bg-warning bg-opacity-10 text-warning mb-3\">\n              <i class=\"bi bi-clock-history\"></i>\n            </div>\n            <h3 class=\"fw-bold mb-1\">{{ stats.processingPackages }}</h3>\n            <p class=\"text-muted mb-0\">处理中</p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"card border-0 shadow-sm stats-card\">\n          <div class=\"card-body text-center\">\n            <div class=\"stats-icon bg-info bg-opacity-10 text-info mb-3\">\n              <i class=\"bi bi-hdd\"></i>\n            </div>\n            <h3 class=\"fw-bold mb-1\">{{ formatFileSize(stats.totalSize) }}</h3>\n            <p class=\"text-muted mb-0\">总大小</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 搜索和筛选区域 -->\n    <div class=\"row mb-4\">\n      <div class=\"col-12\">\n        <div class=\"card border-0 shadow-sm\">\n          <div class=\"card-body\">\n            <div class=\"row g-3\">\n              <div class=\"col-md-3\">\n                <label class=\"form-label fw-bold\">搜索关键词</label>\n                <div class=\"input-group\">\n                  <span class=\"input-group-text\">\n                    <i class=\"bi bi-search\"></i>\n                  </span>\n                  <input \n                    type=\"text\" \n                    class=\"form-control\" \n                    placeholder=\"打包名称、描述等\"\n                    v-model=\"searchForm.keyword\"\n                  />\n                </div>\n              </div>\n              <div class=\"col-md-2\">\n                <label class=\"form-label fw-bold\">打包状态</label>\n                <select class=\"form-select\" v-model=\"searchForm.status\">\n                  <option value=\"\">全部状态</option>\n                  <option value=\"pending\">等待中</option>\n                  <option value=\"processing\">处理中</option>\n                  <option value=\"completed\">已完成</option>\n                  <option value=\"failed\">失败</option>\n                  <option value=\"expired\">已过期</option>\n                </select>\n              </div>\n              <div class=\"col-md-2\">\n                <label class=\"form-label fw-bold\">打包类型</label>\n                <select class=\"form-select\" v-model=\"searchForm.packageType\">\n                  <option value=\"\">全部类型</option>\n                  <option value=\"case\">按案件</option>\n                  <option value=\"date\">按日期</option>\n                  <option value=\"custom\">自定义</option>\n                  <option value=\"template\">模板导出</option>\n                </select>\n              </div>\n              <div class=\"col-md-2\">\n                <label class=\"form-label fw-bold\">创建人</label>\n                <select class=\"form-select\" v-model=\"searchForm.creator\">\n                  <option value=\"\">全部创建人</option>\n                  <option value=\"李警官\">李警官</option>\n                  <option value=\"张警官\">张警官</option>\n                  <option value=\"王警官\">王警官</option>\n                </select>\n              </div>\n              <div class=\"col-md-2\">\n                <label class=\"form-label fw-bold\">创建日期</label>\n                <input type=\"date\" class=\"form-control\" v-model=\"searchForm.dateFrom\">\n              </div>\n              <div class=\"col-md-1\">\n                <label class=\"form-label fw-bold\">&nbsp;</label>\n                <button class=\"btn btn-primary w-100\" @click=\"searchPackages\">\n                  <i class=\"bi bi-search\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 打包列表 -->\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"card border-0 shadow-sm\">\n          <div class=\"card-header bg-white border-0 py-3\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <h5 class=\"fw-bold mb-0\">\n                <i class=\"bi bi-list-ul me-2 text-primary\"></i>打包列表\n                <span class=\"badge bg-primary ms-2\">{{ filteredPackages.length }}</span>\n              </h5>\n              <div class=\"btn-group btn-group-sm\">\n                <button \n                  class=\"btn\" \n                  :class=\"viewMode === 'table' ? 'btn-primary' : 'btn-outline-primary'\"\n                  @click=\"viewMode = 'table'\"\n                >\n                  <i class=\"bi bi-table\"></i>\n                </button>\n                <button \n                  class=\"btn\" \n                  :class=\"viewMode === 'card' ? 'btn-primary' : 'btn-outline-primary'\"\n                  @click=\"viewMode = 'card'\"\n                >\n                  <i class=\"bi bi-grid-3x3-gap\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"card-body p-0\">\n            <!-- 表格视图 -->\n            <div v-if=\"viewMode === 'table'\" class=\"table-responsive\">\n              <table class=\"table table-hover mb-0\">\n                <thead class=\"bg-light\">\n                  <tr>\n                    <th width=\"5%\">\n                      <input type=\"checkbox\" class=\"form-check-input\" @change=\"toggleSelectAll\">\n                    </th>\n                    <th width=\"20%\">打包名称</th>\n                    <th width=\"10%\">类型</th>\n                    <th width=\"10%\">状态</th>\n                    <th width=\"10%\">文件数量</th>\n                    <th width=\"10%\">文件大小</th>\n                    <th width=\"10%\">创建人</th>\n                    <th width=\"10%\">创建时间</th>\n                    <th width=\"10%\">过期时间</th>\n                    <th width=\"5%\">操作</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"pkg in paginatedPackages\" :key=\"pkg.id\" class=\"package-row\">\n                    <td>\n                      <input \n                        type=\"checkbox\" \n                        class=\"form-check-input\" \n                        :value=\"pkg.id\"\n                        v-model=\"selectedPackages\"\n                      >\n                    </td>\n                    <td>\n                      <div>\n                        <div class=\"fw-medium\">{{ pkg.name }}</div>\n                        <small class=\"text-muted\">{{ pkg.description }}</small>\n                      </div>\n                    </td>\n                    <td>\n                      <span class=\"badge\" :class=\"getPackageTypeClass(pkg.packageType)\">\n                        {{ getPackageTypeText(pkg.packageType) }}\n                      </span>\n                    </td>\n                    <td>\n                      <div class=\"d-flex align-items-center\">\n                        <span class=\"badge\" :class=\"getStatusClass(pkg.status)\">\n                          {{ getStatusText(pkg.status) }}\n                        </span>\n                        <div v-if=\"pkg.status === 'processing'\" class=\"ms-2\">\n                          <div class=\"progress\" style=\"width: 60px; height: 6px;\">\n                            <div \n                              class=\"progress-bar\" \n                              :style=\"{ width: pkg.progress + '%' }\"\n                            ></div>\n                          </div>\n                          <small class=\"text-muted\">{{ pkg.progress }}%</small>\n                        </div>\n                      </div>\n                    </td>\n                    <td>\n                      <span class=\"badge bg-info\">{{ pkg.fileCount }}</span>\n                    </td>\n                    <td>\n                      <span class=\"text-muted\">{{ formatFileSize(pkg.fileSize) }}</span>\n                    </td>\n                    <td>\n                      <div class=\"d-flex align-items-center\">\n                        <i class=\"bi bi-person-circle me-2 text-muted\"></i>\n                        {{ pkg.creator }}\n                      </div>\n                    </td>\n                    <td>\n                      <small class=\"text-muted\">{{ formatDate(pkg.createdAt) }}</small>\n                    </td>\n                    <td>\n                      <small class=\"text-muted\" :class=\"{ 'text-danger': isExpired(pkg.expiresAt) }\">\n                        {{ formatDate(pkg.expiresAt) }}\n                      </small>\n                    </td>\n                    <td>\n                      <div class=\"btn-group btn-group-sm\">\n                        <button \n                          class=\"btn btn-outline-success\" \n                          @click=\"downloadPackage(pkg)\" \n                          :disabled=\"pkg.status !== 'completed'\"\n                          title=\"下载\"\n                        >\n                          <i class=\"bi bi-download\"></i>\n                        </button>\n                        <button \n                          class=\"btn btn-outline-info\" \n                          @click=\"viewPackageDetails(pkg)\" \n                          title=\"详情\"\n                        >\n                          <i class=\"bi bi-eye\"></i>\n                        </button>\n                        <button \n                          class=\"btn btn-outline-danger\" \n                          @click=\"deletePackage(pkg.id)\" \n                          title=\"删除\"\n                        >\n                          <i class=\"bi bi-trash\"></i>\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                  <tr v-if=\"filteredPackages.length === 0\">\n                    <td colspan=\"10\" class=\"text-center py-5\">\n                      <div class=\"empty-state\">\n                        <i class=\"bi bi-archive fa-3x mb-3 text-secondary opacity-50\"></i>\n                        <h5 class=\"text-secondary\">暂无打包记录</h5>\n                        <p class=\"text-muted\">点击\"新建打包\"按钮创建第一个打包任务</p>\n                      </div>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <!-- 卡片视图 -->\n            <div v-else class=\"row g-3 p-3\">\n              <div v-for=\"pkg in paginatedPackages\" :key=\"pkg.id\" class=\"col-md-6 col-lg-4\">\n                <div class=\"card h-100 package-card\">\n                  <div class=\"card-header d-flex justify-content-between align-items-center\">\n                    <span class=\"badge\" :class=\"getPackageTypeClass(pkg.packageType)\">\n                      {{ getPackageTypeText(pkg.packageType) }}\n                    </span>\n                    <span class=\"badge\" :class=\"getStatusClass(pkg.status)\">\n                      {{ getStatusText(pkg.status) }}\n                    </span>\n                  </div>\n                  <div class=\"card-body\">\n                    <h6 class=\"card-title\">{{ pkg.name }}</h6>\n                    <p class=\"card-text text-muted small\">{{ pkg.description }}</p>\n                    \n                    <!-- 处理进度 -->\n                    <div v-if=\"pkg.status === 'processing'\" class=\"mb-3\">\n                      <div class=\"d-flex justify-content-between align-items-center mb-1\">\n                        <small class=\"text-muted\">处理进度</small>\n                        <small class=\"text-muted\">{{ pkg.progress }}%</small>\n                      </div>\n                      <div class=\"progress\" style=\"height: 6px;\">\n                        <div \n                          class=\"progress-bar\" \n                          :style=\"{ width: pkg.progress + '%' }\"\n                        ></div>\n                      </div>\n                    </div>\n                    \n                    <div class=\"row text-center mb-3\">\n                      <div class=\"col-6\">\n                        <div class=\"border-end\">\n                          <div class=\"fw-bold text-primary\">{{ pkg.fileCount }}</div>\n                          <small class=\"text-muted\">文件数量</small>\n                        </div>\n                      </div>\n                      <div class=\"col-6\">\n                        <div class=\"fw-bold text-success\">{{ formatFileSize(pkg.fileSize) }}</div>\n                        <small class=\"text-muted\">文件大小</small>\n                      </div>\n                    </div>\n                    \n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <small class=\"text-muted\">\n                        <i class=\"bi bi-person me-1\"></i>{{ pkg.creator }}\n                      </small>\n                      <small class=\"text-muted\">{{ formatDate(pkg.createdAt) }}</small>\n                    </div>\n                    \n                    <div class=\"mt-2\">\n                      <small class=\"text-muted\" :class=\"{ 'text-danger': isExpired(pkg.expiresAt) }\">\n                        <i class=\"bi bi-clock me-1\"></i>\n                        过期时间: {{ formatDate(pkg.expiresAt) }}\n                      </small>\n                    </div>\n                  </div>\n                  <div class=\"card-footer bg-transparent\">\n                    <div class=\"btn-group w-100\">\n                      <button \n                        class=\"btn btn-outline-success btn-sm\" \n                        @click=\"downloadPackage(pkg)\" \n                        :disabled=\"pkg.status !== 'completed'\"\n                      >\n                        <i class=\"bi bi-download me-1\"></i>下载\n                      </button>\n                      <button class=\"btn btn-outline-info btn-sm\" @click=\"viewPackageDetails(pkg)\">\n                        <i class=\"bi bi-eye me-1\"></i>详情\n                      </button>\n                      <button class=\"btn btn-outline-danger btn-sm\" @click=\"deletePackage(pkg.id)\">\n                        <i class=\"bi bi-trash me-1\"></i>删除\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <div v-if=\"filteredPackages.length === 0\" class=\"col-12\">\n                <div class=\"text-center py-5\">\n                  <div class=\"empty-state\">\n                    <i class=\"bi bi-archive fa-3x mb-3 text-secondary opacity-50\"></i>\n                    <h5 class=\"text-secondary\">暂无打包记录</h5>\n                    <p class=\"text-muted\">点击\"新建打包\"按钮创建第一个打包任务</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 分页 -->\n          <div v-if=\"filteredPackages.length > 0\" class=\"card-footer bg-white\">\n            <div class=\"d-flex justify-content-between align-items-center\">\n              <div class=\"text-muted\">\n                显示 {{ (currentPage - 1) * pageSize + 1 }} - {{ Math.min(currentPage * pageSize, filteredPackages.length) }} 条，共 {{ filteredPackages.length }} 条记录\n              </div>\n              <nav>\n                <ul class=\"pagination pagination-sm mb-0\">\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                    <button class=\"page-link\" @click=\"currentPage = 1\" :disabled=\"currentPage === 1\">\n                      <i class=\"bi bi-chevron-double-left\"></i>\n                    </button>\n                  </li>\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n                    <button class=\"page-link\" @click=\"currentPage--\" :disabled=\"currentPage === 1\">\n                      <i class=\"bi bi-chevron-left\"></i>\n                    </button>\n                  </li>\n                  <li \n                    v-for=\"page in visiblePages\" \n                    :key=\"page\" \n                    class=\"page-item\" \n                    :class=\"{ active: page === currentPage }\"\n                  >\n                    <button class=\"page-link\" @click=\"currentPage = page\">{{ page }}</button>\n                  </li>\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                    <button class=\"page-link\" @click=\"currentPage++\" :disabled=\"currentPage === totalPages\">\n                      <i class=\"bi bi-chevron-right\"></i>\n                    </button>\n                  </li>\n                  <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n                    <button class=\"page-link\" @click=\"currentPage = totalPages\" :disabled=\"currentPage === totalPages\">\n                      <i class=\"bi bi-chevron-double-right\"></i>\n                    </button>\n                  </li>\n                </ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 新建打包模态框 -->\n    <div class=\"modal fade\" :class=\"{ show: showCreatePackageModal }\" :style=\"{ display: showCreatePackageModal ? 'block' : 'none' }\" tabindex=\"-1\">\n      <div class=\"modal-dialog modal-lg\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\">\n              <i class=\"bi bi-plus-circle me-2\"></i>新建打包任务\n            </h5>\n            <button type=\"button\" class=\"btn-close\" @click=\"showCreatePackageModal = false\"></button>\n          </div>\n          <div class=\"modal-body\">\n            <form @submit.prevent=\"createPackage\">\n              <div class=\"row g-3\">\n                <div class=\"col-12\">\n                  <label class=\"form-label\">打包名称</label>\n                  <input type=\"text\" class=\"form-control\" v-model=\"packageForm.name\" required>\n                </div>\n                <div class=\"col-12\">\n                  <label class=\"form-label\">打包描述</label>\n                  <textarea class=\"form-control\" rows=\"3\" v-model=\"packageForm.description\"></textarea>\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">打包类型</label>\n                  <select class=\"form-select\" v-model=\"packageForm.packageType\" required>\n                    <option value=\"\">请选择打包类型</option>\n                    <option value=\"case\">按案件打包</option>\n                    <option value=\"date\">按日期打包</option>\n                    <option value=\"custom\">自定义选择</option>\n                    <option value=\"template\">模板导出</option>\n                  </select>\n                </div>\n                <div class=\"col-md-6\">\n                  <label class=\"form-label\">过期时间</label>\n                  <select class=\"form-select\" v-model=\"packageForm.expiryDays\">\n                    <option value=\"7\">7天后过期</option>\n                    <option value=\"15\">15天后过期</option>\n                    <option value=\"30\">30天后过期</option>\n                    <option value=\"90\">90天后过期</option>\n                  </select>\n                </div>\n                \n                <!-- 按案件打包 -->\n                <div v-if=\"packageForm.packageType === 'case'\" class=\"col-12\">\n                  <label class=\"form-label\">选择案件</label>\n                  <div class=\"border rounded p-3\" style=\"max-height: 200px; overflow-y: auto;\">\n                    <div v-for=\"caseItem in availableCases\" :key=\"caseItem.id\" class=\"form-check\">\n                      <input \n                        class=\"form-check-input\" \n                        type=\"checkbox\" \n                        :value=\"caseItem.id\" \n                        v-model=\"packageForm.selectedCases\"\n                        :id=\"'case-' + caseItem.id\"\n                      >\n                      <label class=\"form-check-label\" :for=\"'case-' + caseItem.id\">\n                        {{ caseItem.caseNumber }} - {{ caseItem.title }}\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- 按日期打包 -->\n                <div v-if=\"packageForm.packageType === 'date'\" class=\"col-12\">\n                  <div class=\"row g-3\">\n                    <div class=\"col-md-6\">\n                      <label class=\"form-label\">开始日期</label>\n                      <input type=\"date\" class=\"form-control\" v-model=\"packageForm.dateFrom\">\n                    </div>\n                    <div class=\"col-md-6\">\n                      <label class=\"form-label\">结束日期</label>\n                      <input type=\"date\" class=\"form-control\" v-model=\"packageForm.dateTo\">\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- 自定义选择 -->\n                <div v-if=\"packageForm.packageType === 'custom'\" class=\"col-12\">\n                  <label class=\"form-label\">选择笔录</label>\n                  <div class=\"border rounded p-3\" style=\"max-height: 200px; overflow-y: auto;\">\n                    <div v-for=\"record in availableRecords\" :key=\"record.id\" class=\"form-check\">\n                      <input \n                        class=\"form-check-input\" \n                        type=\"checkbox\" \n                        :value=\"record.id\" \n                        v-model=\"packageForm.selectedRecords\"\n                        :id=\"'record-' + record.id\"\n                      >\n                      <label class=\"form-check-label\" :for=\"'record-' + record.id\">\n                        {{ record.caseNumber }} - {{ record.title }}\n                      </label>\n                    </div>\n                  </div>\n                </div>\n                \n                <!-- 模板导出 -->\n                <div v-if=\"packageForm.packageType === 'template'\" class=\"col-12\">\n                  <label class=\"form-label\">选择模板</label>\n                  <select class=\"form-select\" v-model=\"packageForm.templateId\">\n                    <option value=\"\">请选择模板</option>\n                    <option value=\"1\">保密问答模板</option>\n                    <option value=\"2\">询问笔录模板</option>\n                    <option value=\"3\">调查笔录模板</option>\n                  </select>\n                </div>\n                \n                <div class=\"col-12\">\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" v-model=\"packageForm.includeAttachments\" id=\"includeAttachments\">\n                    <label class=\"form-check-label\" for=\"includeAttachments\">\n                      包含附件文件\n                    </label>\n                  </div>\n                </div>\n                \n                <div class=\"col-12\">\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" v-model=\"packageForm.compressFiles\" id=\"compressFiles\">\n                    <label class=\"form-check-label\" for=\"compressFiles\">\n                      压缩文件（减小文件大小）\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"showCreatePackageModal = false\">取消</button>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"createPackage\">\n              <i class=\"bi bi-check-circle me-2\"></i>开始打包\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 模态框背景 -->\n    <div v-if=\"showCreatePackageModal\" class=\"modal-backdrop fade show\"></div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'PackageManagement',\n  data() {\n    return {\n      viewMode: 'table',\n      currentPage: 1,\n      pageSize: 10,\n      showCreatePackageModal: false,\n      selectedPackages: [],\n      searchForm: {\n        keyword: '',\n        status: '',\n        packageType: '',\n        creator: '',\n        dateFrom: ''\n      },\n      packageForm: {\n        name: '',\n        description: '',\n        packageType: '',\n        expiryDays: '30',\n        selectedCases: [],\n        selectedRecords: [],\n        dateFrom: '',\n        dateTo: '',\n        templateId: '',\n        includeAttachments: true,\n        compressFiles: true\n      },\n      stats: {\n        totalPackages: 12,\n        completedPackages: 8,\n        processingPackages: 2,\n        failedPackages: 1,\n        expiredPackages: 1,\n        totalSize: 1024 * 1024 * 150, // 150MB\n        avgFileSize: 1024 * 1024 * 12.5, // 12.5MB\n        totalFileCount: 48,\n        downloadCount: 25\n      },\n      packages: [\n        {\n          id: 1,\n          name: '2024年1月刑事案件打包',\n          description: '包含2024年1月所有刑事案件的笔录文件',\n          packageType: 'date',\n          status: 'completed',\n          fileCount: 25,\n          fileSize: 1024 * 1024 * 45, // 45MB\n          creator: '李警官',\n          createdAt: '2024-01-20 10:30:00',\n          expiresAt: '2024-02-19 10:30:00',\n          progress: 100,\n          downloadUrl: '/downloads/package1.zip'\n        },\n        {\n          id: 2,\n          name: 'CASE-2024-001案件资料',\n          description: '张某盗窃案相关所有笔录和附件',\n          packageType: 'case',\n          status: 'processing',\n          fileCount: 8,\n          fileSize: 1024 * 1024 * 12, // 12MB\n          creator: '张警官',\n          createdAt: '2024-01-21 14:15:00',\n          expiresAt: '2024-02-20 14:15:00',\n          progress: 65,\n          downloadUrl: null\n        },\n        {\n          id: 3,\n          name: '保密问答模板导出',\n          description: '所有保密问答模板的导出文件',\n          packageType: 'template',\n          status: 'completed',\n          fileCount: 15,\n          fileSize: 1024 * 1024 * 8, // 8MB\n          creator: '王警官',\n          createdAt: '2024-01-19 16:45:00',\n          expiresAt: '2024-02-18 16:45:00',\n          progress: 100,\n          downloadUrl: '/downloads/package3.zip'\n        },\n        {\n          id: 4,\n          name: '自定义笔录选择',\n          description: '手动选择的重要笔录文件',\n          packageType: 'custom',\n          status: 'failed',\n          fileCount: 0,\n          fileSize: 0,\n          creator: '李警官',\n          createdAt: '2024-01-18 09:20:00',\n          expiresAt: '2024-02-17 09:20:00',\n          progress: 0,\n          downloadUrl: null\n        }\n      ],\n      availableCases: [\n        { id: 1, caseNumber: 'CASE-2024-001', title: '张某涉嫌盗窃案' },\n        { id: 2, caseNumber: 'CASE-2024-002', title: '王某交通肇事案' },\n        { id: 3, caseNumber: 'CASE-2024-003', title: '刘某诈骗案' }\n      ],\n      availableRecords: [\n        { id: 1, caseNumber: 'CASE-2024-001', title: '张某涉嫌盗窃案询问笔录' },\n        { id: 2, caseNumber: 'CASE-2024-002', title: '王某交通肇事案询问笔录' },\n        { id: 3, caseNumber: 'CASE-2024-003', title: '刘某诈骗案询问笔录' }\n      ]\n    }\n  },\n  computed: {\n    filteredPackages() {\n      let filtered = this.packages;\n      \n      if (this.searchForm.keyword) {\n        const keyword = this.searchForm.keyword.toLowerCase();\n        filtered = filtered.filter(pkg => \n          pkg.name.toLowerCase().includes(keyword) ||\n          pkg.description.toLowerCase().includes(keyword)\n        );\n      }\n      \n      if (this.searchForm.status) {\n        filtered = filtered.filter(pkg => pkg.status === this.searchForm.status);\n      }\n      \n      if (this.searchForm.packageType) {\n        filtered = filtered.filter(pkg => pkg.packageType === this.searchForm.packageType);\n      }\n      \n      if (this.searchForm.creator) {\n        filtered = filtered.filter(pkg => pkg.creator === this.searchForm.creator);\n      }\n      \n      if (this.searchForm.dateFrom) {\n        filtered = filtered.filter(pkg => pkg.createdAt >= this.searchForm.dateFrom);\n      }\n      \n      return filtered;\n    },\n    totalPages() {\n      return Math.ceil(this.filteredPackages.length / this.pageSize);\n    },\n    paginatedPackages() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.filteredPackages.slice(start, end);\n    },\n    visiblePages() {\n      const pages = [];\n      const total = this.totalPages;\n      const current = this.currentPage;\n      \n      if (total <= 7) {\n        for (let i = 1; i <= total; i++) {\n          pages.push(i);\n        }\n      } else {\n        if (current <= 4) {\n          for (let i = 1; i <= 5; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        } else if (current >= total - 3) {\n          pages.push(1);\n          pages.push('...');\n          for (let i = total - 4; i <= total; i++) {\n            pages.push(i);\n          }\n        } else {\n          pages.push(1);\n          pages.push('...');\n          for (let i = current - 1; i <= current + 1; i++) {\n            pages.push(i);\n          }\n          pages.push('...');\n          pages.push(total);\n        }\n      }\n      \n      return pages;\n    }\n  },\n  methods: {\n    searchPackages() {\n      this.currentPage = 1;\n      console.log('搜索打包:', this.searchForm);\n    },\n    createPackage() {\n      if (!this.packageForm.name || !this.packageForm.packageType) {\n        alert('请填写完整信息');\n        return;\n      }\n      \n      // 验证选择项\n      if (this.packageForm.packageType === 'case' && this.packageForm.selectedCases.length === 0) {\n        alert('请选择至少一个案件');\n        return;\n      }\n      \n      if (this.packageForm.packageType === 'custom' && this.packageForm.selectedRecords.length === 0) {\n        alert('请选择至少一条笔录');\n        return;\n      }\n      \n      if (this.packageForm.packageType === 'date' && (!this.packageForm.dateFrom || !this.packageForm.dateTo)) {\n        alert('请选择日期范围');\n        return;\n      }\n      \n      if (this.packageForm.packageType === 'template' && !this.packageForm.templateId) {\n        alert('请选择模板');\n        return;\n      }\n      \n      const expiresAt = new Date();\n      expiresAt.setDate(expiresAt.getDate() + parseInt(this.packageForm.expiryDays));\n      \n      const newPackage = {\n        id: Date.now(),\n        name: this.packageForm.name,\n        description: this.packageForm.description,\n        packageType: this.packageForm.packageType,\n        status: 'pending',\n        fileCount: 0,\n        fileSize: 0,\n        creator: '当前用户', // 这里应该从用户信息获取\n        createdAt: new Date().toISOString().slice(0, 19).replace('T', ' '),\n        expiresAt: expiresAt.toISOString().slice(0, 19).replace('T', ' '),\n        progress: 0,\n        downloadUrl: null\n      };\n      \n      this.packages.unshift(newPackage);\n      this.showCreatePackageModal = false;\n      this.resetPackageForm();\n      \n      // 模拟打包过程\n      this.simulatePackaging(newPackage.id);\n      \n      // 更新统计数据\n      this.updateStats();\n    },\n    simulatePackaging(packageId) {\n      const pkg = this.packages.find(p => p.id === packageId);\n      if (!pkg) return;\n      \n      pkg.status = 'processing';\n      \n      const interval = setInterval(() => {\n        pkg.progress += Math.random() * 20;\n        if (pkg.progress >= 100) {\n          pkg.progress = 100;\n          pkg.status = 'completed';\n          pkg.fileCount = Math.floor(Math.random() * 20) + 5;\n          pkg.fileSize = Math.floor(Math.random() * 50 * 1024 * 1024) + 5 * 1024 * 1024; // 5-55MB\n          pkg.downloadUrl = `/downloads/package${packageId}.zip`;\n          clearInterval(interval);\n          this.updateStats();\n        }\n      }, 1000);\n    },\n    downloadPackage(pkg) {\n      if (pkg.status !== 'completed' || !pkg.downloadUrl) {\n        alert('文件尚未准备就绪');\n        return;\n      }\n      \n      console.log('下载打包文件:', pkg.name);\n      // 这里实现实际的下载逻辑\n      alert(`开始下载: ${pkg.name}`);\n    },\n    viewPackageDetails(pkg) {\n      console.log('查看打包详情:', pkg);\n      // 这里可以打开详情模态框\n    },\n    deletePackage(id) {\n      if (confirm('确定要删除这个打包吗？删除后将无法恢复！')) {\n        const index = this.packages.findIndex(p => p.id === id);\n        if (index > -1) {\n          this.packages.splice(index, 1);\n          this.updateStats();\n        }\n      }\n    },\n    batchDownload() {\n      const selectedPkgs = this.packages.filter(p => this.selectedPackages.includes(p.id));\n      const completedPkgs = selectedPkgs.filter(p => p.status === 'completed');\n      \n      if (completedPkgs.length === 0) {\n        alert('没有可下载的文件');\n        return;\n      }\n      \n      console.log('批量下载:', completedPkgs);\n      alert(`开始批量下载 ${completedPkgs.length} 个文件`);\n    },\n    cleanupPackages() {\n      const expiredPackages = this.packages.filter(p => this.isExpired(p.expiresAt));\n      \n      if (expiredPackages.length === 0) {\n        alert('没有过期的打包文件');\n        return;\n      }\n      \n      if (confirm(`发现 ${expiredPackages.length} 个过期文件，确定要清理吗？`)) {\n        expiredPackages.forEach(pkg => {\n          const index = this.packages.findIndex(p => p.id === pkg.id);\n          if (index > -1) {\n            this.packages.splice(index, 1);\n          }\n        });\n        this.updateStats();\n        alert('过期文件清理完成');\n      }\n    },\n    toggleSelectAll(event) {\n      if (event.target.checked) {\n        this.selectedPackages = this.paginatedPackages.map(p => p.id);\n      } else {\n        this.selectedPackages = [];\n      }\n    },\n    resetPackageForm() {\n      this.packageForm = {\n        name: '',\n        description: '',\n        packageType: '',\n        expiryDays: '30',\n        selectedCases: [],\n        selectedRecords: [],\n        dateFrom: '',\n        dateTo: '',\n        templateId: '',\n        includeAttachments: true,\n        compressFiles: true\n      };\n    },\n    updateStats() {\n      this.stats.totalPackages = this.packages.length;\n      this.stats.completedPackages = this.packages.filter(p => p.status === 'completed').length;\n      this.stats.processingPackages = this.packages.filter(p => p.status === 'processing').length;\n      this.stats.totalSize = this.packages.reduce((total, pkg) => total + pkg.fileSize, 0);\n    },\n    getPackageTypeClass(packageType) {\n      const classes = {\n        case: 'bg-primary',\n        date: 'bg-success',\n        custom: 'bg-warning',\n        template: 'bg-info'\n      };\n      return classes[packageType] || 'bg-secondary';\n    },\n    getPackageTypeText(packageType) {\n      const texts = {\n        case: '按案件',\n        date: '按日期',\n        custom: '自定义',\n        template: '模板导出'\n      };\n      return texts[packageType] || '未知';\n    },\n    getStatusClass(status) {\n      const classes = {\n        pending: 'bg-secondary',\n        processing: 'bg-warning',\n        completed: 'bg-success',\n        failed: 'bg-danger',\n        expired: 'bg-dark'\n      };\n      return classes[status] || 'bg-secondary';\n    },\n    getStatusText(status) {\n      const texts = {\n        pending: '等待中',\n        processing: '处理中',\n        completed: '已完成',\n        failed: '失败',\n        expired: '已过期'\n      };\n      return texts[status] || '未知';\n    },\n    formatFileSize(bytes) {\n      if (bytes === 0) return '0 B';\n      const k = 1024;\n      const sizes = ['B', 'KB', 'MB', 'GB'];\n      const i = Math.floor(Math.log(bytes) / Math.log(k));\n      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n    },\n    formatDate(dateStr) {\n      return new Date(dateStr).toLocaleString('zh-CN');\n    },\n    isExpired(expiresAt) {\n      return new Date(expiresAt) < new Date();\n    }\n  },\n  mounted() {\n    console.log('打包管理页面已加载');\n    this.updateStats();\n  }\n}\n</script>\n\n<style scoped>\n.stats-card {\n  transition: all 0.3s ease;\n}\n\n.stats-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.stats-icon {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  margin: 0 auto;\n}\n\n.package-row {\n  transition: all 0.3s ease;\n}\n\n.package-row:hover {\n  background-color: rgba(13, 110, 253, 0.05);\n}\n\n.package-card {\n  transition: all 0.3s ease;\n  cursor: pointer;\n}\n\n.package-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n}\n\n.empty-state {\n  padding: 2rem;\n}\n\n.modal {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.btn {\n  transition: all 0.3s ease;\n}\n\n.btn:hover {\n  transform: translateY(-1px);\n}\n\n.progress {\n  background-color: #e9ecef;\n}\n\n.progress-bar {\n  background-color: #0d6efd;\n  transition: width 0.3s ease;\n}\n\n.page-link {\n  transition: all 0.3s ease;\n}\n\n.pagination .page-item.active .page-link {\n  background-color: #0d6efd;\n  border-color: #0d6efd;\n}\n\n.table th {\n  font-weight: 600;\n  border-bottom: 2px solid #dee2e6;\n  background-color: #f8f9fa;\n}\n\n.badge {\n  font-size: 0.75rem;\n}\n\n.input-group-text {\n  background-color: #f8f9fa;\n  border-color: #dee2e6;\n}\n\n.form-control:focus, .form-select:focus {\n  border-color: #0d6efd;\n  box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);\n}\n\n.border-end {\n  border-right: 1px solid #dee2e6 !important;\n}\n\n.text-danger {\n  color: #dc3545 !important;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}