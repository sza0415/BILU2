{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { reactive, onMounted } from 'vue';\nimport { Modal } from 'bootstrap';\nexport default {\n  name: 'EditCaseModal',\n  emits: ['submit'],\n  setup(props, {\n    emit\n  }) {\n    // 表单数据\n    const form = reactive({\n      id: null,\n      caseName: '',\n      caseType: '',\n      status: '',\n      caseNumber: '',\n      startDate: '',\n      endDate: '',\n      description: ''\n    });\n\n    // 模态框实例\n    let modalInstance = null;\n\n    // 初始化模态框\n    const initModal = () => {\n      const modalEl = document.getElementById('editCaseModal');\n      if (modalEl) {\n        // 销毁旧实例\n        if (modalInstance) {\n          modalInstance.dispose();\n        }\n        // 创建新实例\n        modalInstance = new Modal(modalEl, {\n          backdrop: 'static',\n          keyboard: false\n        });\n      }\n    };\n\n    // 显示模态框\n    const showModal = caseData => {\n      // 填充表单数据\n      if (caseData) {\n        Object.keys(form).forEach(key => {\n          if (key in caseData) {\n            form[key] = caseData[key];\n          }\n        });\n      }\n\n      // 确保模态框实例存在\n      if (!modalInstance) {\n        initModal();\n      }\n      // 显示模态框\n      modalInstance.show();\n    };\n\n    // 隐藏模态框\n    const hideModal = () => {\n      if (modalInstance) {\n        modalInstance.hide();\n      }\n    };\n\n    // 重置表单\n    const resetForm = () => {\n      form.id = null;\n      form.caseName = '';\n      form.caseType = '';\n      form.status = '';\n      form.caseNumber = '';\n      form.startDate = '';\n      form.endDate = '';\n      form.description = '';\n    };\n\n    // 提交表单\n    const submitForm = () => {\n      emit('submit', {\n        ...form\n      });\n      hideModal();\n    };\n\n    // 组件挂载时初始化模态框\n    onMounted(() => {\n      initModal();\n    });\n    return {\n      form,\n      showModal,\n      hideModal,\n      submitForm,\n      resetForm\n    };\n  }\n};","map":{"version":3,"names":["reactive","onMounted","Modal","name","emits","setup","props","emit","form","id","caseName","caseType","status","caseNumber","startDate","endDate","description","modalInstance","initModal","modalEl","document","getElementById","dispose","backdrop","keyboard","showModal","caseData","Object","keys","forEach","key","show","hideModal","hide","resetForm","submitForm"],"sources":["/Users/sunziang/BILU2/Frontend/src/components/case/modals/EditCaseModal.vue"],"sourcesContent":["<template>\n  <div class=\"modal fade\" id=\"editCaseModal\" tabindex=\"-1\" aria-labelledby=\"editCaseModalLabel\" aria-hidden=\"true\">\n    <div class=\"modal-dialog modal-dialog-centered\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"editCaseModalLabel\">编辑案件</h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <form @submit.prevent=\"submitForm\">\n            <div class=\"mb-3\">\n              <label for=\"editCaseName\" class=\"form-label\">案件名称</label>\n              <input type=\"text\" class=\"form-control\" id=\"editCaseName\" v-model=\"form.caseName\" required>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"editCaseType\" class=\"form-label\">案件类型</label>\n              <select class=\"form-select\" id=\"editCaseType\" v-model=\"form.caseType\" required>\n                <option value=\"\">请选择案件类型</option>\n                <option value=\"刑事案件\">刑事案件</option>\n                <option value=\"民事案件\">民事案件</option>\n                <option value=\"行政案件\">行政案件</option>\n                <option value=\"其他\">其他</option>\n              </select>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"editStatus\" class=\"form-label\">案件状态</label>\n              <select class=\"form-select\" id=\"editStatus\" v-model=\"form.status\" required>\n                <option value=\"\">请选择案件状态</option>\n                <option value=\"调查中\">调查中</option>\n                <option value=\"审理中\">审理中</option>\n                <option value=\"已结案\">已结案</option>\n              </select>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"editCaseNumber\" class=\"form-label\">案件编号</label>\n              <input type=\"text\" class=\"form-control\" id=\"editCaseNumber\" v-model=\"form.caseNumber\">\n            </div>\n            <div class=\"row\">\n              <div class=\"col-md-6 mb-3\">\n                <label for=\"editStartDate\" class=\"form-label\">立案日期</label>\n                <input type=\"date\" class=\"form-control\" id=\"editStartDate\" v-model=\"form.startDate\">\n              </div>\n              <div class=\"col-md-6 mb-3\">\n                <label for=\"editEndDate\" class=\"form-label\">结案日期</label>\n                <input type=\"date\" class=\"form-control\" id=\"editEndDate\" v-model=\"form.endDate\">\n              </div>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"editDescription\" class=\"form-label\">案件描述</label>\n              <textarea class=\"form-control\" id=\"editDescription\" rows=\"3\" v-model=\"form.description\"></textarea>\n            </div>\n            <div class=\"modal-footer px-0 pb-0\">\n              <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\n              <button type=\"submit\" class=\"btn btn-primary\">保存</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, onMounted } from 'vue'\nimport { Modal } from 'bootstrap'\n\nexport default {\n  name: 'EditCaseModal',\n  emits: ['submit'],\n  setup(props, { emit }) {\n    // 表单数据\n    const form = reactive({\n      id: null,\n      caseName: '',\n      caseType: '',\n      status: '',\n      caseNumber: '',\n      startDate: '',\n      endDate: '',\n      description: ''\n    })\n    \n    // 模态框实例\n    let modalInstance = null\n    \n    // 初始化模态框\n    const initModal = () => {\n      const modalEl = document.getElementById('editCaseModal')\n      if (modalEl) {\n        // 销毁旧实例\n        if (modalInstance) {\n          modalInstance.dispose()\n        }\n        // 创建新实例\n        modalInstance = new Modal(modalEl, {\n          backdrop: 'static',\n          keyboard: false\n        })\n      }\n    }\n    \n    // 显示模态框\n    const showModal = (caseData) => {\n      // 填充表单数据\n      if (caseData) {\n        Object.keys(form).forEach(key => {\n          if (key in caseData) {\n            form[key] = caseData[key]\n          }\n        })\n      }\n      \n      // 确保模态框实例存在\n      if (!modalInstance) {\n        initModal()\n      }\n      // 显示模态框\n      modalInstance.show()\n    }\n    \n    // 隐藏模态框\n    const hideModal = () => {\n      if (modalInstance) {\n        modalInstance.hide()\n      }\n    }\n    \n    // 重置表单\n    const resetForm = () => {\n      form.id = null\n      form.caseName = ''\n      form.caseType = ''\n      form.status = ''\n      form.caseNumber = ''\n      form.startDate = ''\n      form.endDate = ''\n      form.description = ''\n    }\n    \n    // 提交表单\n    const submitForm = () => {\n      emit('submit', { ...form })\n      hideModal()\n    }\n    \n    // 组件挂载时初始化模态框\n    onMounted(() => {\n      initModal()\n    })\n    \n    return {\n      form,\n      showModal,\n      hideModal,\n      submitForm,\n      resetForm\n    }\n  }\n}\n</script>\n\n<style scoped>\n.modal-content {\n  border: none;\n  border-radius: 0.5rem;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n}\n\n.modal-header {\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  padding: 1.25rem 1.5rem;\n}\n\n.modal-body {\n  padding: 1.5rem;\n}\n\n.modal-footer {\n  border-top: none;\n}\n\n.form-label {\n  font-weight: 500;\n  margin-bottom: 0.5rem;\n  color: #495057;\n}\n\n.form-control, .form-select {\n  padding: 0.5rem 0.75rem;\n  border-radius: 0.375rem;\n  border: 1px solid #ced4da;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n}\n\n.form-control:focus, .form-select:focus {\n  border-color: #4a6cf7;\n  box-shadow: 0 0 0 0.25rem rgba(74, 108, 247, 0.25);\n}\n\n.btn-primary {\n  background: linear-gradient(to right, #4a6cf7, #2651f0);\n  border: none;\n  padding: 0.5rem 1.5rem;\n  font-weight: 500;\n}\n\n.btn-primary:hover {\n  background: linear-gradient(to right, #2651f0, #1a3fd9);\n}\n\n.btn-secondary {\n  background-color: #f8f9fa;\n  border: 1px solid #ced4da;\n  color: #495057;\n  padding: 0.5rem 1.5rem;\n  font-weight: 500;\n}\n\n.btn-secondary:hover {\n  background-color: #e9ecef;\n  border-color: #ced4da;\n  color: #212529;\n}\n</style>"],"mappings":";;AA+DA,SAASA,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AACxC,SAASC,KAAI,QAAS,WAAU;AAEhC,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE,CAAC,QAAQ,CAAC;EACjBC,KAAKA,CAACC,KAAK,EAAE;IAAEC;EAAK,CAAC,EAAE;IACrB;IACA,MAAMC,IAAG,GAAIR,QAAQ,CAAC;MACpBS,EAAE,EAAE,IAAI;MACRC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE,EAAE;MACdC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE;IACf,CAAC;;IAED;IACA,IAAIC,aAAY,GAAI,IAAG;;IAEvB;IACA,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtB,MAAMC,OAAM,GAAIC,QAAQ,CAACC,cAAc,CAAC,eAAe;MACvD,IAAIF,OAAO,EAAE;QACX;QACA,IAAIF,aAAa,EAAE;UACjBA,aAAa,CAACK,OAAO,CAAC;QACxB;QACA;QACAL,aAAY,GAAI,IAAIf,KAAK,CAACiB,OAAO,EAAE;UACjCI,QAAQ,EAAE,QAAQ;UAClBC,QAAQ,EAAE;QACZ,CAAC;MACH;IACF;;IAEA;IACA,MAAMC,SAAQ,GAAKC,QAAQ,IAAK;MAC9B;MACA,IAAIA,QAAQ,EAAE;QACZC,MAAM,CAACC,IAAI,CAACpB,IAAI,CAAC,CAACqB,OAAO,CAACC,GAAE,IAAK;UAC/B,IAAIA,GAAE,IAAKJ,QAAQ,EAAE;YACnBlB,IAAI,CAACsB,GAAG,IAAIJ,QAAQ,CAACI,GAAG;UAC1B;QACF,CAAC;MACH;;MAEA;MACA,IAAI,CAACb,aAAa,EAAE;QAClBC,SAAS,CAAC;MACZ;MACA;MACAD,aAAa,CAACc,IAAI,CAAC;IACrB;;IAEA;IACA,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtB,IAAIf,aAAa,EAAE;QACjBA,aAAa,CAACgB,IAAI,CAAC;MACrB;IACF;;IAEA;IACA,MAAMC,SAAQ,GAAIA,CAAA,KAAM;MACtB1B,IAAI,CAACC,EAAC,GAAI,IAAG;MACbD,IAAI,CAACE,QAAO,GAAI,EAAC;MACjBF,IAAI,CAACG,QAAO,GAAI,EAAC;MACjBH,IAAI,CAACI,MAAK,GAAI,EAAC;MACfJ,IAAI,CAACK,UAAS,GAAI,EAAC;MACnBL,IAAI,CAACM,SAAQ,GAAI,EAAC;MAClBN,IAAI,CAACO,OAAM,GAAI,EAAC;MAChBP,IAAI,CAACQ,WAAU,GAAI,EAAC;IACtB;;IAEA;IACA,MAAMmB,UAAS,GAAIA,CAAA,KAAM;MACvB5B,IAAI,CAAC,QAAQ,EAAE;QAAE,GAAGC;MAAK,CAAC;MAC1BwB,SAAS,CAAC;IACZ;;IAEA;IACA/B,SAAS,CAAC,MAAM;MACdiB,SAAS,CAAC;IACZ,CAAC;IAED,OAAO;MACLV,IAAI;MACJiB,SAAS;MACTO,SAAS;MACTG,UAAU;MACVD;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}