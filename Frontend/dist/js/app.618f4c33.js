(function(){"use strict";var e={4909:function(e,s,t){var a=t(5130),l=t(6768),o=t(4232);const i={id:"app"},r={class:"navbar navbar-expand-lg"},c={class:"container-fluid"},n={class:"collapse navbar-collapse",id:"navbarSupportedContent"},d={class:"navbar-nav me-auto mb-2 mb-lg-0"},m={class:"nav-item"},u={class:"nav-item"},k={class:"nav-item"},b={class:"nav-item"},p={class:"nav-item"},h={class:"nav-item"},L={class:"nav-item dropdown"},g={class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},v={class:"dropdown-menu"},f={key:0},y={key:1},w={class:"navbar-nav ms-auto"},C={class:"nav-item"},x={class:"main-content"};function F(e,s,t,a,F,T){const P=(0,l.g2)("router-link"),_=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("nav",r,[(0,l.Lk)("div",c,[s[14]||(s[14]=(0,l.Lk)("a",{class:"navbar-brand",href:"#"},[(0,l.Lk)("i",{class:"bi bi-journal-text"}),(0,l.eW)("笔录系统 ")],-1)),s[15]||(s[15]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",n,[(0,l.Lk)("ul",d,[(0,l.Lk)("li",m,[(0,l.bF)(P,{class:"nav-link",to:"/","active-class":"active"},{default:(0,l.k6)(()=>s[2]||(s[2]=[(0,l.Lk)("i",{class:"bi bi-house-door"},null,-1),(0,l.eW)("首页 ")])),_:1,__:[2]})]),(0,l.Lk)("li",u,[(0,l.bF)(P,{class:"nav-link",to:"/task","active-class":"active"},{default:(0,l.k6)(()=>s[3]||(s[3]=[(0,l.Lk)("i",{class:"bi bi-pencil-square"},null,-1),(0,l.eW)("笔录页面 ")])),_:1,__:[3]})]),(0,l.Lk)("li",k,[(0,l.bF)(P,{class:"nav-link",to:"/search","active-class":"active"},{default:(0,l.k6)(()=>s[4]||(s[4]=[(0,l.Lk)("i",{class:"bi bi-search"},null,-1),(0,l.eW)("笔录搜索 ")])),_:1,__:[4]})]),(0,l.Lk)("li",b,[(0,l.bF)(P,{class:"nav-link",to:"/cases","active-class":"active"},{default:(0,l.k6)(()=>s[5]||(s[5]=[(0,l.Lk)("i",{class:"bi bi-folder2-open"},null,-1),(0,l.eW)("案件管理 ")])),_:1,__:[5]})]),(0,l.Lk)("li",p,[(0,l.bF)(P,{class:"nav-link",to:"/templates","active-class":"active"},{default:(0,l.k6)(()=>s[6]||(s[6]=[(0,l.Lk)("i",{class:"bi bi-gear"},null,-1),(0,l.eW)("模版管理 ")])),_:1,__:[6]})]),(0,l.Lk)("li",h,[(0,l.bF)(P,{class:"nav-link",to:"/package","active-class":"active"},{default:(0,l.k6)(()=>s[7]||(s[7]=[(0,l.Lk)("i",{class:"bi bi-archive"},null,-1),(0,l.eW)("打包管理 ")])),_:1,__:[7]})]),(0,l.Lk)("li",L,[(0,l.Lk)("a",g,[s[8]||(s[8]=(0,l.Lk)("i",{class:"bi bi-person-circle"},null,-1)),(0,l.eW)(" "+(0,o.v_)(F.userInfo.name||"请登录"),1)]),(0,l.Lk)("ul",v,[F.userInfo.name?((0,l.uX)(),(0,l.CE)("li",y,[(0,l.Lk)("a",{class:"dropdown-item",href:"#",onClick:s[0]||(s[0]=(...e)=>T.logout&&T.logout(...e))},s[10]||(s[10]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-right"},null,-1),(0,l.eW)("注销 ")]))])):((0,l.uX)(),(0,l.CE)("li",f,[(0,l.bF)(P,{class:"dropdown-item",to:"/login"},{default:(0,l.k6)(()=>s[9]||(s[9]=[(0,l.Lk)("i",{class:"bi bi-box-arrow-in-right"},null,-1),(0,l.eW)("登录 ")])),_:1,__:[9]})])),s[12]||(s[12]=(0,l.Lk)("li",null,[(0,l.Lk)("hr",{class:"dropdown-divider"})],-1)),(0,l.Lk)("li",null,[(0,l.bF)(P,{class:"dropdown-item",to:"/admin"},{default:(0,l.k6)(()=>s[11]||(s[11]=[(0,l.Lk)("i",{class:"bi bi-shield-lock"},null,-1),(0,l.eW)("管理员账户 ")])),_:1,__:[11]})])])])]),(0,l.Lk)("ul",w,[(0,l.Lk)("li",C,[(0,l.Lk)("a",{class:"nav-link",href:"#",onClick:s[1]||(s[1]=(...e)=>T.exitSystem&&T.exitSystem(...e)),style:{color:"white","font-weight":"500"}},s[13]||(s[13]=[(0,l.Lk)("i",{class:"bi bi-power",style:{color:"rgb(255, 255, 255)","font-size":"1.5rem","margin-right":"5px"}},null,-1),(0,l.eW)("退出系统 ")]))])])])])]),(0,l.Lk)("div",x,[(0,l.bF)(_)])])}t(4114);var T={name:"App",data(){return{userInfo:{name:"管理员"}}},methods:{logout(){confirm("确定要注销吗？")&&(this.userInfo.name=null,this.$router.push("/login"))},exitSystem(){confirm("确定要退出系统吗？")&&window.close()}}},P=t(1241);const _=(0,P.A)(T,[["render",F]]);var S=_,E=t(1387);const U={class:"container mt-4"},M={class:"row g-4"},W={class:"col-md-6 col-lg-4"},A={class:"card h-100 border-0 shadow-sm hover-card"},X={class:"card-body text-center p-4"},R={class:"col-md-6 col-lg-4"},I={class:"card h-100 border-0 shadow-sm hover-card"},D={class:"card-body text-center p-4"},V={class:"col-md-6 col-lg-4"},N={class:"card h-100 border-0 shadow-sm hover-card"},z={class:"card-body text-center p-4"},q={class:"col-md-6 col-lg-4"},j={class:"card h-100 border-0 shadow-sm hover-card"},$={class:"card-body text-center p-4"},O={class:"col-md-6 col-lg-4"},J={class:"card h-100 border-0 shadow-sm hover-card"},Q={class:"card-body text-center p-4"},H={class:"col-md-6 col-lg-4"},K={class:"card h-100 border-0 shadow-sm hover-card"},B={class:"card-body text-center p-4"},G={class:"row mt-5"},Z={class:"col-12"},Y={class:"card border-0 shadow-sm"},ee={class:"card-body"},se={class:"row text-center"},te={class:"col-md-3"},ae={class:"stat-item"},le={class:"text-primary fw-bold"},oe={class:"col-md-3"},ie={class:"stat-item"},re={class:"text-success fw-bold"},ce={class:"col-md-3"},ne={class:"stat-item"},de={class:"text-warning fw-bold"},me={class:"col-md-3"},ue={class:"stat-item"},ke={class:"text-info fw-bold"};function be(e,s,t,a,i,r){const c=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",U,[s[29]||(s[29]=(0,l.Lk)("div",{class:"row mb-4"},[(0,l.Lk)("div",{class:"col-12 text-center"},[(0,l.Lk)("h1",{class:"display-4 fw-bold text-primary"},"笔录管理系统"),(0,l.Lk)("p",{class:"lead text-muted"},"高效、安全、智能的笔录记录与管理平台")])],-1)),(0,l.Lk)("div",M,[(0,l.Lk)("div",W,[(0,l.Lk)("div",A,[(0,l.Lk)("div",X,[s[1]||(s[1]=(0,l.Lk)("div",{class:"feature-icon mb-3"},[(0,l.Lk)("i",{class:"bi bi-pencil-square text-primary",style:{"font-size":"3rem"}})],-1)),s[2]||(s[2]=(0,l.Lk)("h5",{class:"card-title fw-bold"},"笔录页面",-1)),s[3]||(s[3]=(0,l.Lk)("p",{class:"card-text text-muted"},"创建和编辑笔录记录，支持多种格式输入",-1)),(0,l.bF)(c,{to:"/task",class:"btn btn-primary btn-lg"},{default:(0,l.k6)(()=>s[0]||(s[0]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-2"},null,-1),(0,l.eW)("进入 ")])),_:1,__:[0]})])])]),(0,l.Lk)("div",R,[(0,l.Lk)("div",I,[(0,l.Lk)("div",D,[s[5]||(s[5]=(0,l.Lk)("div",{class:"feature-icon mb-3"},[(0,l.Lk)("i",{class:"bi bi-search text-success",style:{"font-size":"3rem"}})],-1)),s[6]||(s[6]=(0,l.Lk)("h5",{class:"card-title fw-bold"},"笔录搜索",-1)),s[7]||(s[7]=(0,l.Lk)("p",{class:"card-text text-muted"},"快速查找和检索历史笔录记录",-1)),(0,l.bF)(c,{to:"/search",class:"btn btn-success btn-lg"},{default:(0,l.k6)(()=>s[4]||(s[4]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-2"},null,-1),(0,l.eW)("进入 ")])),_:1,__:[4]})])])]),(0,l.Lk)("div",V,[(0,l.Lk)("div",N,[(0,l.Lk)("div",z,[s[9]||(s[9]=(0,l.Lk)("div",{class:"feature-icon mb-3"},[(0,l.Lk)("i",{class:"bi bi-folder2-open text-warning",style:{"font-size":"3rem"}})],-1)),s[10]||(s[10]=(0,l.Lk)("h5",{class:"card-title fw-bold"},"案件管理",-1)),s[11]||(s[11]=(0,l.Lk)("p",{class:"card-text text-muted"},"管理案件信息，关联相关笔录",-1)),(0,l.bF)(c,{to:"/cases",class:"btn btn-warning btn-lg"},{default:(0,l.k6)(()=>s[8]||(s[8]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-2"},null,-1),(0,l.eW)("进入 ")])),_:1,__:[8]})])])]),(0,l.Lk)("div",q,[(0,l.Lk)("div",j,[(0,l.Lk)("div",$,[s[13]||(s[13]=(0,l.Lk)("div",{class:"feature-icon mb-3"},[(0,l.Lk)("i",{class:"bi bi-gear text-info",style:{"font-size":"3rem"}})],-1)),s[14]||(s[14]=(0,l.Lk)("h5",{class:"card-title fw-bold"},"模版管理",-1)),s[15]||(s[15]=(0,l.Lk)("p",{class:"card-text text-muted"},"管理保密问答模板，提高工作效率",-1)),(0,l.bF)(c,{to:"/templates",class:"btn btn-info btn-lg"},{default:(0,l.k6)(()=>s[12]||(s[12]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-2"},null,-1),(0,l.eW)("进入 ")])),_:1,__:[12]})])])]),(0,l.Lk)("div",O,[(0,l.Lk)("div",J,[(0,l.Lk)("div",Q,[s[17]||(s[17]=(0,l.Lk)("div",{class:"feature-icon mb-3"},[(0,l.Lk)("i",{class:"bi bi-archive text-secondary",style:{"font-size":"3rem"}})],-1)),s[18]||(s[18]=(0,l.Lk)("h5",{class:"card-title fw-bold"},"打包管理",-1)),s[19]||(s[19]=(0,l.Lk)("p",{class:"card-text text-muted"},"批量处理和打包笔录文件",-1)),(0,l.bF)(c,{to:"/package",class:"btn btn-secondary btn-lg"},{default:(0,l.k6)(()=>s[16]||(s[16]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-2"},null,-1),(0,l.eW)("进入 ")])),_:1,__:[16]})])])]),(0,l.Lk)("div",H,[(0,l.Lk)("div",K,[(0,l.Lk)("div",B,[s[21]||(s[21]=(0,l.Lk)("div",{class:"feature-icon mb-3"},[(0,l.Lk)("i",{class:"bi bi-shield-lock text-danger",style:{"font-size":"3rem"}})],-1)),s[22]||(s[22]=(0,l.Lk)("h5",{class:"card-title fw-bold"},"管理员账户",-1)),s[23]||(s[23]=(0,l.Lk)("p",{class:"card-text text-muted"},"管理系统用户和权限设置",-1)),(0,l.bF)(c,{to:"/admin",class:"btn btn-danger btn-lg"},{default:(0,l.k6)(()=>s[20]||(s[20]=[(0,l.Lk)("i",{class:"bi bi-arrow-right me-2"},null,-1),(0,l.eW)("进入 ")])),_:1,__:[20]})])])])]),(0,l.Lk)("div",G,[(0,l.Lk)("div",Z,[(0,l.Lk)("div",Y,[(0,l.Lk)("div",ee,[s[28]||(s[28]=(0,l.Lk)("h5",{class:"card-title fw-bold mb-4"},[(0,l.Lk)("i",{class:"bi bi-bar-chart me-2 text-primary"}),(0,l.eW)("系统统计 ")],-1)),(0,l.Lk)("div",se,[(0,l.Lk)("div",te,[(0,l.Lk)("div",ae,[(0,l.Lk)("h3",le,(0,o.v_)(i.stats.totalRecords),1),s[24]||(s[24]=(0,l.Lk)("p",{class:"text-muted mb-0"},"总笔录数",-1))])]),(0,l.Lk)("div",oe,[(0,l.Lk)("div",ie,[(0,l.Lk)("h3",re,(0,o.v_)(i.stats.totalCases),1),s[25]||(s[25]=(0,l.Lk)("p",{class:"text-muted mb-0"},"总案件数",-1))])]),(0,l.Lk)("div",ce,[(0,l.Lk)("div",ne,[(0,l.Lk)("h3",de,(0,o.v_)(i.stats.totalTemplates),1),s[26]||(s[26]=(0,l.Lk)("p",{class:"text-muted mb-0"},"模板数量",-1))])]),(0,l.Lk)("div",me,[(0,l.Lk)("div",ue,[(0,l.Lk)("h3",ke,(0,o.v_)(i.stats.todayRecords),1),s[27]||(s[27]=(0,l.Lk)("p",{class:"text-muted mb-0"},"今日新增",-1))])])])])])])])])}var pe={name:"HomePage",data(){return{stats:{totalRecords:1248,totalCases:156,totalTemplates:45,todayRecords:12}}},mounted(){this.loadStats()},methods:{loadStats(){console.log("加载统计数据...")}}};const he=(0,P.A)(pe,[["render",be],["__scopeId","data-v-34ac70fe"]]);var Le=he;const ge={class:"login-container"},ve={class:"login-card"},fe={class:"login-body"},ye={class:"form-group"},we={class:"form-group"},Ce={class:"password-input"},xe=["type"],Fe={class:"form-group"},Te={class:"form-check"},Pe=["disabled"],_e={key:0,class:"spinner-border spinner-border-sm me-2"},Se={key:1,class:"bi bi-box-arrow-in-right me-2"};function Ee(e,s,t,i,r,c){return(0,l.uX)(),(0,l.CE)("div",ge,[(0,l.Lk)("div",ve,[s[8]||(s[8]=(0,l.Fv)('<div class="login-header" data-v-29e54747><div class="logo-section" data-v-29e54747><i class="bi bi-journal-text logo-icon" data-v-29e54747></i><h2 class="system-title" data-v-29e54747>笔录管理系统</h2><p class="system-subtitle" data-v-29e54747>Record Management System</p></div></div>',1)),(0,l.Lk)("div",fe,[(0,l.Lk)("form",{onSubmit:s[4]||(s[4]=(0,a.D$)((...e)=>c.handleLogin&&c.handleLogin(...e),["prevent"]))},[(0,l.Lk)("div",ye,[s[5]||(s[5]=(0,l.Lk)("label",{for:"username",class:"form-label"},[(0,l.Lk)("i",{class:"bi bi-person me-2"}),(0,l.eW)("用户名 ")],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":s[0]||(s[0]=e=>r.loginForm.username=e),placeholder:"请输入用户名",required:""},null,512),[[a.Jo,r.loginForm.username]])]),(0,l.Lk)("div",we,[s[6]||(s[6]=(0,l.Lk)("label",{for:"password",class:"form-label"},[(0,l.Lk)("i",{class:"bi bi-lock me-2"}),(0,l.eW)("密码 ")],-1)),(0,l.Lk)("div",Ce,[(0,l.bo)((0,l.Lk)("input",{type:r.showPassword?"text":"password",class:"form-control",id:"password","onUpdate:modelValue":s[1]||(s[1]=e=>r.loginForm.password=e),placeholder:"请输入密码",required:""},null,8,xe),[[a.hp,r.loginForm.password]]),(0,l.Lk)("button",{type:"button",class:"password-toggle",onClick:s[2]||(s[2]=e=>r.showPassword=!r.showPassword)},[(0,l.Lk)("i",{class:(0,o.C4)(r.showPassword?"bi bi-eye-slash":"bi bi-eye")},null,2)])])]),(0,l.Lk)("div",Fe,[(0,l.Lk)("div",Te,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:"rememberMe","onUpdate:modelValue":s[3]||(s[3]=e=>r.loginForm.rememberMe=e)},null,512),[[a.lH,r.loginForm.rememberMe]]),s[7]||(s[7]=(0,l.Lk)("label",{class:"form-check-label",for:"rememberMe"}," 记住我 ",-1))])]),(0,l.Lk)("button",{type:"submit",class:"btn btn-primary login-btn",disabled:r.isLoading},[r.isLoading?((0,l.uX)(),(0,l.CE)("span",_e)):((0,l.uX)(),(0,l.CE)("i",Se)),(0,l.eW)(" "+(0,o.v_)(r.isLoading?"登录中...":"登录"),1)],8,Pe)],32)]),s[9]||(s[9]=(0,l.Fv)('<div class="login-footer" data-v-29e54747><div class="footer-links" data-v-29e54747><a href="#" class="footer-link" data-v-29e54747>忘记密码？</a><span class="divider" data-v-29e54747>|</span><a href="#" class="footer-link" data-v-29e54747>联系管理员</a></div><div class="copyright" data-v-29e54747><p data-v-29e54747>© 2024 笔录管理系统. All rights reserved.</p></div></div>',1))]),s[10]||(s[10]=(0,l.Lk)("div",{class:"background-decoration"},[(0,l.Lk)("div",{class:"decoration-circle circle-1"}),(0,l.Lk)("div",{class:"decoration-circle circle-2"}),(0,l.Lk)("div",{class:"decoration-circle circle-3"})],-1))])}var Ue={name:"LoginPage",data(){return{loginForm:{username:"",password:"",rememberMe:!1},showPassword:!1,isLoading:!1}},methods:{async handleLogin(){if(this.loginForm.username&&this.loginForm.password){this.isLoading=!0;try{if(await new Promise(e=>setTimeout(e,1500)),"admin"===this.loginForm.username&&"admin"===this.loginForm.password){const e={name:this.loginForm.username,token:"mock-token-"+Date.now()};localStorage.setItem("userInfo",JSON.stringify(e)),this.$router.push("/")}else alert("用户名或密码错误")}catch(e){console.error("登录失败:",e),alert("登录失败，请稍后重试")}finally{this.isLoading=!1}}else alert("请填写完整的登录信息")}},mounted(){const e=localStorage.getItem("userInfo");e&&this.$router.push("/")}};const Me=(0,P.A)(Ue,[["render",Ee],["__scopeId","data-v-29e54747"]]);var We=Me;const Ae={class:"container-fluid mt-4"},Xe={class:"row mb-4"},Re={class:"col-12"},Ie={class:"d-flex justify-content-between align-items-center"},De={class:"btn-group"},Ve={class:"row mb-4"},Ne={class:"col-12"},ze={class:"card border-0 shadow-sm"},qe={class:"card-body"},je={class:"row g-3"},$e={class:"col-md-4"},Oe={class:"input-group"},Je={class:"col-md-2"},Qe={class:"col-md-2"},He={class:"col-md-2"},Ke={class:"col-md-2"},Be={class:"row"},Ge={class:"col-12"},Ze={class:"card border-0 shadow-sm"},Ye={class:"card-header bg-white border-0 py-3"},es={class:"d-flex justify-content-between align-items-center"},ss={class:"fw-bold mb-0"},ts={class:"badge bg-primary ms-2"},as={class:"btn-group btn-group-sm"},ls={class:"card-body p-0"},os={key:0,class:"table-responsive"},is={class:"table table-hover mb-0"},rs={class:"bg-light"},cs={width:"5%"},ns=["value"],ds={class:"fw-bold text-primary"},ms={class:"record-title"},us={class:"text-muted d-block"},ks={class:"d-flex align-items-center"},bs={class:"text-muted"},ps={class:"btn-group btn-group-sm"},hs=["onClick"],Ls=["onClick"],gs=["onClick"],vs={key:0},fs={key:1,class:"row g-3 p-3"},ys={class:"card h-100 record-card"},ws={class:"card-header d-flex justify-content-between align-items-center"},Cs={class:"text-muted"},xs={class:"card-body"},Fs={class:"card-title"},Ts={class:"card-text text-muted small"},Ps={class:"d-flex justify-content-between align-items-center"},_s={class:"text-muted"},Ss={class:"text-muted"},Es={class:"card-footer bg-transparent"},Us={class:"btn-group w-100"},Ms=["onClick"],Ws=["onClick"],As=["onClick"],Xs={key:0,class:"col-12"},Rs={key:0,class:"card-footer bg-white"},Is={class:"d-flex justify-content-between align-items-center"},Ds={class:"text-muted"},Vs={class:"pagination pagination-sm mb-0"},Ns=["disabled"],zs=["disabled"],qs=["onClick"],js=["disabled"],$s=["disabled"],Os={class:"modal-dialog modal-lg"},Js={class:"modal-content"},Qs={class:"modal-header"},Hs={class:"modal-body"},Ks={class:"row g-3"},Bs={class:"col-md-6"},Gs={class:"col-md-6"},Zs={class:"col-12"},Ys={class:"col-md-6"},et={class:"col-md-6"},st={class:"modal-footer"},tt={key:0,class:"modal-backdrop fade show"};function at(e,s,t,i,r,c){return(0,l.uX)(),(0,l.CE)("div",Ae,[(0,l.Lk)("div",Xe,[(0,l.Lk)("div",Re,[(0,l.Lk)("div",Ie,[s[26]||(s[26]=(0,l.Lk)("div",null,[(0,l.Lk)("h2",{class:"display-6 fw-bold text-primary mb-0"},[(0,l.Lk)("i",{class:"bi bi-pencil-square me-2"}),(0,l.eW)("笔录管理 ")]),(0,l.Lk)("p",{class:"text-muted mb-0"},"创建、编辑和管理笔录记录")],-1)),(0,l.Lk)("div",De,[(0,l.Lk)("button",{class:"btn btn-primary btn-lg",onClick:s[0]||(s[0]=e=>r.showCreateModal=!0)},s[24]||(s[24]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)("新建笔录 ")])),(0,l.Lk)("button",{class:"btn btn-success btn-lg",onClick:s[1]||(s[1]=e=>r.showBatchModal=!0)},s[25]||(s[25]=[(0,l.Lk)("i",{class:"bi bi-files me-2"},null,-1),(0,l.eW)("批量操作 ")]))])])])]),(0,l.Lk)("div",Ve,[(0,l.Lk)("div",Ne,[(0,l.Lk)("div",ze,[(0,l.Lk)("div",qe,[(0,l.Lk)("div",je,[(0,l.Lk)("div",$e,[s[28]||(s[28]=(0,l.Lk)("label",{class:"form-label fw-bold"},"搜索关键词",-1)),(0,l.Lk)("div",Oe,[s[27]||(s[27]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"搜索笔录内容、案件编号等","onUpdate:modelValue":s[2]||(s[2]=e=>r.searchForm.keyword=e)},null,512),[[a.Jo,r.searchForm.keyword]])])]),(0,l.Lk)("div",Je,[s[30]||(s[30]=(0,l.Lk)("label",{class:"form-label fw-bold"},"状态筛选",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[3]||(s[3]=e=>r.searchForm.status=e)},s[29]||(s[29]=[(0,l.Lk)("option",{value:""},"全部状态",-1),(0,l.Lk)("option",{value:"draft"},"草稿",-1),(0,l.Lk)("option",{value:"completed"},"已完成",-1),(0,l.Lk)("option",{value:"verified"},"已审核",-1)]),512),[[a.u1,r.searchForm.status]])]),(0,l.Lk)("div",Qe,[s[31]||(s[31]=(0,l.Lk)("label",{class:"form-label fw-bold"},"日期范围",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=e=>r.searchForm.dateFrom=e)},null,512),[[a.Jo,r.searchForm.dateFrom]])]),(0,l.Lk)("div",He,[s[32]||(s[32]=(0,l.Lk)("label",{class:"form-label fw-bold"}," ",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=e=>r.searchForm.dateTo=e)},null,512),[[a.Jo,r.searchForm.dateTo]])]),(0,l.Lk)("div",Ke,[s[34]||(s[34]=(0,l.Lk)("label",{class:"form-label fw-bold"}," ",-1)),(0,l.Lk)("button",{class:"btn btn-primary w-100",onClick:s[6]||(s[6]=(...e)=>c.searchRecords&&c.searchRecords(...e))},s[33]||(s[33]=[(0,l.Lk)("i",{class:"bi bi-search me-2"},null,-1),(0,l.eW)("搜索 ")]))])])])])])]),(0,l.Lk)("div",Be,[(0,l.Lk)("div",Ge,[(0,l.Lk)("div",Ze,[(0,l.Lk)("div",Ye,[(0,l.Lk)("div",es,[(0,l.Lk)("h5",ss,[s[35]||(s[35]=(0,l.Lk)("i",{class:"bi bi-list-ul me-2 text-primary"},null,-1)),s[36]||(s[36]=(0,l.eW)("笔录列表 ")),(0,l.Lk)("span",ts,(0,o.v_)(c.filteredRecords.length),1)]),(0,l.Lk)("div",as,[(0,l.Lk)("button",{class:(0,o.C4)(["btn","table"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[7]||(s[7]=e=>r.viewMode="table")},s[37]||(s[37]=[(0,l.Lk)("i",{class:"bi bi-table"},null,-1)]),2),(0,l.Lk)("button",{class:(0,o.C4)(["btn","card"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[8]||(s[8]=e=>r.viewMode="card")},s[38]||(s[38]=[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"},null,-1)]),2)])])]),(0,l.Lk)("div",ls,["table"===r.viewMode?((0,l.uX)(),(0,l.CE)("div",os,[(0,l.Lk)("table",is,[(0,l.Lk)("thead",rs,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",cs,[(0,l.Lk)("input",{type:"checkbox",class:"form-check-input",onChange:s[9]||(s[9]=(...e)=>c.toggleSelectAll&&c.toggleSelectAll(...e))},null,32)]),s[39]||(s[39]=(0,l.Lk)("th",{width:"15%"},"案件编号",-1)),s[40]||(s[40]=(0,l.Lk)("th",{width:"20%"},"标题",-1)),s[41]||(s[41]=(0,l.Lk)("th",{width:"15%"},"记录人",-1)),s[42]||(s[42]=(0,l.Lk)("th",{width:"15%"},"创建时间",-1)),s[43]||(s[43]=(0,l.Lk)("th",{width:"10%"},"状态",-1)),s[44]||(s[44]=(0,l.Lk)("th",{width:"20%"},"操作",-1))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedRecords,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"record-row"},[(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check-input",value:e.id,"onUpdate:modelValue":s[10]||(s[10]=e=>r.selectedRecords=e)},null,8,ns),[[a.lH,r.selectedRecords]])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",ds,(0,o.v_)(e.caseNumber),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ms,[(0,l.eW)((0,o.v_)(e.title)+" ",1),(0,l.Lk)("small",us,(0,o.v_)(e.summary),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ks,[s[45]||(s[45]=(0,l.Lk)("i",{class:"bi bi-person-circle me-2 text-muted"},null,-1)),(0,l.eW)(" "+(0,o.v_)(e.recorder),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("small",bs,(0,o.v_)(c.formatDate(e.createdAt)),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ps,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:s=>c.viewRecord(e)},s[46]||(s[46]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)]),8,hs),(0,l.Lk)("button",{class:"btn btn-outline-success",onClick:s=>c.editRecord(e)},s[47]||(s[47]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)]),8,Ls),(0,l.Lk)("button",{class:"btn btn-outline-danger",onClick:s=>c.deleteRecord(e.id)},s[48]||(s[48]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,gs)])])]))),128)),0===c.filteredRecords.length?((0,l.uX)(),(0,l.CE)("tr",vs,s[49]||(s[49]=[(0,l.Lk)("td",{colspan:"7",class:"text-center py-5"},[(0,l.Lk)("div",{class:"empty-state"},[(0,l.Lk)("i",{class:"bi bi-inbox fa-3x mb-3 text-secondary opacity-50"}),(0,l.Lk)("h5",{class:"text-secondary"},"暂无笔录记录"),(0,l.Lk)("p",{class:"text-muted"},'点击"新建笔录"按钮创建第一条记录')])],-1)]))):(0,l.Q3)("",!0)])])])):((0,l.uX)(),(0,l.CE)("div",fs,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedRecords,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4"},[(0,l.Lk)("div",ys,[(0,l.Lk)("div",ws,[(0,l.Lk)("small",Cs,(0,o.v_)(e.caseNumber),1),(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("div",xs,[(0,l.Lk)("h6",Fs,(0,o.v_)(e.title),1),(0,l.Lk)("p",Ts,(0,o.v_)(e.summary),1),(0,l.Lk)("div",Ps,[(0,l.Lk)("small",_s,[s[50]||(s[50]=(0,l.Lk)("i",{class:"bi bi-person me-1"},null,-1)),(0,l.eW)((0,o.v_)(e.recorder),1)]),(0,l.Lk)("small",Ss,(0,o.v_)(c.formatDate(e.createdAt)),1)])]),(0,l.Lk)("div",Es,[(0,l.Lk)("div",Us,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:s=>c.viewRecord(e)},s[51]||(s[51]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("查看 ")]),8,Ms),(0,l.Lk)("button",{class:"btn btn-outline-success btn-sm",onClick:s=>c.editRecord(e)},s[52]||(s[52]=[(0,l.Lk)("i",{class:"bi bi-pencil me-1"},null,-1),(0,l.eW)("编辑 ")]),8,Ws),(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm",onClick:s=>c.deleteRecord(e.id)},s[53]||(s[53]=[(0,l.Lk)("i",{class:"bi bi-trash me-1"},null,-1),(0,l.eW)("删除 ")]),8,As)])])])]))),128)),0===c.filteredRecords.length?((0,l.uX)(),(0,l.CE)("div",Xs,s[54]||(s[54]=[(0,l.Fv)('<div class="text-center py-5" data-v-54cdfea8><div class="empty-state" data-v-54cdfea8><i class="bi bi-inbox fa-3x mb-3 text-secondary opacity-50" data-v-54cdfea8></i><h5 class="text-secondary" data-v-54cdfea8>暂无笔录记录</h5><p class="text-muted" data-v-54cdfea8>点击&quot;新建笔录&quot;按钮创建第一条记录</p></div></div>',1)]))):(0,l.Q3)("",!0)]))]),c.filteredRecords.length>0?((0,l.uX)(),(0,l.CE)("div",Rs,[(0,l.Lk)("div",Is,[(0,l.Lk)("div",Ds," 显示 "+(0,o.v_)((r.currentPage-1)*r.pageSize+1)+" - "+(0,o.v_)(Math.min(r.currentPage*r.pageSize,c.filteredRecords.length))+" 条，共 "+(0,o.v_)(c.filteredRecords.length)+" 条记录 ",1),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",Vs,[(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[11]||(s[11]=e=>r.currentPage=1),disabled:1===r.currentPage},s[55]||(s[55]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-left"},null,-1)]),8,Ns)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[12]||(s[12]=e=>r.currentPage--),disabled:1===r.currentPage},s[56]||(s[56]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1)]),8,zs)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.visiblePages,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,o.C4)(["page-item",{active:e===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s=>r.currentPage=e},(0,o.v_)(e),9,qs)],2))),128)),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[13]||(s[13]=e=>r.currentPage++),disabled:r.currentPage===c.totalPages},s[57]||(s[57]=[(0,l.Lk)("i",{class:"bi bi-chevron-right"},null,-1)]),8,js)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[14]||(s[14]=e=>r.currentPage=c.totalPages),disabled:r.currentPage===c.totalPages},s[58]||(s[58]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-right"},null,-1)]),8,$s)],2)])])])])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",{class:(0,o.C4)(["modal fade",{show:r.showCreateModal}]),style:(0,o.Tr)({display:r.showCreateModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",Os,[(0,l.Lk)("div",Js,[(0,l.Lk)("div",Qs,[s[59]||(s[59]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"}),(0,l.eW)("新建笔录 ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:s[15]||(s[15]=e=>r.showCreateModal=!1)})]),(0,l.Lk)("div",Hs,[(0,l.Lk)("form",{onSubmit:s[21]||(s[21]=(0,a.D$)((...e)=>c.createRecord&&c.createRecord(...e),["prevent"]))},[(0,l.Lk)("div",Ks,[(0,l.Lk)("div",Bs,[s[60]||(s[60]=(0,l.Lk)("label",{class:"form-label"},"案件编号",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[16]||(s[16]=e=>r.recordForm.caseNumber=e),required:""},null,512),[[a.Jo,r.recordForm.caseNumber]])]),(0,l.Lk)("div",Gs,[s[61]||(s[61]=(0,l.Lk)("label",{class:"form-label"},"笔录标题",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[17]||(s[17]=e=>r.recordForm.title=e),required:""},null,512),[[a.Jo,r.recordForm.title]])]),(0,l.Lk)("div",Zs,[s[62]||(s[62]=(0,l.Lk)("label",{class:"form-label"},"笔录内容",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",rows:"8","onUpdate:modelValue":s[18]||(s[18]=e=>r.recordForm.content=e),required:""},null,512),[[a.Jo,r.recordForm.content]])]),(0,l.Lk)("div",Ys,[s[63]||(s[63]=(0,l.Lk)("label",{class:"form-label"},"记录人",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[19]||(s[19]=e=>r.recordForm.recorder=e),required:""},null,512),[[a.Jo,r.recordForm.recorder]])]),(0,l.Lk)("div",et,[s[65]||(s[65]=(0,l.Lk)("label",{class:"form-label"},"状态",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[20]||(s[20]=e=>r.recordForm.status=e)},s[64]||(s[64]=[(0,l.Lk)("option",{value:"draft"},"草稿",-1),(0,l.Lk)("option",{value:"completed"},"已完成",-1)]),512),[[a.u1,r.recordForm.status]])])])],32)]),(0,l.Lk)("div",st,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:s[22]||(s[22]=e=>r.showCreateModal=!1)},"取消"),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[23]||(s[23]=(...e)=>c.createRecord&&c.createRecord(...e))},s[66]||(s[66]=[(0,l.Lk)("i",{class:"bi bi-check-circle me-2"},null,-1),(0,l.eW)("保存 ")]))])])])],6),r.showCreateModal||r.showBatchModal?((0,l.uX)(),(0,l.CE)("div",tt)):(0,l.Q3)("",!0)])}t(8111),t(2489),t(1701);var lt={name:"TaskList",data(){return{viewMode:"table",currentPage:1,pageSize:10,showCreateModal:!1,showBatchModal:!1,selectedRecords:[],searchForm:{keyword:"",status:"",dateFrom:"",dateTo:""},recordForm:{caseNumber:"",title:"",content:"",recorder:"",status:"draft"},records:[{id:1,caseNumber:"CASE-2024-001",title:"张某涉嫌盗窃案询问笔录",summary:"对犯罪嫌疑人张某进行询问，了解案件基本情况...",content:"详细的笔录内容...",recorder:"李警官",createdAt:"2024-01-15 14:30:00",status:"completed"},{id:2,caseNumber:"CASE-2024-002",title:"王某交通肇事案询问笔录",summary:"对当事人王某进行询问，了解交通事故经过...",content:"详细的笔录内容...",recorder:"张警官",createdAt:"2024-01-16 09:15:00",status:"verified"},{id:3,caseNumber:"CASE-2024-003",title:"刘某诈骗案询问笔录",summary:"对犯罪嫌疑人刘某进行询问...",content:"详细的笔录内容...",recorder:"王警官",createdAt:"2024-01-17 16:45:00",status:"draft"}]}},computed:{filteredRecords(){let e=this.records;if(this.searchForm.keyword){const s=this.searchForm.keyword.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(s)||e.caseNumber.toLowerCase().includes(s)||e.content.toLowerCase().includes(s))}return this.searchForm.status&&(e=e.filter(e=>e.status===this.searchForm.status)),this.searchForm.dateFrom&&(e=e.filter(e=>e.createdAt>=this.searchForm.dateFrom)),this.searchForm.dateTo&&(e=e.filter(e=>e.createdAt<=this.searchForm.dateTo)),e},totalPages(){return Math.ceil(this.filteredRecords.length/this.pageSize)},paginatedRecords(){const e=(this.currentPage-1)*this.pageSize,s=e+this.pageSize;return this.filteredRecords.slice(e,s)},visiblePages(){const e=[],s=this.totalPages,t=this.currentPage;if(s<=7)for(let a=1;a<=s;a++)e.push(a);else if(t<=4){for(let s=1;s<=5;s++)e.push(s);e.push("..."),e.push(s)}else if(t>=s-3){e.push(1),e.push("...");for(let t=s-4;t<=s;t++)e.push(t)}else{e.push(1),e.push("...");for(let s=t-1;s<=t+1;s++)e.push(s);e.push("..."),e.push(s)}return e}},methods:{searchRecords(){this.currentPage=1,console.log("搜索笔录:",this.searchForm)},createRecord(){if(!this.recordForm.caseNumber||!this.recordForm.title||!this.recordForm.content)return void alert("请填写完整信息");const e={id:Date.now(),...this.recordForm,summary:this.recordForm.content.substring(0,50)+"...",createdAt:(new Date).toISOString().slice(0,19).replace("T"," ")};this.records.unshift(e),this.showCreateModal=!1,this.recordForm={caseNumber:"",title:"",content:"",recorder:"",status:"draft"}},viewRecord(e){console.log("查看笔录:",e)},editRecord(e){console.log("编辑笔录:",e)},deleteRecord(e){if(confirm("确定要删除这条笔录吗？")){const s=this.records.findIndex(s=>s.id===e);s>-1&&this.records.splice(s,1)}},toggleSelectAll(e){e.target.checked?this.selectedRecords=this.paginatedRecords.map(e=>e.id):this.selectedRecords=[]},getStatusClass(e){const s={draft:"bg-warning",completed:"bg-success",verified:"bg-primary"};return s[e]||"bg-secondary"},getStatusText(e){const s={draft:"草稿",completed:"已完成",verified:"已审核"};return s[e]||"未知"},formatDate(e){return new Date(e).toLocaleString("zh-CN")}},mounted(){console.log("笔录管理页面已加载")}};const ot=(0,P.A)(lt,[["render",at],["__scopeId","data-v-54cdfea8"]]);var it=ot;const rt={class:"container-fluid mt-4"},ct={class:"row mb-4"},nt={class:"col-12"},dt={class:"d-flex justify-content-between align-items-center"},mt={class:"btn-group"},ut=["disabled"],kt={class:"row mb-4"},bt={class:"col-12"},pt={class:"card border-0 shadow-sm"},ht={class:"card-body"},Lt={class:"row g-3 mb-3"},gt={class:"col-md-8"},vt={class:"input-group input-group-lg"},ft={class:"col-md-2"},yt={class:"col-md-2"},wt={class:"advanced-search-panel"},Ct={class:"row g-3"},xt={class:"col-md-3"},Ft={class:"col-md-3"},Tt={class:"col-md-3"},Pt={class:"col-md-3"},_t={class:"col-md-3"},St={class:"col-md-3"},Et={class:"col-md-3"},Ut={class:"col-md-3"},Mt={class:"row mt-3"},Wt={class:"col-12"},At={class:"d-flex gap-2"},Xt={key:0,class:"row mb-4"},Rt={class:"col-md-6"},It={class:"card border-0 shadow-sm h-100"},Dt={class:"card-body"},Vt={key:0,class:"text-center text-muted py-3"},Nt={key:1},zt=["onClick"],qt={class:"fw-medium"},jt={class:"text-muted"},$t={class:"text-muted"},Ot={class:"col-md-6"},Jt={class:"card border-0 shadow-sm h-100"},Qt={class:"card-body"},Ht={class:"row g-2"},Kt=["onClick"],Bt={key:1,class:"row"},Gt={class:"col-12"},Zt={class:"card border-0 shadow-sm"},Yt={class:"card-header bg-white border-0"},ea={class:"d-flex justify-content-between align-items-center"},sa={class:"fw-bold mb-0"},ta={class:"badge bg-primary ms-2"},aa={class:"text-muted"},la={class:"btn-group btn-group-sm"},oa={class:"card-body p-0"},ia={key:0},ra={key:0,class:"text-center py-5"},ca={key:1},na=["onClick"],da={class:"d-flex justify-content-between align-items-start"},ma={class:"flex-grow-1"},ua={class:"d-flex align-items-center mb-2"},ka={class:"fw-bold mb-0 me-3"},ba={class:"text-muted mb-2"},pa={class:"me-3"},ha={class:"me-3"},La=["innerHTML"],ga={class:"mt-2"},va={class:"text-muted"},fa={class:"ms-3"},ya={class:"btn-group-vertical btn-group-sm"},wa=["onClick"],Ca=["onClick"],xa={key:1,class:"row g-3 p-3"},Fa={key:0,class:"col-12"},Ta=["onClick"],Pa={class:"card-header d-flex justify-content-between align-items-center"},_a={class:"text-muted"},Sa={class:"card-body"},Ea={class:"card-title"},Ua=["innerHTML"],Ma={class:"mt-2"},Wa={class:"text-muted d-block"},Aa={class:"text-muted d-block"},Xa={class:"text-muted d-block"},Ra={class:"card-footer bg-transparent"},Ia={class:"btn-group w-100"},Da=["onClick"],Va=["onClick"],Na={key:0,class:"card-footer bg-white"},za={class:"d-flex justify-content-between align-items-center"},qa={class:"text-muted"},ja={class:"pagination pagination-sm mb-0"},$a=["disabled"],Oa=["disabled"],Ja=["onClick"],Qa=["disabled"],Ha=["disabled"];function Ka(e,s,t,i,r,c){return(0,l.uX)(),(0,l.CE)("div",rt,[(0,l.Lk)("div",ct,[(0,l.Lk)("div",nt,[(0,l.Lk)("div",dt,[s[26]||(s[26]=(0,l.Lk)("div",null,[(0,l.Lk)("h2",{class:"display-6 fw-bold text-primary mb-0"},[(0,l.Lk)("i",{class:"bi bi-search me-2"}),(0,l.eW)("笔录搜索 ")]),(0,l.Lk)("p",{class:"text-muted mb-0"},"快速查找和检索笔录记录")],-1)),(0,l.Lk)("div",mt,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:s[0]||(s[0]=e=>r.showAdvancedSearch=!r.showAdvancedSearch)},s[24]||(s[24]=[(0,l.Lk)("i",{class:"bi bi-funnel me-2"},null,-1),(0,l.eW)("高级搜索 ")])),(0,l.Lk)("button",{class:"btn btn-success",onClick:s[1]||(s[1]=(...e)=>c.exportResults&&c.exportResults(...e)),disabled:0===r.searchResults.length},s[25]||(s[25]=[(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1),(0,l.eW)("导出结果 ")]),8,ut)])])])]),(0,l.Lk)("div",kt,[(0,l.Lk)("div",bt,[(0,l.Lk)("div",pt,[(0,l.Lk)("div",ht,[(0,l.Lk)("div",Lt,[(0,l.Lk)("div",gt,[s[29]||(s[29]=(0,l.Lk)("label",{class:"form-label fw-bold"},"搜索关键词",-1)),(0,l.Lk)("div",vt,[s[28]||(s[28]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"输入关键词搜索笔录内容、案件编号、当事人姓名等","onUpdate:modelValue":s[2]||(s[2]=e=>r.searchForm.keyword=e),onKeyup:s[3]||(s[3]=(0,a.jR)((...e)=>c.performSearch&&c.performSearch(...e),["enter"]))},null,544),[[a.Jo,r.searchForm.keyword]]),(0,l.Lk)("button",{class:"btn btn-primary",onClick:s[4]||(s[4]=(...e)=>c.performSearch&&c.performSearch(...e))},s[27]||(s[27]=[(0,l.Lk)("i",{class:"bi bi-search me-2"},null,-1),(0,l.eW)("搜索 ")]))])]),(0,l.Lk)("div",ft,[s[31]||(s[31]=(0,l.Lk)("label",{class:"form-label fw-bold"},"搜索类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-lg","onUpdate:modelValue":s[5]||(s[5]=e=>r.searchForm.searchType=e)},s[30]||(s[30]=[(0,l.Fv)('<option value="all" data-v-b69bb906>全部内容</option><option value="title" data-v-b69bb906>标题</option><option value="content" data-v-b69bb906>内容</option><option value="case" data-v-b69bb906>案件编号</option><option value="person" data-v-b69bb906>当事人</option>',5)]),512),[[a.u1,r.searchForm.searchType]])]),(0,l.Lk)("div",yt,[s[33]||(s[33]=(0,l.Lk)("label",{class:"form-label fw-bold"},"排序方式",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select form-select-lg","onUpdate:modelValue":s[6]||(s[6]=e=>r.searchForm.sortBy=e)},s[32]||(s[32]=[(0,l.Lk)("option",{value:"relevance"},"相关性",-1),(0,l.Lk)("option",{value:"date_desc"},"时间降序",-1),(0,l.Lk)("option",{value:"date_asc"},"时间升序",-1),(0,l.Lk)("option",{value:"case_number"},"案件编号",-1)]),512),[[a.u1,r.searchForm.sortBy]])])]),(0,l.bo)((0,l.Lk)("div",wt,[s[47]||(s[47]=(0,l.Lk)("hr",{class:"my-4"},null,-1)),s[48]||(s[48]=(0,l.Lk)("h6",{class:"fw-bold mb-3"},[(0,l.Lk)("i",{class:"bi bi-funnel-fill me-2 text-primary"}),(0,l.eW)("高级搜索选项 ")],-1)),(0,l.Lk)("div",Ct,[(0,l.Lk)("div",xt,[s[35]||(s[35]=(0,l.Lk)("label",{class:"form-label"},"案件类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[7]||(s[7]=e=>r.searchForm.caseType=e)},s[34]||(s[34]=[(0,l.Fv)('<option value="" data-v-b69bb906>全部类型</option><option value="criminal" data-v-b69bb906>刑事案件</option><option value="civil" data-v-b69bb906>民事案件</option><option value="administrative" data-v-b69bb906>行政案件</option><option value="traffic" data-v-b69bb906>交通案件</option>',5)]),512),[[a.u1,r.searchForm.caseType]])]),(0,l.Lk)("div",Ft,[s[36]||(s[36]=(0,l.Lk)("label",{class:"form-label"},"记录人",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[8]||(s[8]=e=>r.searchForm.recorder=e),placeholder:"记录人姓名"},null,512),[[a.Jo,r.searchForm.recorder]])]),(0,l.Lk)("div",Tt,[s[37]||(s[37]=(0,l.Lk)("label",{class:"form-label"},"开始日期",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[9]||(s[9]=e=>r.searchForm.dateFrom=e)},null,512),[[a.Jo,r.searchForm.dateFrom]])]),(0,l.Lk)("div",Pt,[s[38]||(s[38]=(0,l.Lk)("label",{class:"form-label"},"结束日期",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=e=>r.searchForm.dateTo=e)},null,512),[[a.Jo,r.searchForm.dateTo]])]),(0,l.Lk)("div",_t,[s[40]||(s[40]=(0,l.Lk)("label",{class:"form-label"},"状态",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[11]||(s[11]=e=>r.searchForm.status=e)},s[39]||(s[39]=[(0,l.Lk)("option",{value:""},"全部状态",-1),(0,l.Lk)("option",{value:"draft"},"草稿",-1),(0,l.Lk)("option",{value:"completed"},"已完成",-1),(0,l.Lk)("option",{value:"verified"},"已审核",-1)]),512),[[a.u1,r.searchForm.status]])]),(0,l.Lk)("div",St,[s[41]||(s[41]=(0,l.Lk)("label",{class:"form-label"},"地点",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=e=>r.searchForm.location=e),placeholder:"案发地点"},null,512),[[a.Jo,r.searchForm.location]])]),(0,l.Lk)("div",Et,[s[42]||(s[42]=(0,l.Lk)("label",{class:"form-label"},"最小字数",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":s[13]||(s[13]=e=>r.searchForm.minWords=e),placeholder:"最小字数"},null,512),[[a.Jo,r.searchForm.minWords]])]),(0,l.Lk)("div",Ut,[s[43]||(s[43]=(0,l.Lk)("label",{class:"form-label"},"最大字数",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control","onUpdate:modelValue":s[14]||(s[14]=e=>r.searchForm.maxWords=e),placeholder:"最大字数"},null,512),[[a.Jo,r.searchForm.maxWords]])])]),(0,l.Lk)("div",Mt,[(0,l.Lk)("div",Wt,[(0,l.Lk)("div",At,[(0,l.Lk)("button",{class:"btn btn-primary",onClick:s[15]||(s[15]=(...e)=>c.performSearch&&c.performSearch(...e))},s[44]||(s[44]=[(0,l.Lk)("i",{class:"bi bi-search me-2"},null,-1),(0,l.eW)("执行高级搜索 ")])),(0,l.Lk)("button",{class:"btn btn-outline-secondary",onClick:s[16]||(s[16]=(...e)=>c.resetSearchForm&&c.resetSearchForm(...e))},s[45]||(s[45]=[(0,l.Lk)("i",{class:"bi bi-arrow-clockwise me-2"},null,-1),(0,l.eW)("重置 ")])),(0,l.Lk)("button",{class:"btn btn-outline-info",onClick:s[17]||(s[17]=(...e)=>c.saveSearchTemplate&&c.saveSearchTemplate(...e))},s[46]||(s[46]=[(0,l.Lk)("i",{class:"bi bi-bookmark me-2"},null,-1),(0,l.eW)("保存搜索模板 ")]))])])])],512),[[a.aG,r.showAdvancedSearch]])])])])]),r.hasSearched?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",Xt,[(0,l.Lk)("div",Rt,[(0,l.Lk)("div",It,[s[50]||(s[50]=(0,l.Lk)("div",{class:"card-header bg-white border-0"},[(0,l.Lk)("h6",{class:"fw-bold mb-0"},[(0,l.Lk)("i",{class:"bi bi-clock-history me-2 text-primary"}),(0,l.eW)("搜索历史 ")])],-1)),(0,l.Lk)("div",Dt,[0===r.searchHistory.length?((0,l.uX)(),(0,l.CE)("div",Vt,s[49]||(s[49]=[(0,l.Lk)("i",{class:"bi bi-clock fa-2x mb-2 opacity-50"},null,-1),(0,l.Lk)("p",{class:"mb-0"},"暂无搜索历史",-1)]))):((0,l.uX)(),(0,l.CE)("div",Nt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.searchHistory.slice(0,5),(e,s)=>((0,l.uX)(),(0,l.CE)("div",{key:s,class:"search-history-item d-flex justify-content-between align-items-center py-2 px-3 mb-2 rounded",onClick:s=>c.loadSearchHistory(e)},[(0,l.Lk)("div",null,[(0,l.Lk)("div",qt,(0,o.v_)(e.keyword),1),(0,l.Lk)("small",jt,(0,o.v_)(e.timestamp),1)]),(0,l.Lk)("div",$t,[(0,l.Lk)("small",null,(0,o.v_)(e.resultCount)+" 条结果",1)])],8,zt))),128))]))])])]),(0,l.Lk)("div",Ot,[(0,l.Lk)("div",Jt,[s[51]||(s[51]=(0,l.Lk)("div",{class:"card-header bg-white border-0"},[(0,l.Lk)("h6",{class:"fw-bold mb-0"},[(0,l.Lk)("i",{class:"bi bi-lightning me-2 text-primary"}),(0,l.eW)("快捷搜索 ")])],-1)),(0,l.Lk)("div",Qt,[(0,l.Lk)("div",Ht,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.quickSearches,e=>((0,l.uX)(),(0,l.CE)("div",{class:"col-6",key:e.label},[(0,l.Lk)("button",{class:"btn btn-outline-primary w-100 text-start",onClick:s=>c.performQuickSearch(e)},[(0,l.Lk)("i",{class:(0,o.C4)(e.icon+" me-2")},null,2),(0,l.eW)(" "+(0,o.v_)(e.label),1)],8,Kt)]))),128))])])])])])),r.hasSearched?((0,l.uX)(),(0,l.CE)("div",Bt,[(0,l.Lk)("div",Gt,[(0,l.Lk)("div",Zt,[(0,l.Lk)("div",Yt,[(0,l.Lk)("div",ea,[(0,l.Lk)("div",null,[(0,l.Lk)("h6",sa,[s[52]||(s[52]=(0,l.Lk)("i",{class:"bi bi-list-ul me-2 text-primary"},null,-1)),s[53]||(s[53]=(0,l.eW)("搜索结果 ")),(0,l.Lk)("span",ta,(0,o.v_)(r.searchResults.length),1)]),(0,l.Lk)("small",aa,"搜索用时: "+(0,o.v_)(r.searchTime)+"ms",1)]),(0,l.Lk)("div",la,[(0,l.Lk)("button",{class:(0,o.C4)(["btn","list"===r.resultViewMode?"btn-primary":"btn-outline-primary"]),onClick:s[18]||(s[18]=e=>r.resultViewMode="list")},s[54]||(s[54]=[(0,l.Lk)("i",{class:"bi bi-list"},null,-1)]),2),(0,l.Lk)("button",{class:(0,o.C4)(["btn","card"===r.resultViewMode?"btn-primary":"btn-outline-primary"]),onClick:s[19]||(s[19]=e=>r.resultViewMode="card")},s[55]||(s[55]=[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"},null,-1)]),2)])])]),(0,l.Lk)("div",oa,["list"===r.resultViewMode?((0,l.uX)(),(0,l.CE)("div",ia,[0===r.searchResults.length?((0,l.uX)(),(0,l.CE)("div",ra,s[56]||(s[56]=[(0,l.Lk)("div",{class:"empty-state"},[(0,l.Lk)("i",{class:"bi bi-search fa-3x mb-3 text-secondary opacity-50"}),(0,l.Lk)("h5",{class:"text-secondary"},"未找到相关记录"),(0,l.Lk)("p",{class:"text-muted"},"请尝试调整搜索条件或使用不同的关键词")],-1)]))):((0,l.uX)(),(0,l.CE)("div",ca,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedResults,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"search-result-item border-bottom p-4",onClick:s=>c.viewRecord(e)},[(0,l.Lk)("div",da,[(0,l.Lk)("div",ma,[(0,l.Lk)("div",ua,[(0,l.Lk)("h6",ka,(0,o.v_)(e.title),1),(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("div",ba,[(0,l.Lk)("span",pa,[s[57]||(s[57]=(0,l.Lk)("i",{class:"bi bi-file-text me-1"},null,-1)),(0,l.eW)((0,o.v_)(e.caseNumber),1)]),(0,l.Lk)("span",ha,[s[58]||(s[58]=(0,l.Lk)("i",{class:"bi bi-person me-1"},null,-1)),(0,l.eW)((0,o.v_)(e.recorder),1)]),(0,l.Lk)("span",null,[s[59]||(s[59]=(0,l.Lk)("i",{class:"bi bi-calendar me-1"},null,-1)),(0,l.eW)((0,o.v_)(c.formatDate(e.createdAt)),1)])]),(0,l.Lk)("div",{class:"search-snippet",innerHTML:c.highlightKeywords(e.snippet)},null,8,La),(0,l.Lk)("div",ga,[(0,l.Lk)("small",va," 相关度: "+(0,o.v_)(e.relevance)+"% | 字数: "+(0,o.v_)(e.wordCount),1)])]),(0,l.Lk)("div",fa,[(0,l.Lk)("div",ya,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:(0,a.D$)(s=>c.viewRecord(e),["stop"])},s[60]||(s[60]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)]),8,wa),(0,l.Lk)("button",{class:"btn btn-outline-success",onClick:(0,a.D$)(s=>c.editRecord(e),["stop"])},s[61]||(s[61]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)]),8,Ca)])])])],8,na))),128))]))])):((0,l.uX)(),(0,l.CE)("div",xa,[0===r.searchResults.length?((0,l.uX)(),(0,l.CE)("div",Fa,s[62]||(s[62]=[(0,l.Fv)('<div class="text-center py-5" data-v-b69bb906><div class="empty-state" data-v-b69bb906><i class="bi bi-search fa-3x mb-3 text-secondary opacity-50" data-v-b69bb906></i><h5 class="text-secondary" data-v-b69bb906>未找到相关记录</h5><p class="text-muted" data-v-b69bb906>请尝试调整搜索条件或使用不同的关键词</p></div></div>',1)]))):((0,l.uX)(!0),(0,l.CE)(l.FK,{key:1},(0,l.pI)(c.paginatedResults,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4"},[(0,l.Lk)("div",{class:"card h-100 search-result-card",onClick:s=>c.viewRecord(e)},[(0,l.Lk)("div",Pa,[(0,l.Lk)("small",_a,(0,o.v_)(e.caseNumber),1),(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("div",Sa,[(0,l.Lk)("h6",Ea,(0,o.v_)(e.title),1),(0,l.Lk)("div",{class:"search-snippet small",innerHTML:c.highlightKeywords(e.snippet)},null,8,Ua),(0,l.Lk)("div",Ma,[(0,l.Lk)("small",Wa,[s[63]||(s[63]=(0,l.Lk)("i",{class:"bi bi-person me-1"},null,-1)),(0,l.eW)((0,o.v_)(e.recorder),1)]),(0,l.Lk)("small",Aa,[s[64]||(s[64]=(0,l.Lk)("i",{class:"bi bi-calendar me-1"},null,-1)),(0,l.eW)((0,o.v_)(c.formatDate(e.createdAt)),1)]),(0,l.Lk)("small",Xa," 相关度: "+(0,o.v_)(e.relevance)+"% ",1)])]),(0,l.Lk)("div",Ra,[(0,l.Lk)("div",Ia,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:(0,a.D$)(s=>c.viewRecord(e),["stop"])},s[65]||(s[65]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("查看 ")]),8,Da),(0,l.Lk)("button",{class:"btn btn-outline-success btn-sm",onClick:(0,a.D$)(s=>c.editRecord(e),["stop"])},s[66]||(s[66]=[(0,l.Lk)("i",{class:"bi bi-pencil me-1"},null,-1),(0,l.eW)("编辑 ")]),8,Va)])])],8,Ta)]))),128))]))]),r.searchResults.length>0?((0,l.uX)(),(0,l.CE)("div",Na,[(0,l.Lk)("div",za,[(0,l.Lk)("div",qa," 显示 "+(0,o.v_)((r.currentPage-1)*r.pageSize+1)+" - "+(0,o.v_)(Math.min(r.currentPage*r.pageSize,r.searchResults.length))+" 条，共 "+(0,o.v_)(r.searchResults.length)+" 条结果 ",1),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",ja,[(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[20]||(s[20]=e=>r.currentPage=1),disabled:1===r.currentPage},s[67]||(s[67]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-left"},null,-1)]),8,$a)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[21]||(s[21]=e=>r.currentPage--),disabled:1===r.currentPage},s[68]||(s[68]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1)]),8,Oa)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.visiblePages,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,o.C4)(["page-item",{active:e===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s=>r.currentPage=e},(0,o.v_)(e),9,Ja)],2))),128)),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[22]||(s[22]=e=>r.currentPage++),disabled:r.currentPage===c.totalPages},s[69]||(s[69]=[(0,l.Lk)("i",{class:"bi bi-chevron-right"},null,-1)]),8,Qa)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[23]||(s[23]=e=>r.currentPage=c.totalPages),disabled:r.currentPage===c.totalPages},s[70]||(s[70]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-right"},null,-1)]),8,Ha)],2)])])])])):(0,l.Q3)("",!0)])])])):(0,l.Q3)("",!0)])}var Ba={name:"SearchPage",data(){return{showAdvancedSearch:!1,hasSearched:!1,resultViewMode:"list",currentPage:1,pageSize:10,searchTime:0,searchForm:{keyword:"",searchType:"all",sortBy:"relevance",caseType:"",recorder:"",dateFrom:"",dateTo:"",status:"",location:"",minWords:"",maxWords:""},searchResults:[],searchHistory:[{keyword:"张某盗窃",timestamp:"2024-01-17 10:30",resultCount:3},{keyword:"交通肇事",timestamp:"2024-01-16 15:20",resultCount:5},{keyword:"诈骗案",timestamp:"2024-01-15 09:15",resultCount:2}],quickSearches:[{label:"今日笔录",icon:"bi bi-calendar-day",query:{dateFrom:(new Date).toISOString().split("T")[0]}},{label:"草稿状态",icon:"bi bi-file-earmark-text",query:{status:"draft"}},{label:"刑事案件",icon:"bi bi-shield-exclamation",query:{caseType:"criminal"}},{label:"已审核",icon:"bi bi-check-circle",query:{status:"verified"}},{label:"本周记录",icon:"bi bi-calendar-week",query:{dateFrom:this.getWeekStart()}},{label:"长笔录",icon:"bi bi-file-text",query:{minWords:1e3}}],mockResults:[{id:1,caseNumber:"CASE-2024-001",title:"张某涉嫌盗窃案询问笔录",snippet:"犯罪嫌疑人张某，男，25岁，无业。于2024年1月10日在某商场实施盗窃行为，被现场抓获。经询问，张某对其盗窃行为供认不讳...",recorder:"李警官",createdAt:"2024-01-15 14:30:00",status:"completed",relevance:95,wordCount:1250},{id:2,caseNumber:"CASE-2024-002",title:"王某交通肇事案询问笔录",snippet:"当事人王某，男，35岁，司机。于2024年1月12日驾驶车辆在某路段发生交通事故，造成一人轻伤。经询问了解事故经过...",recorder:"张警官",createdAt:"2024-01-16 09:15:00",status:"verified",relevance:88,wordCount:980},{id:3,caseNumber:"CASE-2024-003",title:"刘某诈骗案询问笔录",snippet:"犯罪嫌疑人刘某，女，28岁，无固定职业。涉嫌通过网络平台实施诈骗，涉案金额约5万元。经询问，刘某承认部分犯罪事实...",recorder:"王警官",createdAt:"2024-01-17 16:45:00",status:"draft",relevance:92,wordCount:1580}]}},computed:{totalPages(){return Math.ceil(this.searchResults.length/this.pageSize)},paginatedResults(){const e=(this.currentPage-1)*this.pageSize,s=e+this.pageSize;return this.searchResults.slice(e,s)},visiblePages(){const e=[],s=this.totalPages,t=this.currentPage;if(s<=7)for(let a=1;a<=s;a++)e.push(a);else if(t<=4){for(let s=1;s<=5;s++)e.push(s);e.push("..."),e.push(s)}else if(t>=s-3){e.push(1),e.push("...");for(let t=s-4;t<=s;t++)e.push(t)}else{e.push(1),e.push("...");for(let s=t-1;s<=t+1;s++)e.push(s);e.push("..."),e.push(s)}return e}},methods:{performSearch(){if(!this.searchForm.keyword.trim()&&!this.hasAdvancedFilters())return void alert("请输入搜索关键词或设置搜索条件");const e=Date.now();setTimeout(()=>{this.searchTime=Date.now()-e,this.searchResults=this.mockResults.filter(e=>this.matchesSearchCriteria(e)),this.sortResults(),this.hasSearched=!0,this.currentPage=1,this.searchForm.keyword.trim()&&this.addToSearchHistory()},200)},matchesSearchCriteria(e){const s=this.searchForm.keyword.toLowerCase();if(s){const t="all"===this.searchForm.searchType?`${e.title} ${e.snippet} ${e.caseNumber}`.toLowerCase():this.getSearchField(e,this.searchForm.searchType).toLowerCase();if(!t.includes(s))return!1}return(!this.searchForm.status||e.status===this.searchForm.status)&&(!(this.searchForm.recorder&&!e.recorder.includes(this.searchForm.recorder))&&(!(this.searchForm.dateFrom&&e.createdAt<this.searchForm.dateFrom)&&(!(this.searchForm.dateTo&&e.createdAt>this.searchForm.dateTo)&&(!(this.searchForm.minWords&&e.wordCount<parseInt(this.searchForm.minWords))&&!(this.searchForm.maxWords&&e.wordCount>parseInt(this.searchForm.maxWords))))))},getSearchField(e,s){switch(s){case"title":return e.title;case"content":return e.snippet;case"case":return e.caseNumber;case"person":return e.recorder;default:return`${e.title} ${e.snippet} ${e.caseNumber}`}},sortResults(){switch(this.searchForm.sortBy){case"relevance":this.searchResults.sort((e,s)=>s.relevance-e.relevance);break;case"date_desc":this.searchResults.sort((e,s)=>new Date(s.createdAt)-new Date(e.createdAt));break;case"date_asc":this.searchResults.sort((e,s)=>new Date(e.createdAt)-new Date(s.createdAt));break;case"case_number":this.searchResults.sort((e,s)=>e.caseNumber.localeCompare(s.caseNumber));break}},hasAdvancedFilters(){return this.searchForm.caseType||this.searchForm.recorder||this.searchForm.dateFrom||this.searchForm.dateTo||this.searchForm.status||this.searchForm.location||this.searchForm.minWords||this.searchForm.maxWords},addToSearchHistory(){const e={keyword:this.searchForm.keyword,timestamp:(new Date).toLocaleString("zh-CN"),resultCount:this.searchResults.length};this.searchHistory=this.searchHistory.filter(s=>s.keyword!==e.keyword),this.searchHistory.unshift(e),this.searchHistory=this.searchHistory.slice(0,10)},loadSearchHistory(e){this.searchForm.keyword=e.keyword,this.performSearch()},performQuickSearch(e){this.resetSearchForm(),Object.assign(this.searchForm,e.query),this.performSearch()},resetSearchForm(){this.searchForm={keyword:"",searchType:"all",sortBy:"relevance",caseType:"",recorder:"",dateFrom:"",dateTo:"",status:"",location:"",minWords:"",maxWords:""}},saveSearchTemplate(){console.log("保存搜索模板:",this.searchForm),alert("搜索模板已保存")},exportResults(){console.log("导出搜索结果:",this.searchResults),alert("搜索结果导出功能开发中")},highlightKeywords(e){if(!this.searchForm.keyword.trim())return e;const s=this.searchForm.keyword.trim(),t=new RegExp(`(${s})`,"gi");return e.replace(t,'<mark class="bg-warning">$1</mark>')},viewRecord(e){console.log("查看笔录:",e)},editRecord(e){console.log("编辑笔录:",e)},getStatusClass(e){const s={draft:"bg-warning",completed:"bg-success",verified:"bg-primary"};return s[e]||"bg-secondary"},getStatusText(e){const s={draft:"草稿",completed:"已完成",verified:"已审核"};return s[e]||"未知"},formatDate(e){return new Date(e).toLocaleString("zh-CN")},getWeekStart(){const e=new Date,s=e.getDay(),t=e.getDate()-s+(0===s?-6:1);return new Date(e.setDate(t)).toISOString().split("T")[0]}},mounted(){console.log("搜索页面已加载")}};const Ga=(0,P.A)(Ba,[["render",Ka],["__scopeId","data-v-b69bb906"]]);var Za=Ga;const Ya={class:"container-fluid mt-4"},el={class:"row mb-4"},sl={class:"col-12"},tl={class:"d-flex justify-content-between align-items-center"},al={class:"btn-group"},ll={class:"row mb-4"},ol={class:"col-md-3"},il={class:"card border-0 shadow-sm stats-card"},rl={class:"card-body text-center"},cl={class:"fw-bold mb-1"},nl={class:"col-md-3"},dl={class:"card border-0 shadow-sm stats-card"},ml={class:"card-body text-center"},ul={class:"fw-bold mb-1"},kl={class:"col-md-3"},bl={class:"card border-0 shadow-sm stats-card"},pl={class:"card-body text-center"},hl={class:"fw-bold mb-1"},Ll={class:"col-md-3"},gl={class:"card border-0 shadow-sm stats-card"},vl={class:"card-body text-center"},fl={class:"fw-bold mb-1"},yl={class:"row mb-4"},wl={class:"col-12"},Cl={class:"card border-0 shadow-sm"},xl={class:"card-body"},Fl={class:"row g-3"},Tl={class:"col-md-3"},Pl={class:"input-group"},_l={class:"col-md-2"},Sl={class:"col-md-2"},El={class:"col-md-2"},Ul={class:"col-md-2"},Ml={class:"col-md-1"},Wl={class:"row"},Al={class:"col-12"},Xl={class:"card border-0 shadow-sm"},Rl={class:"card-header bg-white border-0 py-3"},Il={class:"d-flex justify-content-between align-items-center"},Dl={class:"fw-bold mb-0"},Vl={class:"badge bg-primary ms-2"},Nl={class:"btn-group btn-group-sm"},zl={class:"card-body p-0"},ql={key:0,class:"table-responsive"},jl={class:"table table-hover mb-0"},$l={class:"bg-light"},Ol={width:"5%"},Jl=["value"],Ql={class:"fw-bold text-primary"},Hl={class:"fw-medium"},Kl={class:"text-muted"},Bl={class:"d-flex align-items-center"},Gl={class:"text-muted"},Zl={class:"badge bg-info"},Yl={class:"btn-group btn-group-sm"},eo=["onClick"],so=["onClick"],to=["onClick"],ao=["onClick"],lo={key:0},oo={key:1,class:"row g-3 p-3"},io={class:"card h-100 case-card"},ro={class:"card-header d-flex justify-content-between align-items-center"},co={class:"text-muted"},no={class:"card-body"},mo={class:"card-title"},uo={class:"card-text text-muted small"},ko={class:"row text-center mb-3"},bo={class:"col-6"},po={class:"border-end"},ho={class:"fw-bold text-primary"},Lo={class:"col-6"},go={class:"fw-bold text-success"},vo={class:"d-flex justify-content-between align-items-center"},fo={class:"text-muted"},yo={class:"text-muted"},wo={class:"card-footer bg-transparent"},Co={class:"btn-group w-100"},xo=["onClick"],Fo=["onClick"],To=["onClick"],Po={key:0,class:"col-12"},_o={key:0,class:"card-footer bg-white"},So={class:"d-flex justify-content-between align-items-center"},Eo={class:"text-muted"},Uo={class:"pagination pagination-sm mb-0"},Mo=["disabled"],Wo=["disabled"],Ao=["onClick"],Xo=["disabled"],Ro=["disabled"],Io={class:"modal-dialog modal-lg"},Do={class:"modal-content"},Vo={class:"modal-header"},No={class:"modal-body"},zo={class:"row g-3"},qo={class:"col-md-6"},jo={class:"col-md-6"},$o={class:"col-12"},Oo={class:"col-12"},Jo={class:"col-md-6"},Qo={class:"col-md-6"},Ho={class:"col-md-6"},Ko={class:"col-md-6"},Bo={class:"modal-footer"},Go={key:0,class:"modal-backdrop fade show"};function Zo(e,s,t,i,r,c){return(0,l.uX)(),(0,l.CE)("div",Ya,[(0,l.Lk)("div",el,[(0,l.Lk)("div",sl,[(0,l.Lk)("div",tl,[s[32]||(s[32]=(0,l.Lk)("div",null,[(0,l.Lk)("h2",{class:"display-6 fw-bold text-primary mb-0"},[(0,l.Lk)("i",{class:"bi bi-folder2-open me-2"}),(0,l.eW)("案件管理 ")]),(0,l.Lk)("p",{class:"text-muted mb-0"},"管理和跟踪所有案件信息")],-1)),(0,l.Lk)("div",al,[(0,l.Lk)("button",{class:"btn btn-primary btn-lg",onClick:s[0]||(s[0]=e=>r.showCreateModal=!0)},s[29]||(s[29]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)("新建案件 ")])),(0,l.Lk)("button",{class:"btn btn-success btn-lg",onClick:s[1]||(s[1]=e=>r.showImportModal=!0)},s[30]||(s[30]=[(0,l.Lk)("i",{class:"bi bi-upload me-2"},null,-1),(0,l.eW)("批量导入 ")])),(0,l.Lk)("button",{class:"btn btn-info btn-lg",onClick:s[2]||(s[2]=(...e)=>c.exportCases&&c.exportCases(...e))},s[31]||(s[31]=[(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1),(0,l.eW)("导出案件 ")]))])])])]),(0,l.Lk)("div",ll,[(0,l.Lk)("div",ol,[(0,l.Lk)("div",il,[(0,l.Lk)("div",rl,[s[33]||(s[33]=(0,l.Lk)("div",{class:"stats-icon bg-primary bg-opacity-10 text-primary mb-3"},[(0,l.Lk)("i",{class:"bi bi-folder2"})],-1)),(0,l.Lk)("h3",cl,(0,o.v_)(r.stats.totalCases),1),s[34]||(s[34]=(0,l.Lk)("p",{class:"text-muted mb-0"},"总案件数",-1))])])]),(0,l.Lk)("div",nl,[(0,l.Lk)("div",dl,[(0,l.Lk)("div",ml,[s[35]||(s[35]=(0,l.Lk)("div",{class:"stats-icon bg-warning bg-opacity-10 text-warning mb-3"},[(0,l.Lk)("i",{class:"bi bi-clock-history"})],-1)),(0,l.Lk)("h3",ul,(0,o.v_)(r.stats.pendingCases),1),s[36]||(s[36]=(0,l.Lk)("p",{class:"text-muted mb-0"},"待处理案件",-1))])])]),(0,l.Lk)("div",kl,[(0,l.Lk)("div",bl,[(0,l.Lk)("div",pl,[s[37]||(s[37]=(0,l.Lk)("div",{class:"stats-icon bg-success bg-opacity-10 text-success mb-3"},[(0,l.Lk)("i",{class:"bi bi-check-circle"})],-1)),(0,l.Lk)("h3",hl,(0,o.v_)(r.stats.completedCases),1),s[38]||(s[38]=(0,l.Lk)("p",{class:"text-muted mb-0"},"已完成案件",-1))])])]),(0,l.Lk)("div",Ll,[(0,l.Lk)("div",gl,[(0,l.Lk)("div",vl,[s[39]||(s[39]=(0,l.Lk)("div",{class:"stats-icon bg-info bg-opacity-10 text-info mb-3"},[(0,l.Lk)("i",{class:"bi bi-calendar-day"})],-1)),(0,l.Lk)("h3",fl,(0,o.v_)(r.stats.todayCases),1),s[40]||(s[40]=(0,l.Lk)("p",{class:"text-muted mb-0"},"今日新增",-1))])])])]),(0,l.Lk)("div",yl,[(0,l.Lk)("div",wl,[(0,l.Lk)("div",Cl,[(0,l.Lk)("div",xl,[(0,l.Lk)("div",Fl,[(0,l.Lk)("div",Tl,[s[42]||(s[42]=(0,l.Lk)("label",{class:"form-label fw-bold"},"搜索关键词",-1)),(0,l.Lk)("div",Pl,[s[41]||(s[41]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"案件编号、案件名称等","onUpdate:modelValue":s[3]||(s[3]=e=>r.searchForm.keyword=e)},null,512),[[a.Jo,r.searchForm.keyword]])])]),(0,l.Lk)("div",_l,[s[44]||(s[44]=(0,l.Lk)("label",{class:"form-label fw-bold"},"案件类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=e=>r.searchForm.caseType=e)},s[43]||(s[43]=[(0,l.Fv)('<option value="" data-v-5ffff582>全部类型</option><option value="criminal" data-v-5ffff582>刑事案件</option><option value="civil" data-v-5ffff582>民事案件</option><option value="administrative" data-v-5ffff582>行政案件</option><option value="traffic" data-v-5ffff582>交通案件</option>',5)]),512),[[a.u1,r.searchForm.caseType]])]),(0,l.Lk)("div",Sl,[s[46]||(s[46]=(0,l.Lk)("label",{class:"form-label fw-bold"},"案件状态",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=e=>r.searchForm.status=e)},s[45]||(s[45]=[(0,l.Fv)('<option value="" data-v-5ffff582>全部状态</option><option value="pending" data-v-5ffff582>待处理</option><option value="investigating" data-v-5ffff582>调查中</option><option value="completed" data-v-5ffff582>已完成</option><option value="closed" data-v-5ffff582>已结案</option>',5)]),512),[[a.u1,r.searchForm.status]])]),(0,l.Lk)("div",El,[s[48]||(s[48]=(0,l.Lk)("label",{class:"form-label fw-bold"},"负责人",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=e=>r.searchForm.officer=e)},s[47]||(s[47]=[(0,l.Lk)("option",{value:""},"全部负责人",-1),(0,l.Lk)("option",{value:"李警官"},"李警官",-1),(0,l.Lk)("option",{value:"张警官"},"张警官",-1),(0,l.Lk)("option",{value:"王警官"},"王警官",-1)]),512),[[a.u1,r.searchForm.officer]])]),(0,l.Lk)("div",Ul,[s[49]||(s[49]=(0,l.Lk)("label",{class:"form-label fw-bold"},"创建日期",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=e=>r.searchForm.dateFrom=e)},null,512),[[a.Jo,r.searchForm.dateFrom]])]),(0,l.Lk)("div",Ml,[s[51]||(s[51]=(0,l.Lk)("label",{class:"form-label fw-bold"}," ",-1)),(0,l.Lk)("button",{class:"btn btn-primary w-100",onClick:s[8]||(s[8]=(...e)=>c.searchCases&&c.searchCases(...e))},s[50]||(s[50]=[(0,l.Lk)("i",{class:"bi bi-search"},null,-1)]))])])])])])]),(0,l.Lk)("div",Wl,[(0,l.Lk)("div",Al,[(0,l.Lk)("div",Xl,[(0,l.Lk)("div",Rl,[(0,l.Lk)("div",Il,[(0,l.Lk)("h5",Dl,[s[52]||(s[52]=(0,l.Lk)("i",{class:"bi bi-list-ul me-2 text-primary"},null,-1)),s[53]||(s[53]=(0,l.eW)("案件列表 ")),(0,l.Lk)("span",Vl,(0,o.v_)(c.filteredCases.length),1)]),(0,l.Lk)("div",Nl,[(0,l.Lk)("button",{class:(0,o.C4)(["btn","table"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[9]||(s[9]=e=>r.viewMode="table")},s[54]||(s[54]=[(0,l.Lk)("i",{class:"bi bi-table"},null,-1)]),2),(0,l.Lk)("button",{class:(0,o.C4)(["btn","card"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[10]||(s[10]=e=>r.viewMode="card")},s[55]||(s[55]=[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"},null,-1)]),2)])])]),(0,l.Lk)("div",zl,["table"===r.viewMode?((0,l.uX)(),(0,l.CE)("div",ql,[(0,l.Lk)("table",jl,[(0,l.Lk)("thead",$l,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",Ol,[(0,l.Lk)("input",{type:"checkbox",class:"form-check-input",onChange:s[11]||(s[11]=(...e)=>c.toggleSelectAll&&c.toggleSelectAll(...e))},null,32)]),s[56]||(s[56]=(0,l.Lk)("th",{width:"15%"},"案件编号",-1)),s[57]||(s[57]=(0,l.Lk)("th",{width:"20%"},"案件名称",-1)),s[58]||(s[58]=(0,l.Lk)("th",{width:"10%"},"案件类型",-1)),s[59]||(s[59]=(0,l.Lk)("th",{width:"10%"},"状态",-1)),s[60]||(s[60]=(0,l.Lk)("th",{width:"10%"},"负责人",-1)),s[61]||(s[61]=(0,l.Lk)("th",{width:"10%"},"创建时间",-1)),s[62]||(s[62]=(0,l.Lk)("th",{width:"10%"},"笔录数量",-1)),s[63]||(s[63]=(0,l.Lk)("th",{width:"10%"},"操作",-1))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedCases,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"case-row"},[(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check-input",value:e.id,"onUpdate:modelValue":s[12]||(s[12]=e=>r.selectedCases=e)},null,8,Jl),[[a.lH,r.selectedCases]])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",Ql,(0,o.v_)(e.caseNumber),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",null,[(0,l.Lk)("div",Hl,(0,o.v_)(e.title),1),(0,l.Lk)("small",Kl,(0,o.v_)(e.description),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getCaseTypeClass(e.caseType)])},(0,o.v_)(c.getCaseTypeText(e.caseType)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Bl,[s[64]||(s[64]=(0,l.Lk)("i",{class:"bi bi-person-circle me-2 text-muted"},null,-1)),(0,l.eW)(" "+(0,o.v_)(e.officer),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("small",Gl,(0,o.v_)(c.formatDate(e.createdAt)),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",Zl,(0,o.v_)(e.recordCount),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Yl,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:s=>c.viewCase(e),title:"查看详情"},s[65]||(s[65]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)]),8,eo),(0,l.Lk)("button",{class:"btn btn-outline-success",onClick:s=>c.editCase(e),title:"编辑"},s[66]||(s[66]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)]),8,so),(0,l.Lk)("button",{class:"btn btn-outline-info",onClick:s=>c.viewRecords(e),title:"查看笔录"},s[67]||(s[67]=[(0,l.Lk)("i",{class:"bi bi-file-text"},null,-1)]),8,to),(0,l.Lk)("button",{class:"btn btn-outline-danger",onClick:s=>c.deleteCase(e.id),title:"删除"},s[68]||(s[68]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,ao)])])]))),128)),0===c.filteredCases.length?((0,l.uX)(),(0,l.CE)("tr",lo,s[69]||(s[69]=[(0,l.Lk)("td",{colspan:"9",class:"text-center py-5"},[(0,l.Lk)("div",{class:"empty-state"},[(0,l.Lk)("i",{class:"bi bi-folder2 fa-3x mb-3 text-secondary opacity-50"}),(0,l.Lk)("h5",{class:"text-secondary"},"暂无案件记录"),(0,l.Lk)("p",{class:"text-muted"},'点击"新建案件"按钮创建第一个案件')])],-1)]))):(0,l.Q3)("",!0)])])])):((0,l.uX)(),(0,l.CE)("div",oo,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedCases,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4"},[(0,l.Lk)("div",io,[(0,l.Lk)("div",ro,[(0,l.Lk)("small",co,(0,o.v_)(e.caseNumber),1),(0,l.Lk)("div",null,[(0,l.Lk)("span",{class:(0,o.C4)(["badge me-1",c.getCaseTypeClass(e.caseType)])},(0,o.v_)(c.getCaseTypeText(e.caseType)),3),(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)])]),(0,l.Lk)("div",no,[(0,l.Lk)("h6",mo,(0,o.v_)(e.title),1),(0,l.Lk)("p",uo,(0,o.v_)(e.description),1),(0,l.Lk)("div",ko,[(0,l.Lk)("div",bo,[(0,l.Lk)("div",po,[(0,l.Lk)("div",ho,(0,o.v_)(e.recordCount),1),s[70]||(s[70]=(0,l.Lk)("small",{class:"text-muted"},"笔录数量",-1))])]),(0,l.Lk)("div",Lo,[(0,l.Lk)("div",go,(0,o.v_)(e.daysOpen),1),s[71]||(s[71]=(0,l.Lk)("small",{class:"text-muted"},"开案天数",-1))])]),(0,l.Lk)("div",vo,[(0,l.Lk)("small",fo,[s[72]||(s[72]=(0,l.Lk)("i",{class:"bi bi-person me-1"},null,-1)),(0,l.eW)((0,o.v_)(e.officer),1)]),(0,l.Lk)("small",yo,(0,o.v_)(c.formatDate(e.createdAt)),1)])]),(0,l.Lk)("div",wo,[(0,l.Lk)("div",Co,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:s=>c.viewCase(e)},s[73]||(s[73]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("详情 ")]),8,xo),(0,l.Lk)("button",{class:"btn btn-outline-success btn-sm",onClick:s=>c.editCase(e)},s[74]||(s[74]=[(0,l.Lk)("i",{class:"bi bi-pencil me-1"},null,-1),(0,l.eW)("编辑 ")]),8,Fo),(0,l.Lk)("button",{class:"btn btn-outline-info btn-sm",onClick:s=>c.viewRecords(e)},s[75]||(s[75]=[(0,l.Lk)("i",{class:"bi bi-file-text me-1"},null,-1),(0,l.eW)("笔录 ")]),8,To)])])])]))),128)),0===c.filteredCases.length?((0,l.uX)(),(0,l.CE)("div",Po,s[76]||(s[76]=[(0,l.Fv)('<div class="text-center py-5" data-v-5ffff582><div class="empty-state" data-v-5ffff582><i class="bi bi-folder2 fa-3x mb-3 text-secondary opacity-50" data-v-5ffff582></i><h5 class="text-secondary" data-v-5ffff582>暂无案件记录</h5><p class="text-muted" data-v-5ffff582>点击&quot;新建案件&quot;按钮创建第一个案件</p></div></div>',1)]))):(0,l.Q3)("",!0)]))]),c.filteredCases.length>0?((0,l.uX)(),(0,l.CE)("div",_o,[(0,l.Lk)("div",So,[(0,l.Lk)("div",Eo," 显示 "+(0,o.v_)((r.currentPage-1)*r.pageSize+1)+" - "+(0,o.v_)(Math.min(r.currentPage*r.pageSize,c.filteredCases.length))+" 条，共 "+(0,o.v_)(c.filteredCases.length)+" 条记录 ",1),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",Uo,[(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[13]||(s[13]=e=>r.currentPage=1),disabled:1===r.currentPage},s[77]||(s[77]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-left"},null,-1)]),8,Mo)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[14]||(s[14]=e=>r.currentPage--),disabled:1===r.currentPage},s[78]||(s[78]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1)]),8,Wo)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.visiblePages,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,o.C4)(["page-item",{active:e===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s=>r.currentPage=e},(0,o.v_)(e),9,Ao)],2))),128)),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[15]||(s[15]=e=>r.currentPage++),disabled:r.currentPage===c.totalPages},s[79]||(s[79]=[(0,l.Lk)("i",{class:"bi bi-chevron-right"},null,-1)]),8,Xo)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[16]||(s[16]=e=>r.currentPage=c.totalPages),disabled:r.currentPage===c.totalPages},s[80]||(s[80]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-right"},null,-1)]),8,Ro)],2)])])])])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",{class:(0,o.C4)(["modal fade",{show:r.showCreateModal}]),style:(0,o.Tr)({display:r.showCreateModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",Io,[(0,l.Lk)("div",Do,[(0,l.Lk)("div",Vo,[s[81]||(s[81]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"}),(0,l.eW)("新建案件 ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:s[17]||(s[17]=e=>r.showCreateModal=!1)})]),(0,l.Lk)("div",No,[(0,l.Lk)("form",{onSubmit:s[26]||(s[26]=(0,a.D$)((...e)=>c.createCase&&c.createCase(...e),["prevent"]))},[(0,l.Lk)("div",zo,[(0,l.Lk)("div",qo,[s[82]||(s[82]=(0,l.Lk)("label",{class:"form-label"},"案件编号",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[18]||(s[18]=e=>r.caseForm.caseNumber=e),required:""},null,512),[[a.Jo,r.caseForm.caseNumber]])]),(0,l.Lk)("div",jo,[s[84]||(s[84]=(0,l.Lk)("label",{class:"form-label"},"案件类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[19]||(s[19]=e=>r.caseForm.caseType=e),required:""},s[83]||(s[83]=[(0,l.Fv)('<option value="" data-v-5ffff582>请选择案件类型</option><option value="criminal" data-v-5ffff582>刑事案件</option><option value="civil" data-v-5ffff582>民事案件</option><option value="administrative" data-v-5ffff582>行政案件</option><option value="traffic" data-v-5ffff582>交通案件</option>',5)]),512),[[a.u1,r.caseForm.caseType]])]),(0,l.Lk)("div",$o,[s[85]||(s[85]=(0,l.Lk)("label",{class:"form-label"},"案件名称",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[20]||(s[20]=e=>r.caseForm.title=e),required:""},null,512),[[a.Jo,r.caseForm.title]])]),(0,l.Lk)("div",Oo,[s[86]||(s[86]=(0,l.Lk)("label",{class:"form-label"},"案件描述",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",rows:"4","onUpdate:modelValue":s[21]||(s[21]=e=>r.caseForm.description=e),required:""},null,512),[[a.Jo,r.caseForm.description]])]),(0,l.Lk)("div",Jo,[s[88]||(s[88]=(0,l.Lk)("label",{class:"form-label"},"负责人",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[22]||(s[22]=e=>r.caseForm.officer=e),required:""},s[87]||(s[87]=[(0,l.Lk)("option",{value:""},"请选择负责人",-1),(0,l.Lk)("option",{value:"李警官"},"李警官",-1),(0,l.Lk)("option",{value:"张警官"},"张警官",-1),(0,l.Lk)("option",{value:"王警官"},"王警官",-1)]),512),[[a.u1,r.caseForm.officer]])]),(0,l.Lk)("div",Qo,[s[90]||(s[90]=(0,l.Lk)("label",{class:"form-label"},"案件状态",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[23]||(s[23]=e=>r.caseForm.status=e)},s[89]||(s[89]=[(0,l.Lk)("option",{value:"pending"},"待处理",-1),(0,l.Lk)("option",{value:"investigating"},"调查中",-1),(0,l.Lk)("option",{value:"completed"},"已完成",-1)]),512),[[a.u1,r.caseForm.status]])]),(0,l.Lk)("div",Ho,[s[91]||(s[91]=(0,l.Lk)("label",{class:"form-label"},"案发地点",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[24]||(s[24]=e=>r.caseForm.location=e)},null,512),[[a.Jo,r.caseForm.location]])]),(0,l.Lk)("div",Ko,[s[92]||(s[92]=(0,l.Lk)("label",{class:"form-label"},"案发时间",-1)),(0,l.bo)((0,l.Lk)("input",{type:"datetime-local",class:"form-control","onUpdate:modelValue":s[25]||(s[25]=e=>r.caseForm.incidentTime=e)},null,512),[[a.Jo,r.caseForm.incidentTime]])])])],32)]),(0,l.Lk)("div",Bo,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:s[27]||(s[27]=e=>r.showCreateModal=!1)},"取消"),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[28]||(s[28]=(...e)=>c.createCase&&c.createCase(...e))},s[93]||(s[93]=[(0,l.Lk)("i",{class:"bi bi-check-circle me-2"},null,-1),(0,l.eW)("保存 ")]))])])])],6),r.showCreateModal||r.showImportModal?((0,l.uX)(),(0,l.CE)("div",Go)):(0,l.Q3)("",!0)])}var Yo={name:"CaseManagement",data(){return{viewMode:"table",currentPage:1,pageSize:10,showCreateModal:!1,showImportModal:!1,selectedCases:[],searchForm:{keyword:"",caseType:"",status:"",officer:"",dateFrom:""},caseForm:{caseNumber:"",title:"",description:"",caseType:"",status:"pending",officer:"",location:"",incidentTime:""},stats:{totalCases:25,pendingCases:8,completedCases:15,todayCases:3},cases:[{id:1,caseNumber:"CASE-2024-001",title:"张某涉嫌盗窃案",description:"犯罪嫌疑人张某在某商场实施盗窃，被现场抓获",caseType:"criminal",status:"investigating",officer:"李警官",location:"某商场",incidentTime:"2024-01-10 15:30:00",createdAt:"2024-01-15 14:30:00",recordCount:3,daysOpen:7},{id:2,caseNumber:"CASE-2024-002",title:"王某交通肇事案",description:"王某驾驶车辆发生交通事故，造成一人轻伤",caseType:"traffic",status:"completed",officer:"张警官",location:"某路段",incidentTime:"2024-01-12 08:45:00",createdAt:"2024-01-16 09:15:00",recordCount:2,daysOpen:5},{id:3,caseNumber:"CASE-2024-003",title:"刘某诈骗案",description:"刘某通过网络平台实施诈骗，涉案金额约5万元",caseType:"criminal",status:"pending",officer:"王警官",location:"网络",incidentTime:"2024-01-14 20:00:00",createdAt:"2024-01-17 16:45:00",recordCount:1,daysOpen:3},{id:4,caseNumber:"CASE-2024-004",title:"李某合同纠纷案",description:"李某与某公司发生合同纠纷，要求赔偿损失",caseType:"civil",status:"investigating",officer:"李警官",location:"某公司",incidentTime:"2024-01-08 14:20:00",createdAt:"2024-01-18 10:30:00",recordCount:4,daysOpen:10}]}},computed:{filteredCases(){let e=this.cases;if(this.searchForm.keyword){const s=this.searchForm.keyword.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(s)||e.caseNumber.toLowerCase().includes(s)||e.description.toLowerCase().includes(s))}return this.searchForm.caseType&&(e=e.filter(e=>e.caseType===this.searchForm.caseType)),this.searchForm.status&&(e=e.filter(e=>e.status===this.searchForm.status)),this.searchForm.officer&&(e=e.filter(e=>e.officer===this.searchForm.officer)),this.searchForm.dateFrom&&(e=e.filter(e=>e.createdAt>=this.searchForm.dateFrom)),e},totalPages(){return Math.ceil(this.filteredCases.length/this.pageSize)},paginatedCases(){const e=(this.currentPage-1)*this.pageSize,s=e+this.pageSize;return this.filteredCases.slice(e,s)},visiblePages(){const e=[],s=this.totalPages,t=this.currentPage;if(s<=7)for(let a=1;a<=s;a++)e.push(a);else if(t<=4){for(let s=1;s<=5;s++)e.push(s);e.push("..."),e.push(s)}else if(t>=s-3){e.push(1),e.push("...");for(let t=s-4;t<=s;t++)e.push(t)}else{e.push(1),e.push("...");for(let s=t-1;s<=t+1;s++)e.push(s);e.push("..."),e.push(s)}return e}},methods:{searchCases(){this.currentPage=1,console.log("搜索案件:",this.searchForm)},createCase(){if(!this.caseForm.caseNumber||!this.caseForm.title||!this.caseForm.caseType)return void alert("请填写完整信息");const e={id:Date.now(),...this.caseForm,createdAt:(new Date).toISOString().slice(0,19).replace("T"," "),recordCount:0,daysOpen:0};this.cases.unshift(e),this.showCreateModal=!1,this.caseForm={caseNumber:"",title:"",description:"",caseType:"",status:"pending",officer:"",location:"",incidentTime:""},this.updateStats()},viewCase(e){console.log("查看案件详情:",e)},editCase(e){console.log("编辑案件:",e)},viewRecords(e){console.log("查看案件笔录:",e),this.$router.push({name:"TaskList",query:{caseNumber:e.caseNumber}})},deleteCase(e){if(confirm("确定要删除这个案件吗？删除后将无法恢复！")){const s=this.cases.findIndex(s=>s.id===e);s>-1&&(this.cases.splice(s,1),this.updateStats())}},toggleSelectAll(e){e.target.checked?this.selectedCases=this.paginatedCases.map(e=>e.id):this.selectedCases=[]},exportCases(){console.log("导出案件数据"),alert("案件导出功能开发中")},updateStats(){this.stats.totalCases=this.cases.length,this.stats.pendingCases=this.cases.filter(e=>"pending"===e.status).length,this.stats.completedCases=this.cases.filter(e=>"completed"===e.status).length;const e=(new Date).toISOString().split("T")[0];this.stats.todayCases=this.cases.filter(s=>s.createdAt.startsWith(e)).length},getCaseTypeClass(e){const s={criminal:"bg-danger",civil:"bg-primary",administrative:"bg-warning",traffic:"bg-info"};return s[e]||"bg-secondary"},getCaseTypeText(e){const s={criminal:"刑事",civil:"民事",administrative:"行政",traffic:"交通"};return s[e]||"未知"},getStatusClass(e){const s={pending:"bg-warning",investigating:"bg-info",completed:"bg-success",closed:"bg-secondary"};return s[e]||"bg-secondary"},getStatusText(e){const s={pending:"待处理",investigating:"调查中",completed:"已完成",closed:"已结案"};return s[e]||"未知"},formatDate(e){return new Date(e).toLocaleString("zh-CN")}},mounted(){console.log("案件管理页面已加载"),this.updateStats()}};const ei=(0,P.A)(Yo,[["render",Zo],["__scopeId","data-v-5ffff582"]]);var si=ei;const ti={class:"container mt-4"},ai={class:"row"},li={class:"col-12"},oi={class:"card border-0 shadow-lg rounded-4 overflow-hidden"},ii={class:"card-header bg-white border-0 p-4"},ri={class:"d-flex justify-content-between align-items-center"},ci={class:"btn-group"},ni=["disabled"],di=["disabled"],mi=["disabled"],ui={key:0},ki={key:1},bi={class:"card-header bg-white border-0 p-0"},pi={class:"nav nav-tabs nav-fill custom-tabs",role:"tablist"},hi=["onClick"],Li={class:"badge bg-primary rounded-pill ms-2"},gi={class:"card-body p-4"},vi={class:"tab-content"},fi={class:"tab-pane fade show active"},yi={class:"d-flex justify-content-between align-items-center mb-4"},wi={class:"fw-bold text-primary mb-0"},Ci={class:"badge bg-primary rounded-pill ms-2"},xi={class:"btn-group"},Fi=["disabled"],Ti=["disabled"],Pi={class:"table-responsive rounded-4 shadow-sm",style:{"min-height":"400px"}},_i={class:"table table-hover mb-0"},Si={class:"py-3 ps-4 fw-bold text-muted"},Ei={class:"py-3 question-text"},Ui={class:"py-3 text-center"},Mi={class:"btn-group"},Wi=["onClick","disabled"],Ai=["onClick","disabled"],Xi={key:0},Ri={class:"modal-dialog modal-lg"},Ii={class:"modal-content"},Di={class:"modal-header"},Vi={class:"modal-title"},Ni={class:"modal-body"},zi={class:"mb-3"},qi={class:"d-flex align-items-center mb-2"},ji={class:"input-group"},$i=["disabled"],Oi=["value"],Ji={key:0,class:"fas fa-plus"},Qi={key:1,class:"fas fa-minus"},Hi={key:0,class:"mb-3 new-category-fields"},Ki={class:"card border-primary p-3 mb-3"},Bi={class:"mb-3"},Gi={class:"input-group"},Zi={class:"mb-3"},Yi={class:"mb-3"},er={class:"modal-footer"},sr=["disabled"],tr=["disabled"],ar={key:0},lr={key:1},or={class:"modal-dialog"},ir={class:"modal-content"},rr={class:"modal-header"},cr={class:"modal-body"},nr={class:"mb-3"},dr={class:"modal-footer"},mr=["disabled"],ur=["disabled"],kr={key:0},br={key:1},pr={key:0,class:"modal-backdrop fade show"};function hr(e,s,t,i,r,c){return(0,l.uX)(),(0,l.CE)("div",ti,[s[47]||(s[47]=(0,l.Lk)("div",{class:"row mb-4"},[(0,l.Lk)("div",{class:"col-12 text-center"},[(0,l.Lk)("h2",{class:"display-5 fw-bold text-primary"},"保密问答模板管理"),(0,l.Lk)("p",{class:"text-muted"},"管理和维护各类保密审查问题模板")])],-1)),(0,l.Lk)("div",ai,[(0,l.Lk)("div",li,[(0,l.Lk)("div",oi,[(0,l.Lk)("div",ii,[(0,l.Lk)("div",ri,[s[22]||(s[22]=(0,l.Lk)("div",null,[(0,l.Lk)("h4",{class:"fw-bold text-primary mb-0"},[(0,l.Lk)("i",{class:"bi bi-gear me-2"}),(0,l.eW)("模板管理 ")])],-1)),(0,l.Lk)("div",ci,[(0,l.Lk)("button",{class:"btn btn-primary",onClick:s[0]||(s[0]=e=>r.showAddModal=!0),disabled:r.loading},s[18]||(s[18]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)("添加模板类别 ")]),8,ni),(0,l.Lk)("button",{class:"btn btn-success",onClick:s[1]||(s[1]=e=>r.showImportModal=!0),disabled:r.loading},s[19]||(s[19]=[(0,l.Lk)("i",{class:"bi bi-upload me-2"},null,-1),(0,l.eW)("导入模板 ")]),8,di),(0,l.Lk)("button",{class:"btn btn-info",onClick:s[2]||(s[2]=(...e)=>c.exportTemplates&&c.exportTemplates(...e)),disabled:r.loading},[s[21]||(s[21]=(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1)),r.loading?((0,l.uX)(),(0,l.CE)("span",ui,s[20]||(s[20]=[(0,l.Lk)("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),(0,l.eW)(" 导出中... ")]))):((0,l.uX)(),(0,l.CE)("span",ki,"导出模板"))],8,mi)])])]),(0,l.Lk)("div",bi,[(0,l.Lk)("ul",pi,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.templateTypes,e=>((0,l.uX)(),(0,l.CE)("li",{class:"nav-item",role:"presentation",key:e.key},[(0,l.Lk)("button",{class:(0,o.C4)(["nav-link",{active:r.activeTab===e.key}]),onClick:s=>c.switchTab(e.key),type:"button",role:"tab"},[s[23]||(s[23]=(0,l.Lk)("i",{class:"fas fa-shield-alt me-2"},null,-1)),(0,l.eW)((0,o.v_)(e.name)+" ",1),(0,l.Lk)("span",Li,(0,o.v_)(c.getTemplateCount(e.key)),1)],10,hi)]))),128))])]),(0,l.Lk)("div",gi,[(0,l.Lk)("div",vi,[(0,l.Lk)("div",fi,[(0,l.Lk)("div",yi,[(0,l.Lk)("div",null,[(0,l.Lk)("h3",wi,[s[24]||(s[24]=(0,l.Lk)("i",{class:"fas fa-list-alt me-2"},null,-1)),(0,l.eW)((0,o.v_)(c.getCurrentTypeName())+" ",1),(0,l.Lk)("span",Ci,(0,o.v_)(c.getCurrentTemplates().length),1)]),s[25]||(s[25]=(0,l.Lk)("div",{class:"border-bottom border-2 border-primary mt-2",style:{width:"50px"}},null,-1))]),(0,l.Lk)("div",xi,[(0,l.Lk)("button",{class:"btn btn-primary px-4 py-2 d-flex align-items-center shadow-sm",onClick:s[3]||(s[3]=e=>r.showAddModal=!0),disabled:r.loading},s[26]||(s[26]=[(0,l.Lk)("i",{class:"fas fa-plus-circle me-2"},null,-1),(0,l.eW)(" 添加问题 ")]),8,Fi),c.getCurrentTemplates().length>0?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-danger px-4 py-2 d-flex align-items-center shadow-sm",onClick:s[4]||(s[4]=(...e)=>c.confirmDeleteTemplateType&&c.confirmDeleteTemplateType(...e)),disabled:r.loading},s[27]||(s[27]=[(0,l.Lk)("i",{class:"fas fa-trash-alt me-2"},null,-1),(0,l.eW)(" 删除类型 ")]),8,Ti)):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",Pi,[(0,l.Lk)("table",_i,[s[31]||(s[31]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",{class:"bg-light"},[(0,l.Lk)("th",{width:"5%",class:"py-3 ps-4 text-primary"},"序号"),(0,l.Lk)("th",{width:"80%",class:"py-3 text-primary"},"问题"),(0,l.Lk)("th",{width:"15%",class:"py-3 text-center text-primary"},"操作")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.getCurrentTemplates(),(e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"border-bottom question-item",ref_for:!0,ref:"row-"+e.id},[(0,l.Lk)("td",Si,(0,o.v_)(t+1),1),(0,l.Lk)("td",Ei,(0,o.v_)(e.question),1),(0,l.Lk)("td",Ui,[(0,l.Lk)("div",Mi,[(0,l.Lk)("button",{class:"btn btn-sm btn-outline-primary edit-btn",onClick:s=>c.editTemplate(e),disabled:r.loading},s[28]||(s[28]=[(0,l.Lk)("i",{class:"fas fa-edit me-1"},null,-1),(0,l.eW)(" 编辑 ")]),8,Wi),(0,l.Lk)("button",{class:"btn btn-sm btn-outline-danger delete-btn",onClick:s=>c.confirmDeleteTemplate(e.id),disabled:r.loading},s[29]||(s[29]=[(0,l.Lk)("i",{class:"fas fa-trash-alt me-1"},null,-1),(0,l.eW)(" 删除 ")]),8,Ai)])])]))),128)),0===c.getCurrentTemplates().length?((0,l.uX)(),(0,l.CE)("tr",Xi,s[30]||(s[30]=[(0,l.Lk)("td",{colspan:"3",class:"text-center py-5"},[(0,l.Lk)("div",{class:"empty-state"},[(0,l.Lk)("i",{class:"fas fa-inbox fa-3x mb-3 text-secondary opacity-50"}),(0,l.Lk)("h5",{class:"text-secondary"},"暂无问题模板"),(0,l.Lk)("p",{class:"text-muted"},'点击"添加问题"按钮创建新的问题模板')])],-1)]))):(0,l.Q3)("",!0)])])])])])])])])]),(0,l.Lk)("div",{class:(0,o.C4)(["modal fade",{show:r.showAddModal}]),style:(0,o.Tr)({display:r.showAddModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",Ri,[(0,l.Lk)("div",Ii,[(0,l.Lk)("div",Di,[(0,l.Lk)("h5",Vi,[s[32]||(s[32]=(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1)),(0,l.eW)((0,o.v_)(r.editingTemplate?"编辑模板":"添加模板类别"),1)]),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:s[5]||(s[5]=(...e)=>c.closeAddModal&&c.closeAddModal(...e))})]),(0,l.Lk)("div",Ni,[(0,l.Lk)("form",{onSubmit:s[11]||(s[11]=(0,a.D$)((...e)=>c.saveTemplate&&c.saveTemplate(...e),["prevent"]))},[(0,l.Lk)("div",zi,[s[34]||(s[34]=(0,l.Lk)("label",{for:"templateType",class:"form-label"},"模板类型",-1)),(0,l.Lk)("div",qi,[(0,l.Lk)("div",ji,[(0,l.bo)((0,l.Lk)("select",{class:"form-select",id:"templateType","onUpdate:modelValue":s[6]||(s[6]=e=>r.templateForm.templateType=e),disabled:r.showNewCategoryFields,required:""},[s[33]||(s[33]=(0,l.Lk)("option",{value:""},"请选择模板类型",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.templateTypes,e=>((0,l.uX)(),(0,l.CE)("option",{key:e.key,value:e.key},(0,o.v_)(e.name),9,Oi))),128))],8,$i),[[a.u1,r.templateForm.templateType]]),(0,l.Lk)("button",{type:"button",class:"btn btn-outline-primary",onClick:s[7]||(s[7]=(...e)=>c.toggleNewCategory&&c.toggleNewCategory(...e))},[r.showNewCategoryFields?((0,l.uX)(),(0,l.CE)("i",Qi)):((0,l.uX)(),(0,l.CE)("i",Ji)),(0,l.eW)(" "+(0,o.v_)(r.showNewCategoryFields?" 取消新类别":" 新类别"),1)])])])]),r.showNewCategoryFields?((0,l.uX)(),(0,l.CE)("div",Hi,[(0,l.Lk)("div",Ki,[(0,l.Lk)("div",Bi,[s[36]||(s[36]=(0,l.Lk)("label",{for:"newTypeKey",class:"form-label"},"类别名称",-1)),(0,l.Lk)("div",Gi,[s[35]||(s[35]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"fas fa-code"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",id:"newTypeKey","onUpdate:modelValue":s[8]||(s[8]=e=>r.newCategoryForm.key=e),placeholder:"例如：信息安全"},null,512),[[a.Jo,r.newCategoryForm.key]])]),s[37]||(s[37]=(0,l.Lk)("div",{class:"form-text text-muted"},[(0,l.Lk)("i",{class:"fas fa-info-circle me-1"}),(0,l.eW)(" 类别名称只能包含中文、英文、数字、下划线和连字符，不能包含空格 ")],-1))])])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Zi,[s[38]||(s[38]=(0,l.Lk)("label",{for:"question",class:"form-label"},"问题内容",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",id:"question",rows:"4","onUpdate:modelValue":s[9]||(s[9]=e=>r.templateForm.question=e),placeholder:"请输入问题内容",required:""},null,512),[[a.Jo,r.templateForm.question]])]),(0,l.Lk)("div",Yi,[s[39]||(s[39]=(0,l.Lk)("label",{for:"sortOrder",class:"form-label"},"排序",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",id:"sortOrder","onUpdate:modelValue":s[10]||(s[10]=e=>r.templateForm.sortOrder=e),placeholder:"排序号（数字越小越靠前）"},null,512),[[a.Jo,r.templateForm.sortOrder]])])],32)]),(0,l.Lk)("div",er,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:s[12]||(s[12]=(...e)=>c.closeAddModal&&c.closeAddModal(...e)),disabled:r.loading},"取消",8,sr),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[13]||(s[13]=(...e)=>c.saveTemplate&&c.saveTemplate(...e)),disabled:r.loading},[s[41]||(s[41]=(0,l.Lk)("i",{class:"bi bi-check-circle me-2"},null,-1)),r.loading?((0,l.uX)(),(0,l.CE)("span",ar,s[40]||(s[40]=[(0,l.Lk)("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),(0,l.eW)(" 保存中... ")]))):((0,l.uX)(),(0,l.CE)("span",lr,"保存"))],8,tr)])])])],6),(0,l.Lk)("div",{class:(0,o.C4)(["modal fade",{show:r.showImportModal}]),style:(0,o.Tr)({display:r.showImportModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",or,[(0,l.Lk)("div",ir,[(0,l.Lk)("div",rr,[s[42]||(s[42]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-upload me-2"}),(0,l.eW)("导入模板 ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:s[14]||(s[14]=e=>r.showImportModal=!1)})]),(0,l.Lk)("div",cr,[(0,l.Lk)("div",nr,[s[43]||(s[43]=(0,l.Lk)("label",{for:"importFile",class:"form-label"},"选择文件",-1)),(0,l.Lk)("input",{type:"file",class:"form-control",id:"importFile",onChange:s[15]||(s[15]=(...e)=>c.handleFileSelect&&c.handleFileSelect(...e)),accept:".xlsx,.xls,.csv"},null,32),s[44]||(s[44]=(0,l.Lk)("div",{class:"form-text"},"支持Excel (.xlsx, .xls) 和CSV (.csv) 格式",-1))])]),(0,l.Lk)("div",dr,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:s[16]||(s[16]=e=>r.showImportModal=!1),disabled:r.loading},"取消",8,mr),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[17]||(s[17]=(...e)=>c.confirmImportTemplates&&c.confirmImportTemplates(...e)),disabled:!r.selectedFile||r.loading},[s[46]||(s[46]=(0,l.Lk)("i",{class:"bi bi-upload me-2"},null,-1)),r.loading?((0,l.uX)(),(0,l.CE)("span",kr,s[45]||(s[45]=[(0,l.Lk)("span",{class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},null,-1),(0,l.eW)(" 导入中... ")]))):((0,l.uX)(),(0,l.CE)("span",br,"导入"))],8,ur)])])])],6),r.showAddModal||r.showImportModal?((0,l.uX)(),(0,l.CE)("div",pr)):(0,l.Q3)("",!0)])}t(116),t(7588),t(4603),t(7566),t(8721);var Lr=t(4373);const gr=Lr.A.create({baseURL:"http://localhost:8080",timeout:1e4,headers:{"Content-Type":"application/json"}});gr.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>(console.error("请求错误:",e),Promise.reject(e))),gr.interceptors.response.use(e=>e,e=>{if(console.error("响应错误:",e),e.response)switch(e.response.status){case 401:localStorage.removeItem("token"),window.location.href="/login";break;case 403:console.error("没有权限访问");break;case 404:console.error("请求的资源不存在");break;case 500:console.error("服务器内部错误");break;default:console.error("请求失败:",e.response.data?.message||e.message)}else e.request?console.error("网络错误，请检查网络连接"):console.error("请求配置错误:",e.message);return Promise.reject(e)});var vr=gr;const fr={getTemplates(e={}){return vr.get("/api/module/secrecy",{params:e})},getAllTemplates(e=null){const s=e?{templateType:e}:{};return vr.get("/api/module/secrecy/get_templates",{params:s})},getAllTemplateTypes(){return vr.get("/api/module/secrecy/types")},addTemplate(e){return vr.post("/api/module/secrecy/add",e)},addTemplateWithCategory(e,s,t=0){return vr.post("/api/module/secrecy/add_with_category",null,{params:{templateType:e,question:s,sortOrder:t}})},editTemplate(e,s){return vr.put(`/api/module/secrecy/${e}/edit`,s)},deleteTemplate(e){return vr.delete("/api/module/secrecy/delete",{params:{id:e}})},deleteTemplateType(e){return vr.delete("/api/module/secrecy/delete_type",{params:{templateType:e}})},importTemplate(e){const s=new FormData;return s.append("file",e),vr.post("/api/module/secrecy/import",s,{headers:{"Content-Type":"multipart/form-data"}})},importCsvTemplate(e){const s=new FormData;return s.append("file",e),vr.post("/api/module/secrecy/import_csv",s,{headers:{"Content-Type":"multipart/form-data"}})},exportTemplates(e=null){const s=e?{templateType:e}:{};return vr.get("/api/module/secrecy/export",{params:s,responseType:"blob"})}};var yr=fr;class wr{static show(e,s="info",t=3e3){const a=document.createElement("div");a.className=`alert alert-${this.getBootstrapType(s)} alert-dismissible fade show position-fixed`,a.style.cssText="\n      top: 20px;\n      right: 20px;\n      z-index: 9999;\n      min-width: 300px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n    ",a.innerHTML=`\n      <div class="d-flex align-items-center">\n        <i class="${this.getIcon(s)} me-2"></i>\n        <span>${e}</span>\n        <button type="button" class="btn-close ms-auto" data-bs-dismiss="alert"></button>\n      </div>\n    `,document.body.appendChild(a),setTimeout(()=>{a.parentNode&&a.parentNode.removeChild(a)},t);const l=a.querySelector(".btn-close");l.addEventListener("click",()=>{a.parentNode&&a.parentNode.removeChild(a)})}static success(e,s){this.show(e,"success",s)}static error(e,s){this.show(e,"error",s)}static warning(e,s){this.show(e,"warning",s)}static info(e,s){this.show(e,"info",s)}static getBootstrapType(e){const s={success:"success",error:"danger",warning:"warning",info:"info"};return s[e]||"info"}static getIcon(e){const s={success:"bi bi-check-circle-fill",error:"bi bi-exclamation-triangle-fill",warning:"bi bi-exclamation-triangle-fill",info:"bi bi-info-circle-fill"};return s[e]||"bi bi-info-circle-fill"}}const Cr={success:(e,s)=>wr.success(e,s),error:(e,s)=>wr.error(e,s),warning:(e,s)=>wr.warning(e,s),info:(e,s)=>wr.info(e,s)};var xr=Cr,Fr={name:"TemplateManagement",data(){return{activeTab:"secrecy_system",showAddModal:!1,showImportModal:!1,showNewCategoryFields:!1,editingTemplate:null,selectedFile:null,loading:!1,templateForm:{templateType:"",question:"",sortOrder:0},newCategoryForm:{key:""},templateTypes:[],templates:{}}},methods:{switchTab(e){const s=document.querySelector(".tab-content");s?(s.style.animation="none",setTimeout(()=>{this.activeTab=e,s.style.animation="fadeIn 0.5s ease-in-out"},10)):this.activeTab=e},confirmDeleteTemplate(e){e?confirm("确定要删除这个问题吗？删除后将无法恢复！")&&this.deleteTemplate(e):this.showToast("错误","无法获取问题ID，请刷新页面重试","error")},confirmDeleteTemplateType(){const e=this.getCurrentTypeName();confirm(`确定要删除整个"${e}"类型的所有模板吗？删除后将无法恢复"${e}"类型下的所有问题！`)&&this.deleteTemplateType()},confirmImportTemplates(){this.selectedFile?confirm("确定要导入模板吗？这将覆盖数据库中的现有数据！")&&this.importTemplates():this.showToast("错误","请选择文件","error")},showToast(e,s,t){"success"===t?s.success(s):"error"===t?s.error(s):"warning"===t&&s.warning(s)},toggleNewCategory(){this.showNewCategoryFields=!this.showNewCategoryFields,this.showNewCategoryFields?(this.templateForm.templateType="",this.$nextTick(()=>{const e=document.querySelector(".new-category-fields");e&&(e.style.animation="fadeIn 0.3s ease-in-out")})):this.newCategoryForm.key=""},validateNewCategory(){const e=this.newCategoryForm.key.trim();return e?!!/^[\u4e00-\u9fa5a-zA-Z0-9_-]+$/.test(e)||(this.showToast("错误","类别名称只能包含中文、英文、数字、下划线和连字符，不能包含空格","error"),!1):(this.showToast("错误","新类别名称不能为空","error"),!1)},async loadTemplateTypes(){try{const e=await yr.getAllTemplateTypes();if(200===e.data.code){const s=e.data.data;this.templateTypes=s.map(e=>({key:e,name:this.getTemplateTypeName(e)})),s.forEach(e=>{this.templates[e]=[]}),s.length>0&&(this.activeTab=s[0])}else xr.error(e.data.message||"加载模板类型失败")}catch(e){console.error("加载模板类型失败:",e),xr.error("加载模板类型失败")}},getTemplateTypeName(e){return e},async loadTemplates(e=null){try{if(this.loading=!0,e){const s=await yr.getAllTemplates(e);200===s.data.code?this.templates[e]=s.data.data:xr.error(s.data.message||"加载模板失败")}else for(const e of this.templateTypes){const s=await yr.getAllTemplates(e.key);200===s.data.code?this.templates[e.key]=s.data.data:(console.error(`加载类型 ${e.key} 的模板失败:`,s.data.message),this.templates[e.key]=[])}}catch(s){console.error("加载模板失败:",s),xr.error("加载模板失败")}finally{this.loading=!1}},async saveTemplate(){try{const e=this.showNewCategoryFields;let s,t=this.templateForm.templateType;if(e){if(!this.validateNewCategory())return;t=this.newCategoryForm.key.trim()}if(!t||!this.templateForm.question)return void xr.warning("请填写完整信息");this.loading=!0,s=this.editingTemplate?await yr.editTemplate(this.editingTemplate.id,{templateType:t,question:this.templateForm.question,sortOrder:this.templateForm.sortOrder||0}):await yr.addTemplateWithCategory(t,this.templateForm.question,this.templateForm.sortOrder||0),200===s.data.code?(xr.success(this.editingTemplate?"更新成功":"问题已成功添加"),this.closeAddModal(),e?(await this.loadTemplateTypes(),await this.loadTemplates(),this.activeTab=t):await this.loadTemplates(t)):xr.error(s.data.message||"操作失败")}catch(e){console.error("保存模板失败:",e),xr.error("保存模板失败")}finally{this.loading=!1}},async deleteTemplate(e){try{this.loading=!0;const s=await yr.deleteTemplate(e);if(200===s.data.code){const s=this.$refs[`row-${e}`];s&&s[0]?(s[0].style.transition="opacity 0.3s ease",s[0].style.opacity="0",setTimeout(()=>{xr.success("问题已成功删除"),this.loadTemplates(this.activeTab)},300)):(xr.success("删除成功"),await this.loadTemplates(this.activeTab))}else xr.error(s.data.message||"删除失败")}catch(s){console.error("删除模板失败:",s),xr.error("删除模板失败")}finally{this.loading=!1}},async deleteTemplateType(){const e=this.getCurrentTypeName();if(confirm(`确定要删除整个"${e}"类型的所有模板吗？`))try{this.loading=!0;const e=await yr.deleteTemplateType(this.activeTab);200===e.data.code?(xr.success("删除类型成功"),await this.loadTemplates(this.activeTab)):xr.error(e.data.message||"删除失败")}catch(s){console.error("删除模板类型失败:",s),xr.error("删除模板类型失败")}finally{this.loading=!1}},async importTemplates(){if(this.selectedFile)try{let e;this.loading=!0,e=this.selectedFile.name.endsWith(".csv")?await yr.importCsvTemplate(this.selectedFile):await yr.importTemplate(this.selectedFile),200===e.data.code?(xr.success(`成功导入${e.data.data}条数据`),this.showImportModal=!1,this.selectedFile=null,await this.loadTemplates()):xr.error(e.data.message||"导入失败")}catch(e){console.error("导入模板失败:",e),xr.error("导入模板失败")}finally{this.loading=!1}else xr.warning("请选择文件")},async exportTemplates(){try{this.loading=!0;const e=await yr.exportTemplates(this.activeTab),s=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`secrecy_templates_${this.activeTab||"all"}.xlsx`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t),setTimeout(()=>{this.loading=!1,xr.success("模板导出请求已发送")},1e3)}catch(e){console.error("导出模板失败:",e),xr.error("导出模板失败"),this.loading=!1}},handleFileSelect(e){this.selectedFile=e.target.files[0]},closeAddModal(){this.showAddModal=!1,this.showNewCategoryFields=!1,this.editingTemplate=null,this.templateForm={templateType:"",question:"",sortOrder:0},this.newCategoryForm={key:""}},getCurrentTemplates(){return this.templates[this.activeTab]||[]},getCurrentTypeName(){const e=this.templateTypes.find(e=>e.key===this.activeTab);return e?e.name:""},getTemplateCount(e){return this.templates[e]?this.templates[e].length:0},editTemplate(e){this.editingTemplate=e,this.templateForm={templateType:this.activeTab,question:e.question,sortOrder:e.sortOrder},this.showAddModal=!0},formatDate(e){return new Date(e).toLocaleString("zh-CN")}},watch:{activeTab(e){this.templates[e]&&0!==this.templates[e].length||this.loadTemplates(e)}},async mounted(){console.log("模版管理页面已加载"),await this.loadTemplateTypes(),await this.loadTemplates()}};const Tr=(0,P.A)(Fr,[["render",hr],["__scopeId","data-v-e2a15492"]]);var Pr=Tr;const _r={class:"container-fluid mt-4"},Sr={class:"row mb-4"},Er={class:"col-12"},Ur={class:"d-flex justify-content-between align-items-center"},Mr={class:"btn-group"},Wr=["disabled"],Ar={class:"row mb-4"},Xr={class:"col-md-3"},Rr={class:"card border-0 shadow-sm stats-card"},Ir={class:"card-body text-center"},Dr={class:"fw-bold mb-1"},Vr={class:"col-md-3"},Nr={class:"card border-0 shadow-sm stats-card"},zr={class:"card-body text-center"},qr={class:"fw-bold mb-1"},jr={class:"col-md-3"},$r={class:"card border-0 shadow-sm stats-card"},Or={class:"card-body text-center"},Jr={class:"fw-bold mb-1"},Qr={class:"col-md-3"},Hr={class:"card border-0 shadow-sm stats-card"},Kr={class:"card-body text-center"},Br={class:"fw-bold mb-1"},Gr={class:"row mb-4"},Zr={class:"col-12"},Yr={class:"card border-0 shadow-sm"},ec={class:"card-body"},sc={class:"row g-3"},tc={class:"col-md-3"},ac={class:"input-group"},lc={class:"col-md-2"},oc={class:"col-md-2"},ic={class:"col-md-2"},rc={class:"col-md-2"},cc={class:"col-md-1"},nc={class:"row"},dc={class:"col-12"},mc={class:"card border-0 shadow-sm"},uc={class:"card-header bg-white border-0 py-3"},kc={class:"d-flex justify-content-between align-items-center"},bc={class:"fw-bold mb-0"},pc={class:"badge bg-primary ms-2"},hc={class:"btn-group btn-group-sm"},Lc={class:"card-body p-0"},gc={key:0,class:"table-responsive"},vc={class:"table table-hover mb-0"},fc={class:"bg-light"},yc={width:"5%"},wc=["value"],Cc={class:"fw-medium"},xc={class:"text-muted"},Fc={class:"d-flex align-items-center"},Tc={key:0,class:"ms-2"},Pc={class:"progress",style:{width:"60px",height:"6px"}},_c={class:"text-muted"},Sc={class:"badge bg-info"},Ec={class:"text-muted"},Uc={class:"d-flex align-items-center"},Mc={class:"text-muted"},Wc={class:"btn-group btn-group-sm"},Ac=["onClick","disabled"],Xc=["onClick"],Rc=["onClick"],Ic={key:0},Dc={key:1,class:"row g-3 p-3"},Vc={class:"card h-100 package-card"},Nc={class:"card-header d-flex justify-content-between align-items-center"},zc={class:"card-body"},qc={class:"card-title"},jc={class:"card-text text-muted small"},$c={key:0,class:"mb-3"},Oc={class:"d-flex justify-content-between align-items-center mb-1"},Jc={class:"text-muted"},Qc={class:"progress",style:{height:"6px"}},Hc={class:"row text-center mb-3"},Kc={class:"col-6"},Bc={class:"border-end"},Gc={class:"fw-bold text-primary"},Zc={class:"col-6"},Yc={class:"fw-bold text-success"},en={class:"d-flex justify-content-between align-items-center"},sn={class:"text-muted"},tn={class:"text-muted"},an={class:"mt-2"},ln={class:"card-footer bg-transparent"},on={class:"btn-group w-100"},rn=["onClick","disabled"],cn=["onClick"],nn=["onClick"],dn={key:0,class:"col-12"},mn={key:0,class:"card-footer bg-white"},un={class:"d-flex justify-content-between align-items-center"},kn={class:"text-muted"},bn={class:"pagination pagination-sm mb-0"},pn=["disabled"],hn=["disabled"],Ln=["onClick"],gn=["disabled"],vn=["disabled"],fn={class:"modal-dialog modal-lg"},yn={class:"modal-content"},wn={class:"modal-header"},Cn={class:"modal-body"},xn={class:"row g-3"},Fn={class:"col-12"},Tn={class:"col-12"},Pn={class:"col-md-6"},_n={class:"col-md-6"},Sn={key:0,class:"col-12"},En={class:"border rounded p-3",style:{"max-height":"200px","overflow-y":"auto"}},Un=["value","id"],Mn=["for"],Wn={key:1,class:"col-12"},An={class:"row g-3"},Xn={class:"col-md-6"},Rn={class:"col-md-6"},In={key:2,class:"col-12"},Dn={class:"border rounded p-3",style:{"max-height":"200px","overflow-y":"auto"}},Vn=["value","id"],Nn=["for"],zn={key:3,class:"col-12"},qn={class:"col-12"},jn={class:"form-check"},$n={class:"col-12"},On={class:"form-check"},Jn={class:"modal-footer"},Qn={key:0,class:"modal-backdrop fade show"};function Hn(e,s,t,i,r,c){return(0,l.uX)(),(0,l.CE)("div",_r,[(0,l.Lk)("div",Sr,[(0,l.Lk)("div",Er,[(0,l.Lk)("div",Ur,[s[35]||(s[35]=(0,l.Lk)("div",null,[(0,l.Lk)("h2",{class:"display-6 fw-bold text-primary mb-0"},[(0,l.Lk)("i",{class:"bi bi-archive me-2"}),(0,l.eW)("打包管理 ")]),(0,l.Lk)("p",{class:"text-muted mb-0"},"管理和下载笔录打包文件")],-1)),(0,l.Lk)("div",Mr,[(0,l.Lk)("button",{class:"btn btn-primary btn-lg",onClick:s[0]||(s[0]=e=>r.showCreatePackageModal=!0)},s[32]||(s[32]=[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"},null,-1),(0,l.eW)("新建打包 ")])),(0,l.Lk)("button",{class:"btn btn-success btn-lg",onClick:s[1]||(s[1]=(...e)=>c.batchDownload&&c.batchDownload(...e)),disabled:0===r.selectedPackages.length},s[33]||(s[33]=[(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1),(0,l.eW)("批量下载 ")]),8,Wr),(0,l.Lk)("button",{class:"btn btn-warning btn-lg",onClick:s[2]||(s[2]=(...e)=>c.cleanupPackages&&c.cleanupPackages(...e))},s[34]||(s[34]=[(0,l.Lk)("i",{class:"bi bi-trash3 me-2"},null,-1),(0,l.eW)("清理过期 ")]))])])])]),(0,l.Lk)("div",Ar,[(0,l.Lk)("div",Xr,[(0,l.Lk)("div",Rr,[(0,l.Lk)("div",Ir,[s[36]||(s[36]=(0,l.Lk)("div",{class:"stats-icon bg-primary bg-opacity-10 text-primary mb-3"},[(0,l.Lk)("i",{class:"bi bi-archive"})],-1)),(0,l.Lk)("h3",Dr,(0,o.v_)(r.stats.totalPackages),1),s[37]||(s[37]=(0,l.Lk)("p",{class:"text-muted mb-0"},"总打包数",-1))])])]),(0,l.Lk)("div",Vr,[(0,l.Lk)("div",Nr,[(0,l.Lk)("div",zr,[s[38]||(s[38]=(0,l.Lk)("div",{class:"stats-icon bg-success bg-opacity-10 text-success mb-3"},[(0,l.Lk)("i",{class:"bi bi-check-circle"})],-1)),(0,l.Lk)("h3",qr,(0,o.v_)(r.stats.completedPackages),1),s[39]||(s[39]=(0,l.Lk)("p",{class:"text-muted mb-0"},"已完成",-1))])])]),(0,l.Lk)("div",jr,[(0,l.Lk)("div",$r,[(0,l.Lk)("div",Or,[s[40]||(s[40]=(0,l.Lk)("div",{class:"stats-icon bg-warning bg-opacity-10 text-warning mb-3"},[(0,l.Lk)("i",{class:"bi bi-clock-history"})],-1)),(0,l.Lk)("h3",Jr,(0,o.v_)(r.stats.processingPackages),1),s[41]||(s[41]=(0,l.Lk)("p",{class:"text-muted mb-0"},"处理中",-1))])])]),(0,l.Lk)("div",Qr,[(0,l.Lk)("div",Hr,[(0,l.Lk)("div",Kr,[s[42]||(s[42]=(0,l.Lk)("div",{class:"stats-icon bg-info bg-opacity-10 text-info mb-3"},[(0,l.Lk)("i",{class:"bi bi-hdd"})],-1)),(0,l.Lk)("h3",Br,(0,o.v_)(c.formatFileSize(r.stats.totalSize)),1),s[43]||(s[43]=(0,l.Lk)("p",{class:"text-muted mb-0"},"总大小",-1))])])])]),(0,l.Lk)("div",Gr,[(0,l.Lk)("div",Zr,[(0,l.Lk)("div",Yr,[(0,l.Lk)("div",ec,[(0,l.Lk)("div",sc,[(0,l.Lk)("div",tc,[s[45]||(s[45]=(0,l.Lk)("label",{class:"form-label fw-bold"},"搜索关键词",-1)),(0,l.Lk)("div",ac,[s[44]||(s[44]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"打包名称、描述等","onUpdate:modelValue":s[3]||(s[3]=e=>r.searchForm.keyword=e)},null,512),[[a.Jo,r.searchForm.keyword]])])]),(0,l.Lk)("div",lc,[s[47]||(s[47]=(0,l.Lk)("label",{class:"form-label fw-bold"},"打包状态",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=e=>r.searchForm.status=e)},s[46]||(s[46]=[(0,l.Fv)('<option value="" data-v-6053e53d>全部状态</option><option value="pending" data-v-6053e53d>等待中</option><option value="processing" data-v-6053e53d>处理中</option><option value="completed" data-v-6053e53d>已完成</option><option value="failed" data-v-6053e53d>失败</option><option value="expired" data-v-6053e53d>已过期</option>',6)]),512),[[a.u1,r.searchForm.status]])]),(0,l.Lk)("div",oc,[s[49]||(s[49]=(0,l.Lk)("label",{class:"form-label fw-bold"},"打包类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=e=>r.searchForm.packageType=e)},s[48]||(s[48]=[(0,l.Fv)('<option value="" data-v-6053e53d>全部类型</option><option value="case" data-v-6053e53d>按案件</option><option value="date" data-v-6053e53d>按日期</option><option value="custom" data-v-6053e53d>自定义</option><option value="template" data-v-6053e53d>模板导出</option>',5)]),512),[[a.u1,r.searchForm.packageType]])]),(0,l.Lk)("div",ic,[s[51]||(s[51]=(0,l.Lk)("label",{class:"form-label fw-bold"},"创建人",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=e=>r.searchForm.creator=e)},s[50]||(s[50]=[(0,l.Lk)("option",{value:""},"全部创建人",-1),(0,l.Lk)("option",{value:"李警官"},"李警官",-1),(0,l.Lk)("option",{value:"张警官"},"张警官",-1),(0,l.Lk)("option",{value:"王警官"},"王警官",-1)]),512),[[a.u1,r.searchForm.creator]])]),(0,l.Lk)("div",rc,[s[52]||(s[52]=(0,l.Lk)("label",{class:"form-label fw-bold"},"创建日期",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=e=>r.searchForm.dateFrom=e)},null,512),[[a.Jo,r.searchForm.dateFrom]])]),(0,l.Lk)("div",cc,[s[54]||(s[54]=(0,l.Lk)("label",{class:"form-label fw-bold"}," ",-1)),(0,l.Lk)("button",{class:"btn btn-primary w-100",onClick:s[8]||(s[8]=(...e)=>c.searchPackages&&c.searchPackages(...e))},s[53]||(s[53]=[(0,l.Lk)("i",{class:"bi bi-search"},null,-1)]))])])])])])]),(0,l.Lk)("div",nc,[(0,l.Lk)("div",dc,[(0,l.Lk)("div",mc,[(0,l.Lk)("div",uc,[(0,l.Lk)("div",kc,[(0,l.Lk)("h5",bc,[s[55]||(s[55]=(0,l.Lk)("i",{class:"bi bi-list-ul me-2 text-primary"},null,-1)),s[56]||(s[56]=(0,l.eW)("打包列表 ")),(0,l.Lk)("span",pc,(0,o.v_)(c.filteredPackages.length),1)]),(0,l.Lk)("div",hc,[(0,l.Lk)("button",{class:(0,o.C4)(["btn","table"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[9]||(s[9]=e=>r.viewMode="table")},s[57]||(s[57]=[(0,l.Lk)("i",{class:"bi bi-table"},null,-1)]),2),(0,l.Lk)("button",{class:(0,o.C4)(["btn","card"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[10]||(s[10]=e=>r.viewMode="card")},s[58]||(s[58]=[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"},null,-1)]),2)])])]),(0,l.Lk)("div",Lc,["table"===r.viewMode?((0,l.uX)(),(0,l.CE)("div",gc,[(0,l.Lk)("table",vc,[(0,l.Lk)("thead",fc,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",yc,[(0,l.Lk)("input",{type:"checkbox",class:"form-check-input",onChange:s[11]||(s[11]=(...e)=>c.toggleSelectAll&&c.toggleSelectAll(...e))},null,32)]),s[59]||(s[59]=(0,l.Lk)("th",{width:"20%"},"打包名称",-1)),s[60]||(s[60]=(0,l.Lk)("th",{width:"10%"},"类型",-1)),s[61]||(s[61]=(0,l.Lk)("th",{width:"10%"},"状态",-1)),s[62]||(s[62]=(0,l.Lk)("th",{width:"10%"},"文件数量",-1)),s[63]||(s[63]=(0,l.Lk)("th",{width:"10%"},"文件大小",-1)),s[64]||(s[64]=(0,l.Lk)("th",{width:"10%"},"创建人",-1)),s[65]||(s[65]=(0,l.Lk)("th",{width:"10%"},"创建时间",-1)),s[66]||(s[66]=(0,l.Lk)("th",{width:"10%"},"过期时间",-1)),s[67]||(s[67]=(0,l.Lk)("th",{width:"5%"},"操作",-1))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedPackages,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"package-row"},[(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check-input",value:e.id,"onUpdate:modelValue":s[12]||(s[12]=e=>r.selectedPackages=e)},null,8,wc),[[a.lH,r.selectedPackages]])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",null,[(0,l.Lk)("div",Cc,(0,o.v_)(e.name),1),(0,l.Lk)("small",xc,(0,o.v_)(e.description),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getPackageTypeClass(e.packageType)])},(0,o.v_)(c.getPackageTypeText(e.packageType)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Fc,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3),"processing"===e.status?((0,l.uX)(),(0,l.CE)("div",Tc,[(0,l.Lk)("div",Pc,[(0,l.Lk)("div",{class:"progress-bar",style:(0,o.Tr)({width:e.progress+"%"})},null,4)]),(0,l.Lk)("small",_c,(0,o.v_)(e.progress)+"%",1)])):(0,l.Q3)("",!0)])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",Sc,(0,o.v_)(e.fileCount),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",Ec,(0,o.v_)(c.formatFileSize(e.fileSize)),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Uc,[s[68]||(s[68]=(0,l.Lk)("i",{class:"bi bi-person-circle me-2 text-muted"},null,-1)),(0,l.eW)(" "+(0,o.v_)(e.creator),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("small",Mc,(0,o.v_)(c.formatDate(e.createdAt)),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("small",{class:(0,o.C4)(["text-muted",{"text-danger":c.isExpired(e.expiresAt)}])},(0,o.v_)(c.formatDate(e.expiresAt)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Wc,[(0,l.Lk)("button",{class:"btn btn-outline-success",onClick:s=>c.downloadPackage(e),disabled:"completed"!==e.status,title:"下载"},s[69]||(s[69]=[(0,l.Lk)("i",{class:"bi bi-download"},null,-1)]),8,Ac),(0,l.Lk)("button",{class:"btn btn-outline-info",onClick:s=>c.viewPackageDetails(e),title:"详情"},s[70]||(s[70]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)]),8,Xc),(0,l.Lk)("button",{class:"btn btn-outline-danger",onClick:s=>c.deletePackage(e.id),title:"删除"},s[71]||(s[71]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,Rc)])])]))),128)),0===c.filteredPackages.length?((0,l.uX)(),(0,l.CE)("tr",Ic,s[72]||(s[72]=[(0,l.Lk)("td",{colspan:"10",class:"text-center py-5"},[(0,l.Lk)("div",{class:"empty-state"},[(0,l.Lk)("i",{class:"bi bi-archive fa-3x mb-3 text-secondary opacity-50"}),(0,l.Lk)("h5",{class:"text-secondary"},"暂无打包记录"),(0,l.Lk)("p",{class:"text-muted"},'点击"新建打包"按钮创建第一个打包任务')])],-1)]))):(0,l.Q3)("",!0)])])])):((0,l.uX)(),(0,l.CE)("div",Dc,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedPackages,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4"},[(0,l.Lk)("div",Vc,[(0,l.Lk)("div",Nc,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getPackageTypeClass(e.packageType)])},(0,o.v_)(c.getPackageTypeText(e.packageType)),3),(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("div",zc,[(0,l.Lk)("h6",qc,(0,o.v_)(e.name),1),(0,l.Lk)("p",jc,(0,o.v_)(e.description),1),"processing"===e.status?((0,l.uX)(),(0,l.CE)("div",$c,[(0,l.Lk)("div",Oc,[s[73]||(s[73]=(0,l.Lk)("small",{class:"text-muted"},"处理进度",-1)),(0,l.Lk)("small",Jc,(0,o.v_)(e.progress)+"%",1)]),(0,l.Lk)("div",Qc,[(0,l.Lk)("div",{class:"progress-bar",style:(0,o.Tr)({width:e.progress+"%"})},null,4)])])):(0,l.Q3)("",!0),(0,l.Lk)("div",Hc,[(0,l.Lk)("div",Kc,[(0,l.Lk)("div",Bc,[(0,l.Lk)("div",Gc,(0,o.v_)(e.fileCount),1),s[74]||(s[74]=(0,l.Lk)("small",{class:"text-muted"},"文件数量",-1))])]),(0,l.Lk)("div",Zc,[(0,l.Lk)("div",Yc,(0,o.v_)(c.formatFileSize(e.fileSize)),1),s[75]||(s[75]=(0,l.Lk)("small",{class:"text-muted"},"文件大小",-1))])]),(0,l.Lk)("div",en,[(0,l.Lk)("small",sn,[s[76]||(s[76]=(0,l.Lk)("i",{class:"bi bi-person me-1"},null,-1)),(0,l.eW)((0,o.v_)(e.creator),1)]),(0,l.Lk)("small",tn,(0,o.v_)(c.formatDate(e.createdAt)),1)]),(0,l.Lk)("div",an,[(0,l.Lk)("small",{class:(0,o.C4)(["text-muted",{"text-danger":c.isExpired(e.expiresAt)}])},[s[77]||(s[77]=(0,l.Lk)("i",{class:"bi bi-clock me-1"},null,-1)),(0,l.eW)(" 过期时间: "+(0,o.v_)(c.formatDate(e.expiresAt)),1)],2)])]),(0,l.Lk)("div",ln,[(0,l.Lk)("div",on,[(0,l.Lk)("button",{class:"btn btn-outline-success btn-sm",onClick:s=>c.downloadPackage(e),disabled:"completed"!==e.status},s[78]||(s[78]=[(0,l.Lk)("i",{class:"bi bi-download me-1"},null,-1),(0,l.eW)("下载 ")]),8,rn),(0,l.Lk)("button",{class:"btn btn-outline-info btn-sm",onClick:s=>c.viewPackageDetails(e)},s[79]||(s[79]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("详情 ")]),8,cn),(0,l.Lk)("button",{class:"btn btn-outline-danger btn-sm",onClick:s=>c.deletePackage(e.id)},s[80]||(s[80]=[(0,l.Lk)("i",{class:"bi bi-trash me-1"},null,-1),(0,l.eW)("删除 ")]),8,nn)])])])]))),128)),0===c.filteredPackages.length?((0,l.uX)(),(0,l.CE)("div",dn,s[81]||(s[81]=[(0,l.Fv)('<div class="text-center py-5" data-v-6053e53d><div class="empty-state" data-v-6053e53d><i class="bi bi-archive fa-3x mb-3 text-secondary opacity-50" data-v-6053e53d></i><h5 class="text-secondary" data-v-6053e53d>暂无打包记录</h5><p class="text-muted" data-v-6053e53d>点击&quot;新建打包&quot;按钮创建第一个打包任务</p></div></div>',1)]))):(0,l.Q3)("",!0)]))]),c.filteredPackages.length>0?((0,l.uX)(),(0,l.CE)("div",mn,[(0,l.Lk)("div",un,[(0,l.Lk)("div",kn," 显示 "+(0,o.v_)((r.currentPage-1)*r.pageSize+1)+" - "+(0,o.v_)(Math.min(r.currentPage*r.pageSize,c.filteredPackages.length))+" 条，共 "+(0,o.v_)(c.filteredPackages.length)+" 条记录 ",1),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",bn,[(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[13]||(s[13]=e=>r.currentPage=1),disabled:1===r.currentPage},s[82]||(s[82]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-left"},null,-1)]),8,pn)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[14]||(s[14]=e=>r.currentPage--),disabled:1===r.currentPage},s[83]||(s[83]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1)]),8,hn)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.visiblePages,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,o.C4)(["page-item",{active:e===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s=>r.currentPage=e},(0,o.v_)(e),9,Ln)],2))),128)),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[15]||(s[15]=e=>r.currentPage++),disabled:r.currentPage===c.totalPages},s[84]||(s[84]=[(0,l.Lk)("i",{class:"bi bi-chevron-right"},null,-1)]),8,gn)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[16]||(s[16]=e=>r.currentPage=c.totalPages),disabled:r.currentPage===c.totalPages},s[85]||(s[85]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-right"},null,-1)]),8,vn)],2)])])])])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",{class:(0,o.C4)(["modal fade",{show:r.showCreatePackageModal}]),style:(0,o.Tr)({display:r.showCreatePackageModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",fn,[(0,l.Lk)("div",yn,[(0,l.Lk)("div",wn,[s[86]||(s[86]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-plus-circle me-2"}),(0,l.eW)("新建打包任务 ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:s[17]||(s[17]=e=>r.showCreatePackageModal=!1)})]),(0,l.Lk)("div",Cn,[(0,l.Lk)("form",{onSubmit:s[29]||(s[29]=(0,a.D$)((...e)=>c.createPackage&&c.createPackage(...e),["prevent"]))},[(0,l.Lk)("div",xn,[(0,l.Lk)("div",Fn,[s[87]||(s[87]=(0,l.Lk)("label",{class:"form-label"},"打包名称",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[18]||(s[18]=e=>r.packageForm.name=e),required:""},null,512),[[a.Jo,r.packageForm.name]])]),(0,l.Lk)("div",Tn,[s[88]||(s[88]=(0,l.Lk)("label",{class:"form-label"},"打包描述",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":s[19]||(s[19]=e=>r.packageForm.description=e)},null,512),[[a.Jo,r.packageForm.description]])]),(0,l.Lk)("div",Pn,[s[90]||(s[90]=(0,l.Lk)("label",{class:"form-label"},"打包类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[20]||(s[20]=e=>r.packageForm.packageType=e),required:""},s[89]||(s[89]=[(0,l.Fv)('<option value="" data-v-6053e53d>请选择打包类型</option><option value="case" data-v-6053e53d>按案件打包</option><option value="date" data-v-6053e53d>按日期打包</option><option value="custom" data-v-6053e53d>自定义选择</option><option value="template" data-v-6053e53d>模板导出</option>',5)]),512),[[a.u1,r.packageForm.packageType]])]),(0,l.Lk)("div",_n,[s[92]||(s[92]=(0,l.Lk)("label",{class:"form-label"},"过期时间",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[21]||(s[21]=e=>r.packageForm.expiryDays=e)},s[91]||(s[91]=[(0,l.Lk)("option",{value:"7"},"7天后过期",-1),(0,l.Lk)("option",{value:"15"},"15天后过期",-1),(0,l.Lk)("option",{value:"30"},"30天后过期",-1),(0,l.Lk)("option",{value:"90"},"90天后过期",-1)]),512),[[a.u1,r.packageForm.expiryDays]])]),"case"===r.packageForm.packageType?((0,l.uX)(),(0,l.CE)("div",Sn,[s[93]||(s[93]=(0,l.Lk)("label",{class:"form-label"},"选择案件",-1)),(0,l.Lk)("div",En,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.availableCases,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"form-check"},[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",value:e.id,"onUpdate:modelValue":s[22]||(s[22]=e=>r.packageForm.selectedCases=e),id:"case-"+e.id},null,8,Un),[[a.lH,r.packageForm.selectedCases]]),(0,l.Lk)("label",{class:"form-check-label",for:"case-"+e.id},(0,o.v_)(e.caseNumber)+" - "+(0,o.v_)(e.title),9,Mn)]))),128))])])):(0,l.Q3)("",!0),"date"===r.packageForm.packageType?((0,l.uX)(),(0,l.CE)("div",Wn,[(0,l.Lk)("div",An,[(0,l.Lk)("div",Xn,[s[94]||(s[94]=(0,l.Lk)("label",{class:"form-label"},"开始日期",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[23]||(s[23]=e=>r.packageForm.dateFrom=e)},null,512),[[a.Jo,r.packageForm.dateFrom]])]),(0,l.Lk)("div",Rn,[s[95]||(s[95]=(0,l.Lk)("label",{class:"form-label"},"结束日期",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[24]||(s[24]=e=>r.packageForm.dateTo=e)},null,512),[[a.Jo,r.packageForm.dateTo]])])])])):(0,l.Q3)("",!0),"custom"===r.packageForm.packageType?((0,l.uX)(),(0,l.CE)("div",In,[s[96]||(s[96]=(0,l.Lk)("label",{class:"form-label"},"选择笔录",-1)),(0,l.Lk)("div",Dn,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.availableRecords,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"form-check"},[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",value:e.id,"onUpdate:modelValue":s[25]||(s[25]=e=>r.packageForm.selectedRecords=e),id:"record-"+e.id},null,8,Vn),[[a.lH,r.packageForm.selectedRecords]]),(0,l.Lk)("label",{class:"form-check-label",for:"record-"+e.id},(0,o.v_)(e.caseNumber)+" - "+(0,o.v_)(e.title),9,Nn)]))),128))])])):(0,l.Q3)("",!0),"template"===r.packageForm.packageType?((0,l.uX)(),(0,l.CE)("div",zn,[s[98]||(s[98]=(0,l.Lk)("label",{class:"form-label"},"选择模板",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[26]||(s[26]=e=>r.packageForm.templateId=e)},s[97]||(s[97]=[(0,l.Lk)("option",{value:""},"请选择模板",-1),(0,l.Lk)("option",{value:"1"},"保密问答模板",-1),(0,l.Lk)("option",{value:"2"},"询问笔录模板",-1),(0,l.Lk)("option",{value:"3"},"调查笔录模板",-1)]),512),[[a.u1,r.packageForm.templateId]])])):(0,l.Q3)("",!0),(0,l.Lk)("div",qn,[(0,l.Lk)("div",jn,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[27]||(s[27]=e=>r.packageForm.includeAttachments=e),id:"includeAttachments"},null,512),[[a.lH,r.packageForm.includeAttachments]]),s[99]||(s[99]=(0,l.Lk)("label",{class:"form-check-label",for:"includeAttachments"}," 包含附件文件 ",-1))])]),(0,l.Lk)("div",$n,[(0,l.Lk)("div",On,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[28]||(s[28]=e=>r.packageForm.compressFiles=e),id:"compressFiles"},null,512),[[a.lH,r.packageForm.compressFiles]]),s[100]||(s[100]=(0,l.Lk)("label",{class:"form-check-label",for:"compressFiles"}," 压缩文件（减小文件大小） ",-1))])])])],32)]),(0,l.Lk)("div",Jn,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:s[30]||(s[30]=e=>r.showCreatePackageModal=!1)},"取消"),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[31]||(s[31]=(...e)=>c.createPackage&&c.createPackage(...e))},s[101]||(s[101]=[(0,l.Lk)("i",{class:"bi bi-check-circle me-2"},null,-1),(0,l.eW)("开始打包 ")]))])])])],6),r.showCreatePackageModal?((0,l.uX)(),(0,l.CE)("div",Qn)):(0,l.Q3)("",!0)])}t(8237);var Kn={name:"PackageManagement",data(){return{viewMode:"table",currentPage:1,pageSize:10,showCreatePackageModal:!1,selectedPackages:[],searchForm:{keyword:"",status:"",packageType:"",creator:"",dateFrom:""},packageForm:{name:"",description:"",packageType:"",expiryDays:"30",selectedCases:[],selectedRecords:[],dateFrom:"",dateTo:"",templateId:"",includeAttachments:!0,compressFiles:!0},stats:{totalPackages:12,completedPackages:8,processingPackages:2,totalSize:157286400},packages:[{id:1,name:"2024年1月刑事案件打包",description:"包含2024年1月所有刑事案件的笔录文件",packageType:"date",status:"completed",fileCount:25,fileSize:47185920,creator:"李警官",createdAt:"2024-01-20 10:30:00",expiresAt:"2024-02-19 10:30:00",progress:100,downloadUrl:"/downloads/package1.zip"},{id:2,name:"CASE-2024-001案件资料",description:"张某盗窃案相关所有笔录和附件",packageType:"case",status:"processing",fileCount:8,fileSize:12582912,creator:"张警官",createdAt:"2024-01-21 14:15:00",expiresAt:"2024-02-20 14:15:00",progress:65,downloadUrl:null},{id:3,name:"保密问答模板导出",description:"所有保密问答模板的导出文件",packageType:"template",status:"completed",fileCount:15,fileSize:8388608,creator:"王警官",createdAt:"2024-01-19 16:45:00",expiresAt:"2024-02-18 16:45:00",progress:100,downloadUrl:"/downloads/package3.zip"},{id:4,name:"自定义笔录选择",description:"手动选择的重要笔录文件",packageType:"custom",status:"failed",fileCount:0,fileSize:0,creator:"李警官",createdAt:"2024-01-18 09:20:00",expiresAt:"2024-02-17 09:20:00",progress:0,downloadUrl:null}],availableCases:[{id:1,caseNumber:"CASE-2024-001",title:"张某涉嫌盗窃案"},{id:2,caseNumber:"CASE-2024-002",title:"王某交通肇事案"},{id:3,caseNumber:"CASE-2024-003",title:"刘某诈骗案"}],availableRecords:[{id:1,caseNumber:"CASE-2024-001",title:"张某涉嫌盗窃案询问笔录"},{id:2,caseNumber:"CASE-2024-002",title:"王某交通肇事案询问笔录"},{id:3,caseNumber:"CASE-2024-003",title:"刘某诈骗案询问笔录"}]}},computed:{filteredPackages(){let e=this.packages;if(this.searchForm.keyword){const s=this.searchForm.keyword.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s))}return this.searchForm.status&&(e=e.filter(e=>e.status===this.searchForm.status)),this.searchForm.packageType&&(e=e.filter(e=>e.packageType===this.searchForm.packageType)),this.searchForm.creator&&(e=e.filter(e=>e.creator===this.searchForm.creator)),this.searchForm.dateFrom&&(e=e.filter(e=>e.createdAt>=this.searchForm.dateFrom)),e},totalPages(){return Math.ceil(this.filteredPackages.length/this.pageSize)},paginatedPackages(){const e=(this.currentPage-1)*this.pageSize,s=e+this.pageSize;return this.filteredPackages.slice(e,s)},visiblePages(){const e=[],s=this.totalPages,t=this.currentPage;if(s<=7)for(let a=1;a<=s;a++)e.push(a);else if(t<=4){for(let s=1;s<=5;s++)e.push(s);e.push("..."),e.push(s)}else if(t>=s-3){e.push(1),e.push("...");for(let t=s-4;t<=s;t++)e.push(t)}else{e.push(1),e.push("...");for(let s=t-1;s<=t+1;s++)e.push(s);e.push("..."),e.push(s)}return e}},methods:{searchPackages(){this.currentPage=1,console.log("搜索打包:",this.searchForm)},createPackage(){if(!this.packageForm.name||!this.packageForm.packageType)return void alert("请填写完整信息");if("case"===this.packageForm.packageType&&0===this.packageForm.selectedCases.length)return void alert("请选择至少一个案件");if("custom"===this.packageForm.packageType&&0===this.packageForm.selectedRecords.length)return void alert("请选择至少一条笔录");if("date"===this.packageForm.packageType&&(!this.packageForm.dateFrom||!this.packageForm.dateTo))return void alert("请选择日期范围");if("template"===this.packageForm.packageType&&!this.packageForm.templateId)return void alert("请选择模板");const e=new Date;e.setDate(e.getDate()+parseInt(this.packageForm.expiryDays));const s={id:Date.now(),name:this.packageForm.name,description:this.packageForm.description,packageType:this.packageForm.packageType,status:"pending",fileCount:0,fileSize:0,creator:"当前用户",createdAt:(new Date).toISOString().slice(0,19).replace("T"," "),expiresAt:e.toISOString().slice(0,19).replace("T"," "),progress:0,downloadUrl:null};this.packages.unshift(s),this.showCreatePackageModal=!1,this.resetPackageForm(),this.simulatePackaging(s.id),this.updateStats()},simulatePackaging(e){const s=this.packages.find(s=>s.id===e);if(!s)return;s.status="processing";const t=setInterval(()=>{s.progress+=20*Math.random(),s.progress>=100&&(s.progress=100,s.status="completed",s.fileCount=Math.floor(20*Math.random())+5,s.fileSize=Math.floor(50*Math.random()*1024*1024)+5242880,s.downloadUrl=`/downloads/package${e}.zip`,clearInterval(t),this.updateStats())},1e3)},downloadPackage(e){"completed"===e.status&&e.downloadUrl?(console.log("下载打包文件:",e.name),alert(`开始下载: ${e.name}`)):alert("文件尚未准备就绪")},viewPackageDetails(e){console.log("查看打包详情:",e)},deletePackage(e){if(confirm("确定要删除这个打包吗？删除后将无法恢复！")){const s=this.packages.findIndex(s=>s.id===e);s>-1&&(this.packages.splice(s,1),this.updateStats())}},batchDownload(){const e=this.packages.filter(e=>this.selectedPackages.includes(e.id)),s=e.filter(e=>"completed"===e.status);0!==s.length?(console.log("批量下载:",s),alert(`开始批量下载 ${s.length} 个文件`)):alert("没有可下载的文件")},cleanupPackages(){const e=this.packages.filter(e=>this.isExpired(e.expiresAt));0!==e.length?confirm(`发现 ${e.length} 个过期文件，确定要清理吗？`)&&(e.forEach(e=>{const s=this.packages.findIndex(s=>s.id===e.id);s>-1&&this.packages.splice(s,1)}),this.updateStats(),alert("过期文件清理完成")):alert("没有过期的打包文件")},toggleSelectAll(e){e.target.checked?this.selectedPackages=this.paginatedPackages.map(e=>e.id):this.selectedPackages=[]},resetPackageForm(){this.packageForm={name:"",description:"",packageType:"",expiryDays:"30",selectedCases:[],selectedRecords:[],dateFrom:"",dateTo:"",templateId:"",includeAttachments:!0,compressFiles:!0}},updateStats(){this.stats.totalPackages=this.packages.length,this.stats.completedPackages=this.packages.filter(e=>"completed"===e.status).length,this.stats.processingPackages=this.packages.filter(e=>"processing"===e.status).length,this.stats.totalSize=this.packages.reduce((e,s)=>e+s.fileSize,0)},getPackageTypeClass(e){const s={case:"bg-primary",date:"bg-success",custom:"bg-warning",template:"bg-info"};return s[e]||"bg-secondary"},getPackageTypeText(e){const s={case:"按案件",date:"按日期",custom:"自定义",template:"模板导出"};return s[e]||"未知"},getStatusClass(e){const s={pending:"bg-secondary",processing:"bg-warning",completed:"bg-success",failed:"bg-danger",expired:"bg-dark"};return s[e]||"bg-secondary"},getStatusText(e){const s={pending:"等待中",processing:"处理中",completed:"已完成",failed:"失败",expired:"已过期"};return s[e]||"未知"},formatFileSize(e){if(0===e)return"0 B";const s=1024,t=["B","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,a)).toFixed(2))+" "+t[a]},formatDate(e){return new Date(e).toLocaleString("zh-CN")},isExpired(e){return new Date(e)<new Date}},mounted(){console.log("打包管理页面已加载"),this.updateStats()}};const Bn=(0,P.A)(Kn,[["render",Hn],["__scopeId","data-v-6053e53d"]]);var Gn=Bn;const Zn={class:"container-fluid mt-4"},Yn={class:"row mb-4"},ed={class:"col-12"},sd={class:"d-flex justify-content-between align-items-center"},td={class:"btn-group"},ad={class:"row mb-4"},ld={class:"col-md-3"},od={class:"card border-0 shadow-sm stats-card"},id={class:"card-body text-center"},rd={class:"fw-bold mb-1"},cd={class:"col-md-3"},nd={class:"card border-0 shadow-sm stats-card"},dd={class:"card-body text-center"},md={class:"fw-bold mb-1"},ud={class:"col-md-3"},kd={class:"card border-0 shadow-sm stats-card"},bd={class:"card-body text-center"},pd={class:"fw-bold mb-1"},hd={class:"col-md-3"},Ld={class:"card border-0 shadow-sm stats-card"},gd={class:"card-body text-center"},vd={class:"fw-bold mb-1"},fd={class:"row mb-4"},yd={class:"col-12"},wd={class:"card border-0 shadow-sm"},Cd={class:"card-body"},xd={class:"row g-3"},Fd={class:"col-md-3"},Td={class:"input-group"},Pd={class:"col-md-2"},_d={class:"col-md-2"},Sd={class:"col-md-2"},Ed={class:"col-md-2"},Ud={class:"col-md-1"},Md={class:"row"},Wd={class:"col-12"},Ad={class:"card border-0 shadow-sm"},Xd={class:"card-header bg-white border-0 py-3"},Rd={class:"d-flex justify-content-between align-items-center"},Id={class:"fw-bold mb-0"},Dd={class:"badge bg-primary ms-2"},Vd={class:"btn-group btn-group-sm"},Nd={class:"card-body p-0"},zd={key:0,class:"table-responsive"},qd={class:"table table-hover mb-0"},jd={class:"bg-light"},$d={width:"5%"},Od=["value"],Jd={class:"user-avatar"},Qd=["src","alt"],Hd={key:1,class:"avatar-placeholder rounded-circle d-flex align-items-center justify-content-center"},Kd={class:"fw-medium"},Bd={class:"text-muted"},Gd={class:"text-muted"},Zd={class:"text-muted"},Yd={class:"text-muted"},em={class:"text-muted"},sm={class:"btn-group btn-group-sm"},tm=["onClick"],am=["onClick"],lm=["onClick","title"],om=["onClick"],im=["onClick"],rm={key:0},cm={key:1,class:"row g-3 p-3"},nm={class:"card h-100 user-card"},dm={class:"card-header d-flex justify-content-between align-items-center"},mm={class:"card-body text-center"},um={class:"user-avatar-large mb-3"},km=["src","alt"],bm={key:1,class:"avatar-placeholder-large rounded-circle d-flex align-items-center justify-content-center mx-auto"},pm={class:"card-title"},hm={class:"card-text text-muted small"},Lm={class:"card-text text-muted small"},gm={class:"row text-center mb-3"},vm={class:"col-12"},fm={class:"fw-bold text-primary"},ym={class:"d-flex justify-content-between align-items-center"},wm={class:"text-muted"},Cm={class:"card-footer bg-transparent"},xm={class:"btn-group w-100"},Fm=["onClick"],Tm=["onClick"],Pm=["onClick"],_m={key:0,class:"col-12"},Sm={key:0,class:"card-footer bg-white"},Em={class:"d-flex justify-content-between align-items-center"},Um={class:"text-muted"},Mm={class:"pagination pagination-sm mb-0"},Wm=["disabled"],Am=["disabled"],Xm=["onClick"],Rm=["disabled"],Im=["disabled"],Dm={class:"modal-dialog modal-lg"},Vm={class:"modal-content"},Nm={class:"modal-header"},zm={class:"modal-body"},qm={class:"row g-3"},jm={class:"col-md-6"},$m={class:"col-md-6"},Om={class:"col-md-6"},Jm={class:"col-md-6"},Qm={class:"col-md-6"},Hm={class:"col-md-6"},Km={class:"col-md-6"},Bm={class:"col-md-6"},Gm={class:"col-12"},Zm={class:"col-12"},Ym={class:"form-check"},eu={class:"modal-footer"},su={key:0,class:"modal-backdrop fade show"};function tu(e,s,t,i,r,c){return(0,l.uX)(),(0,l.CE)("div",Zn,[(0,l.Lk)("div",Yn,[(0,l.Lk)("div",ed,[(0,l.Lk)("div",sd,[s[34]||(s[34]=(0,l.Lk)("div",null,[(0,l.Lk)("h2",{class:"display-6 fw-bold text-primary mb-0"},[(0,l.Lk)("i",{class:"bi bi-people me-2"}),(0,l.eW)("管理员账户 ")]),(0,l.Lk)("p",{class:"text-muted mb-0"},"管理系统用户和权限设置")],-1)),(0,l.Lk)("div",td,[(0,l.Lk)("button",{class:"btn btn-primary btn-lg",onClick:s[0]||(s[0]=e=>r.showCreateUserModal=!0)},s[31]||(s[31]=[(0,l.Lk)("i",{class:"bi bi-person-plus me-2"},null,-1),(0,l.eW)("新建用户 ")])),(0,l.Lk)("button",{class:"btn btn-success btn-lg",onClick:s[1]||(s[1]=e=>r.showImportModal=!0)},s[32]||(s[32]=[(0,l.Lk)("i",{class:"bi bi-upload me-2"},null,-1),(0,l.eW)("批量导入 ")])),(0,l.Lk)("button",{class:"btn btn-info btn-lg",onClick:s[2]||(s[2]=(...e)=>c.exportUsers&&c.exportUsers(...e))},s[33]||(s[33]=[(0,l.Lk)("i",{class:"bi bi-download me-2"},null,-1),(0,l.eW)("导出用户 ")]))])])])]),(0,l.Lk)("div",ad,[(0,l.Lk)("div",ld,[(0,l.Lk)("div",od,[(0,l.Lk)("div",id,[s[35]||(s[35]=(0,l.Lk)("div",{class:"stats-icon bg-primary bg-opacity-10 text-primary mb-3"},[(0,l.Lk)("i",{class:"bi bi-people"})],-1)),(0,l.Lk)("h3",rd,(0,o.v_)(r.stats.totalUsers),1),s[36]||(s[36]=(0,l.Lk)("p",{class:"text-muted mb-0"},"总用户数",-1))])])]),(0,l.Lk)("div",cd,[(0,l.Lk)("div",nd,[(0,l.Lk)("div",dd,[s[37]||(s[37]=(0,l.Lk)("div",{class:"stats-icon bg-success bg-opacity-10 text-success mb-3"},[(0,l.Lk)("i",{class:"bi bi-person-check"})],-1)),(0,l.Lk)("h3",md,(0,o.v_)(r.stats.activeUsers),1),s[38]||(s[38]=(0,l.Lk)("p",{class:"text-muted mb-0"},"活跃用户",-1))])])]),(0,l.Lk)("div",ud,[(0,l.Lk)("div",kd,[(0,l.Lk)("div",bd,[s[39]||(s[39]=(0,l.Lk)("div",{class:"stats-icon bg-warning bg-opacity-10 text-warning mb-3"},[(0,l.Lk)("i",{class:"bi bi-person-x"})],-1)),(0,l.Lk)("h3",pd,(0,o.v_)(r.stats.inactiveUsers),1),s[40]||(s[40]=(0,l.Lk)("p",{class:"text-muted mb-0"},"禁用用户",-1))])])]),(0,l.Lk)("div",hd,[(0,l.Lk)("div",Ld,[(0,l.Lk)("div",gd,[s[41]||(s[41]=(0,l.Lk)("div",{class:"stats-icon bg-info bg-opacity-10 text-info mb-3"},[(0,l.Lk)("i",{class:"bi bi-calendar-day"})],-1)),(0,l.Lk)("h3",vd,(0,o.v_)(r.stats.todayLogins),1),s[42]||(s[42]=(0,l.Lk)("p",{class:"text-muted mb-0"},"今日登录",-1))])])])]),(0,l.Lk)("div",fd,[(0,l.Lk)("div",yd,[(0,l.Lk)("div",wd,[(0,l.Lk)("div",Cd,[(0,l.Lk)("div",xd,[(0,l.Lk)("div",Fd,[s[44]||(s[44]=(0,l.Lk)("label",{class:"form-label fw-bold"},"搜索关键词",-1)),(0,l.Lk)("div",Td,[s[43]||(s[43]=(0,l.Lk)("span",{class:"input-group-text"},[(0,l.Lk)("i",{class:"bi bi-search"})],-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"用户名、姓名、邮箱等","onUpdate:modelValue":s[3]||(s[3]=e=>r.searchForm.keyword=e)},null,512),[[a.Jo,r.searchForm.keyword]])])]),(0,l.Lk)("div",Pd,[s[46]||(s[46]=(0,l.Lk)("label",{class:"form-label fw-bold"},"用户角色",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=e=>r.searchForm.role=e)},s[45]||(s[45]=[(0,l.Fv)('<option value="" data-v-2d7273af>全部角色</option><option value="admin" data-v-2d7273af>管理员</option><option value="officer" data-v-2d7273af>警官</option><option value="clerk" data-v-2d7273af>文员</option><option value="viewer" data-v-2d7273af>查看者</option>',5)]),512),[[a.u1,r.searchForm.role]])]),(0,l.Lk)("div",_d,[s[48]||(s[48]=(0,l.Lk)("label",{class:"form-label fw-bold"},"用户状态",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[5]||(s[5]=e=>r.searchForm.status=e)},s[47]||(s[47]=[(0,l.Lk)("option",{value:""},"全部状态",-1),(0,l.Lk)("option",{value:"active"},"活跃",-1),(0,l.Lk)("option",{value:"inactive"},"禁用",-1),(0,l.Lk)("option",{value:"pending"},"待激活",-1)]),512),[[a.u1,r.searchForm.status]])]),(0,l.Lk)("div",Sd,[s[50]||(s[50]=(0,l.Lk)("label",{class:"form-label fw-bold"},"部门",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[6]||(s[6]=e=>r.searchForm.department=e)},s[49]||(s[49]=[(0,l.Fv)('<option value="" data-v-2d7273af>全部部门</option><option value="刑侦科" data-v-2d7273af>刑侦科</option><option value="交警队" data-v-2d7273af>交警队</option><option value="治安科" data-v-2d7273af>治安科</option><option value="技术科" data-v-2d7273af>技术科</option>',5)]),512),[[a.u1,r.searchForm.department]])]),(0,l.Lk)("div",Ed,[s[51]||(s[51]=(0,l.Lk)("label",{class:"form-label fw-bold"},"创建日期",-1)),(0,l.bo)((0,l.Lk)("input",{type:"date",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=e=>r.searchForm.dateFrom=e)},null,512),[[a.Jo,r.searchForm.dateFrom]])]),(0,l.Lk)("div",Ud,[s[53]||(s[53]=(0,l.Lk)("label",{class:"form-label fw-bold"}," ",-1)),(0,l.Lk)("button",{class:"btn btn-primary w-100",onClick:s[8]||(s[8]=(...e)=>c.searchUsers&&c.searchUsers(...e))},s[52]||(s[52]=[(0,l.Lk)("i",{class:"bi bi-search"},null,-1)]))])])])])])]),(0,l.Lk)("div",Md,[(0,l.Lk)("div",Wd,[(0,l.Lk)("div",Ad,[(0,l.Lk)("div",Xd,[(0,l.Lk)("div",Rd,[(0,l.Lk)("h5",Id,[s[54]||(s[54]=(0,l.Lk)("i",{class:"bi bi-list-ul me-2 text-primary"},null,-1)),s[55]||(s[55]=(0,l.eW)("用户列表 ")),(0,l.Lk)("span",Dd,(0,o.v_)(c.filteredUsers.length),1)]),(0,l.Lk)("div",Vd,[(0,l.Lk)("button",{class:(0,o.C4)(["btn","table"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[9]||(s[9]=e=>r.viewMode="table")},s[56]||(s[56]=[(0,l.Lk)("i",{class:"bi bi-table"},null,-1)]),2),(0,l.Lk)("button",{class:(0,o.C4)(["btn","card"===r.viewMode?"btn-primary":"btn-outline-primary"]),onClick:s[10]||(s[10]=e=>r.viewMode="card")},s[57]||(s[57]=[(0,l.Lk)("i",{class:"bi bi-grid-3x3-gap"},null,-1)]),2)])])]),(0,l.Lk)("div",Nd,["table"===r.viewMode?((0,l.uX)(),(0,l.CE)("div",zd,[(0,l.Lk)("table",qd,[(0,l.Lk)("thead",jd,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",$d,[(0,l.Lk)("input",{type:"checkbox",class:"form-check-input",onChange:s[11]||(s[11]=(...e)=>c.toggleSelectAll&&c.toggleSelectAll(...e))},null,32)]),s[58]||(s[58]=(0,l.Lk)("th",{width:"10%"},"头像",-1)),s[59]||(s[59]=(0,l.Lk)("th",{width:"15%"},"用户信息",-1)),s[60]||(s[60]=(0,l.Lk)("th",{width:"10%"},"角色",-1)),s[61]||(s[61]=(0,l.Lk)("th",{width:"10%"},"部门",-1)),s[62]||(s[62]=(0,l.Lk)("th",{width:"10%"},"状态",-1)),s[63]||(s[63]=(0,l.Lk)("th",{width:"10%"},"最后登录",-1)),s[64]||(s[64]=(0,l.Lk)("th",{width:"10%"},"创建时间",-1)),s[65]||(s[65]=(0,l.Lk)("th",{width:"20%"},"操作",-1))])]),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedUsers,e=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id,class:"user-row"},[(0,l.Lk)("td",null,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",class:"form-check-input",value:e.id,"onUpdate:modelValue":s[12]||(s[12]=e=>r.selectedUsers=e)},null,8,Od),[[a.lH,r.selectedUsers]])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",Jd,[e.avatar?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.avatar,alt:e.name,class:"rounded-circle",width:"40",height:"40"},null,8,Qd)):((0,l.uX)(),(0,l.CE)("div",Hd,s[66]||(s[66]=[(0,l.Lk)("i",{class:"bi bi-person"},null,-1)])))])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",null,[(0,l.Lk)("div",Kd,(0,o.v_)(e.name),1),(0,l.Lk)("small",Bd,(0,o.v_)(e.username),1),s[67]||(s[67]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("small",Gd,(0,o.v_)(e.email),1)])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getRoleClass(e.role)])},(0,o.v_)(c.getRoleText(e.role)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",Zd,(0,o.v_)(e.department),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("small",Yd,(0,o.v_)(c.formatDate(e.lastLogin)),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("small",em,(0,o.v_)(c.formatDate(e.createdAt)),1)]),(0,l.Lk)("td",null,[(0,l.Lk)("div",sm,[(0,l.Lk)("button",{class:"btn btn-outline-primary",onClick:s=>c.viewUser(e),title:"查看详情"},s[68]||(s[68]=[(0,l.Lk)("i",{class:"bi bi-eye"},null,-1)]),8,tm),(0,l.Lk)("button",{class:"btn btn-outline-success",onClick:s=>c.editUser(e),title:"编辑"},s[69]||(s[69]=[(0,l.Lk)("i",{class:"bi bi-pencil"},null,-1)]),8,am),(0,l.Lk)("button",{class:(0,o.C4)(["btn","active"===e.status?"btn-outline-warning":"btn-outline-success"]),onClick:s=>c.toggleUserStatus(e),title:"active"===e.status?"禁用":"启用"},[(0,l.Lk)("i",{class:(0,o.C4)("active"===e.status?"bi bi-person-x":"bi bi-person-check")},null,2)],10,lm),(0,l.Lk)("button",{class:"btn btn-outline-info",onClick:s=>c.resetPassword(e),title:"重置密码"},s[70]||(s[70]=[(0,l.Lk)("i",{class:"bi bi-key"},null,-1)]),8,om),(0,l.Lk)("button",{class:"btn btn-outline-danger",onClick:s=>c.deleteUser(e.id),title:"删除"},s[71]||(s[71]=[(0,l.Lk)("i",{class:"bi bi-trash"},null,-1)]),8,im)])])]))),128)),0===c.filteredUsers.length?((0,l.uX)(),(0,l.CE)("tr",rm,s[72]||(s[72]=[(0,l.Lk)("td",{colspan:"9",class:"text-center py-5"},[(0,l.Lk)("div",{class:"empty-state"},[(0,l.Lk)("i",{class:"bi bi-people fa-3x mb-3 text-secondary opacity-50"}),(0,l.Lk)("h5",{class:"text-secondary"},"暂无用户记录"),(0,l.Lk)("p",{class:"text-muted"},'点击"新建用户"按钮创建第一个用户')])],-1)]))):(0,l.Q3)("",!0)])])])):((0,l.uX)(),(0,l.CE)("div",cm,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.paginatedUsers,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.id,class:"col-md-6 col-lg-4"},[(0,l.Lk)("div",nm,[(0,l.Lk)("div",dm,[(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getRoleClass(e.role)])},(0,o.v_)(c.getRoleText(e.role)),3),(0,l.Lk)("span",{class:(0,o.C4)(["badge",c.getStatusClass(e.status)])},(0,o.v_)(c.getStatusText(e.status)),3)]),(0,l.Lk)("div",mm,[(0,l.Lk)("div",um,[e.avatar?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.avatar,alt:e.name,class:"rounded-circle",width:"80",height:"80"},null,8,km)):((0,l.uX)(),(0,l.CE)("div",bm,s[73]||(s[73]=[(0,l.Lk)("i",{class:"bi bi-person fa-2x"},null,-1)])))]),(0,l.Lk)("h6",pm,(0,o.v_)(e.name),1),(0,l.Lk)("p",hm,(0,o.v_)(e.username),1),(0,l.Lk)("p",Lm,(0,o.v_)(e.email),1),(0,l.Lk)("div",gm,[(0,l.Lk)("div",vm,[(0,l.Lk)("div",fm,(0,o.v_)(e.department),1),s[74]||(s[74]=(0,l.Lk)("small",{class:"text-muted"},"部门",-1))])]),(0,l.Lk)("div",ym,[(0,l.Lk)("small",wm,[s[75]||(s[75]=(0,l.Lk)("i",{class:"bi bi-clock me-1"},null,-1)),(0,l.eW)((0,o.v_)(c.formatDate(e.lastLogin)),1)])])]),(0,l.Lk)("div",Cm,[(0,l.Lk)("div",xm,[(0,l.Lk)("button",{class:"btn btn-outline-primary btn-sm",onClick:s=>c.viewUser(e)},s[76]||(s[76]=[(0,l.Lk)("i",{class:"bi bi-eye me-1"},null,-1),(0,l.eW)("详情 ")]),8,Fm),(0,l.Lk)("button",{class:"btn btn-outline-success btn-sm",onClick:s=>c.editUser(e)},s[77]||(s[77]=[(0,l.Lk)("i",{class:"bi bi-pencil me-1"},null,-1),(0,l.eW)("编辑 ")]),8,Tm),(0,l.Lk)("button",{class:(0,o.C4)(["btn btn-sm","active"===e.status?"btn-outline-warning":"btn-outline-success"]),onClick:s=>c.toggleUserStatus(e)},[(0,l.Lk)("i",{class:(0,o.C4)("active"===e.status?"bi bi-person-x":"bi bi-person-check")},null,2)],10,Pm)])])])]))),128)),0===c.filteredUsers.length?((0,l.uX)(),(0,l.CE)("div",_m,s[78]||(s[78]=[(0,l.Fv)('<div class="text-center py-5" data-v-2d7273af><div class="empty-state" data-v-2d7273af><i class="bi bi-people fa-3x mb-3 text-secondary opacity-50" data-v-2d7273af></i><h5 class="text-secondary" data-v-2d7273af>暂无用户记录</h5><p class="text-muted" data-v-2d7273af>点击&quot;新建用户&quot;按钮创建第一个用户</p></div></div>',1)]))):(0,l.Q3)("",!0)]))]),c.filteredUsers.length>0?((0,l.uX)(),(0,l.CE)("div",Sm,[(0,l.Lk)("div",Em,[(0,l.Lk)("div",Um," 显示 "+(0,o.v_)((r.currentPage-1)*r.pageSize+1)+" - "+(0,o.v_)(Math.min(r.currentPage*r.pageSize,c.filteredUsers.length))+" 条，共 "+(0,o.v_)(c.filteredUsers.length)+" 条记录 ",1),(0,l.Lk)("nav",null,[(0,l.Lk)("ul",Mm,[(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[13]||(s[13]=e=>r.currentPage=1),disabled:1===r.currentPage},s[79]||(s[79]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-left"},null,-1)]),8,Wm)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:1===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[14]||(s[14]=e=>r.currentPage--),disabled:1===r.currentPage},s[80]||(s[80]=[(0,l.Lk)("i",{class:"bi bi-chevron-left"},null,-1)]),8,Am)],2),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.visiblePages,e=>((0,l.uX)(),(0,l.CE)("li",{key:e,class:(0,o.C4)(["page-item",{active:e===r.currentPage}])},[(0,l.Lk)("button",{class:"page-link",onClick:s=>r.currentPage=e},(0,o.v_)(e),9,Xm)],2))),128)),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[15]||(s[15]=e=>r.currentPage++),disabled:r.currentPage===c.totalPages},s[81]||(s[81]=[(0,l.Lk)("i",{class:"bi bi-chevron-right"},null,-1)]),8,Rm)],2),(0,l.Lk)("li",{class:(0,o.C4)(["page-item",{disabled:r.currentPage===c.totalPages}])},[(0,l.Lk)("button",{class:"page-link",onClick:s[16]||(s[16]=e=>r.currentPage=c.totalPages),disabled:r.currentPage===c.totalPages},s[82]||(s[82]=[(0,l.Lk)("i",{class:"bi bi-chevron-double-right"},null,-1)]),8,Im)],2)])])])])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",{class:(0,o.C4)(["modal fade",{show:r.showCreateUserModal}]),style:(0,o.Tr)({display:r.showCreateUserModal?"block":"none"}),tabindex:"-1"},[(0,l.Lk)("div",Dm,[(0,l.Lk)("div",Vm,[(0,l.Lk)("div",Nm,[s[83]||(s[83]=(0,l.Lk)("h5",{class:"modal-title"},[(0,l.Lk)("i",{class:"bi bi-person-plus me-2"}),(0,l.eW)("新建用户 ")],-1)),(0,l.Lk)("button",{type:"button",class:"btn-close",onClick:s[17]||(s[17]=e=>r.showCreateUserModal=!1)})]),(0,l.Lk)("div",zm,[(0,l.Lk)("form",{onSubmit:s[28]||(s[28]=(0,a.D$)((...e)=>c.createUser&&c.createUser(...e),["prevent"]))},[(0,l.Lk)("div",qm,[(0,l.Lk)("div",jm,[s[84]||(s[84]=(0,l.Lk)("label",{class:"form-label"},"用户名",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[18]||(s[18]=e=>r.userForm.username=e),required:""},null,512),[[a.Jo,r.userForm.username]])]),(0,l.Lk)("div",$m,[s[85]||(s[85]=(0,l.Lk)("label",{class:"form-label"},"姓名",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":s[19]||(s[19]=e=>r.userForm.name=e),required:""},null,512),[[a.Jo,r.userForm.name]])]),(0,l.Lk)("div",Om,[s[86]||(s[86]=(0,l.Lk)("label",{class:"form-label"},"邮箱",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",class:"form-control","onUpdate:modelValue":s[20]||(s[20]=e=>r.userForm.email=e),required:""},null,512),[[a.Jo,r.userForm.email]])]),(0,l.Lk)("div",Jm,[s[87]||(s[87]=(0,l.Lk)("label",{class:"form-label"},"手机号",-1)),(0,l.bo)((0,l.Lk)("input",{type:"tel",class:"form-control","onUpdate:modelValue":s[21]||(s[21]=e=>r.userForm.phone=e)},null,512),[[a.Jo,r.userForm.phone]])]),(0,l.Lk)("div",Qm,[s[88]||(s[88]=(0,l.Lk)("label",{class:"form-label"},"密码",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":s[22]||(s[22]=e=>r.userForm.password=e),required:""},null,512),[[a.Jo,r.userForm.password]])]),(0,l.Lk)("div",Hm,[s[89]||(s[89]=(0,l.Lk)("label",{class:"form-label"},"确认密码",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":s[23]||(s[23]=e=>r.userForm.confirmPassword=e),required:""},null,512),[[a.Jo,r.userForm.confirmPassword]])]),(0,l.Lk)("div",Km,[s[91]||(s[91]=(0,l.Lk)("label",{class:"form-label"},"角色",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[24]||(s[24]=e=>r.userForm.role=e),required:""},s[90]||(s[90]=[(0,l.Fv)('<option value="" data-v-2d7273af>请选择角色</option><option value="admin" data-v-2d7273af>管理员</option><option value="officer" data-v-2d7273af>警官</option><option value="clerk" data-v-2d7273af>文员</option><option value="viewer" data-v-2d7273af>查看者</option>',5)]),512),[[a.u1,r.userForm.role]])]),(0,l.Lk)("div",Bm,[s[93]||(s[93]=(0,l.Lk)("label",{class:"form-label"},"部门",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select","onUpdate:modelValue":s[25]||(s[25]=e=>r.userForm.department=e),required:""},s[92]||(s[92]=[(0,l.Fv)('<option value="" data-v-2d7273af>请选择部门</option><option value="刑侦科" data-v-2d7273af>刑侦科</option><option value="交警队" data-v-2d7273af>交警队</option><option value="治安科" data-v-2d7273af>治安科</option><option value="技术科" data-v-2d7273af>技术科</option>',5)]),512),[[a.u1,r.userForm.department]])]),(0,l.Lk)("div",Gm,[s[94]||(s[94]=(0,l.Lk)("label",{class:"form-label"},"备注",-1)),(0,l.bo)((0,l.Lk)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":s[26]||(s[26]=e=>r.userForm.remarks=e)},null,512),[[a.Jo,r.userForm.remarks]])]),(0,l.Lk)("div",Zm,[(0,l.Lk)("div",Ym,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[27]||(s[27]=e=>r.userForm.sendWelcomeEmail=e),id:"sendWelcomeEmail"},null,512),[[a.lH,r.userForm.sendWelcomeEmail]]),s[95]||(s[95]=(0,l.Lk)("label",{class:"form-check-label",for:"sendWelcomeEmail"}," 发送欢迎邮件 ",-1))])])])],32)]),(0,l.Lk)("div",eu,[(0,l.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:s[29]||(s[29]=e=>r.showCreateUserModal=!1)},"取消"),(0,l.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[30]||(s[30]=(...e)=>c.createUser&&c.createUser(...e))},s[96]||(s[96]=[(0,l.Lk)("i",{class:"bi bi-check-circle me-2"},null,-1),(0,l.eW)("保存 ")]))])])])],6),r.showCreateUserModal||r.showImportModal?((0,l.uX)(),(0,l.CE)("div",su)):(0,l.Q3)("",!0)])}t(3579);var au={name:"AdminManagement",data(){return{viewMode:"table",currentPage:1,pageSize:10,showCreateUserModal:!1,showImportModal:!1,selectedUsers:[],searchForm:{keyword:"",role:"",status:"",department:"",dateFrom:""},userForm:{username:"",name:"",email:"",phone:"",password:"",confirmPassword:"",role:"",department:"",remarks:"",sendWelcomeEmail:!0},stats:{totalUsers:15,activeUsers:12,inactiveUsers:3,todayLogins:8},users:[{id:1,username:"admin",name:"系统管理员",email:"admin@police.gov.cn",phone:"13800138000",role:"admin",department:"技术科",status:"active",avatar:null,lastLogin:"2024-01-21 09:30:00",createdAt:"2024-01-01 10:00:00",remarks:"系统超级管理员"},{id:2,username:"li_officer",name:"李警官",email:"li@police.gov.cn",phone:"13800138001",role:"officer",department:"刑侦科",status:"active",avatar:null,lastLogin:"2024-01-21 08:45:00",createdAt:"2024-01-05 14:20:00",remarks:"刑侦科资深警官"},{id:3,username:"zhang_officer",name:"张警官",email:"zhang@police.gov.cn",phone:"13800138002",role:"officer",department:"交警队",status:"active",avatar:null,lastLogin:"2024-01-20 16:30:00",createdAt:"2024-01-08 11:15:00",remarks:"交警队队长"},{id:4,username:"wang_officer",name:"王警官",email:"wang@police.gov.cn",phone:"13800138003",role:"officer",department:"治安科",status:"active",avatar:null,lastLogin:"2024-01-21 07:20:00",createdAt:"2024-01-10 09:30:00",remarks:"治安科副科长"},{id:5,username:"clerk01",name:"文员小刘",email:"clerk01@police.gov.cn",phone:"13800138004",role:"clerk",department:"刑侦科",status:"inactive",avatar:null,lastLogin:"2024-01-18 17:00:00",createdAt:"2024-01-12 13:45:00",remarks:"负责文档整理"}]}},computed:{filteredUsers(){let e=this.users;if(this.searchForm.keyword){const s=this.searchForm.keyword.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.username.toLowerCase().includes(s)||e.email.toLowerCase().includes(s))}return this.searchForm.role&&(e=e.filter(e=>e.role===this.searchForm.role)),this.searchForm.status&&(e=e.filter(e=>e.status===this.searchForm.status)),this.searchForm.department&&(e=e.filter(e=>e.department===this.searchForm.department)),this.searchForm.dateFrom&&(e=e.filter(e=>e.createdAt>=this.searchForm.dateFrom)),e},totalPages(){return Math.ceil(this.filteredUsers.length/this.pageSize)},paginatedUsers(){const e=(this.currentPage-1)*this.pageSize,s=e+this.pageSize;return this.filteredUsers.slice(e,s)},visiblePages(){const e=[],s=this.totalPages,t=this.currentPage;if(s<=7)for(let a=1;a<=s;a++)e.push(a);else if(t<=4){for(let s=1;s<=5;s++)e.push(s);e.push("..."),e.push(s)}else if(t>=s-3){e.push(1),e.push("...");for(let t=s-4;t<=s;t++)e.push(t)}else{e.push(1),e.push("...");for(let s=t-1;s<=t+1;s++)e.push(s);e.push("..."),e.push(s)}return e}},methods:{searchUsers(){this.currentPage=1,console.log("搜索用户:",this.searchForm)},createUser(){if(!this.userForm.username||!this.userForm.name||!this.userForm.email||!this.userForm.password)return void alert("请填写完整信息");if(this.userForm.password!==this.userForm.confirmPassword)return void alert("两次输入的密码不一致");if(this.users.some(e=>e.username===this.userForm.username))return void alert("用户名已存在");if(this.users.some(e=>e.email===this.userForm.email))return void alert("邮箱已存在");const e={id:Date.now(),username:this.userForm.username,name:this.userForm.name,email:this.userForm.email,phone:this.userForm.phone,role:this.userForm.role,department:this.userForm.department,status:"active",avatar:null,lastLogin:null,createdAt:(new Date).toISOString().slice(0,19).replace("T"," "),remarks:this.userForm.remarks};this.users.unshift(e),this.showCreateUserModal=!1,this.resetUserForm(),this.updateStats(),this.userForm.sendWelcomeEmail&&console.log("发送欢迎邮件给:",e.email)},viewUser(e){console.log("查看用户详情:",e)},editUser(e){console.log("编辑用户:",e)},toggleUserStatus(e){const s="active"===e.status?"禁用":"启用";confirm(`确定要${s}用户 ${e.name} 吗？`)&&(e.status="active"===e.status?"inactive":"active",this.updateStats())},resetPassword(e){confirm(`确定要重置用户 ${e.name} 的密码吗？`)&&(console.log("重置密码:",e),alert("密码重置成功，新密码已发送到用户邮箱"))},deleteUser(e){const s=this.users.find(s=>s.id===e);if(s&&confirm(`确定要删除用户 ${s.name} 吗？删除后将无法恢复！`)){const s=this.users.findIndex(s=>s.id===e);s>-1&&(this.users.splice(s,1),this.updateStats())}},toggleSelectAll(e){e.target.checked?this.selectedUsers=this.paginatedUsers.map(e=>e.id):this.selectedUsers=[]},exportUsers(){console.log("导出用户数据"),alert("用户数据导出功能开发中")},resetUserForm(){this.userForm={username:"",name:"",email:"",phone:"",password:"",confirmPassword:"",role:"",department:"",remarks:"",sendWelcomeEmail:!0}},updateStats(){this.stats.totalUsers=this.users.length,this.stats.activeUsers=this.users.filter(e=>"active"===e.status).length,this.stats.inactiveUsers=this.users.filter(e=>"inactive"===e.status).length;const e=(new Date).toISOString().split("T")[0];this.stats.todayLogins=this.users.filter(s=>s.lastLogin&&s.lastLogin.startsWith(e)).length},getRoleClass(e){const s={admin:"bg-danger",officer:"bg-primary",clerk:"bg-success",viewer:"bg-info"};return s[e]||"bg-secondary"},getRoleText(e){const s={admin:"管理员",officer:"警官",clerk:"文员",viewer:"查看者"};return s[e]||"未知"},getStatusClass(e){const s={active:"bg-success",inactive:"bg-warning",pending:"bg-secondary"};return s[e]||"bg-secondary"},getStatusText(e){const s={active:"活跃",inactive:"禁用",pending:"待激活"};return s[e]||"未知"},formatDate(e){return e?new Date(e).toLocaleString("zh-CN"):"从未登录"}},mounted(){console.log("管理员账户页面已加载"),this.updateStats()}};const lu=(0,P.A)(au,[["render",tu],["__scopeId","data-v-2d7273af"]]);var ou=lu;const iu=[{path:"/",name:"Home",component:Le},{path:"/login",name:"Login",component:We},{path:"/task",name:"TaskList",component:it},{path:"/search",name:"Search",component:Za},{path:"/cases",name:"CaseManagement",component:si},{path:"/templates",name:"TemplateManagement",component:Pr},{path:"/package",name:"PackageManagement",component:Gn},{path:"/admin",name:"AdminManagement",component:ou}],ru=(0,E.aE)({history:(0,E.LA)(),routes:iu});var cu=ru;const nu=(0,a.Ef)(S);nu.use(cu),nu.mount("#app")}},s={};function t(a){var l=s[a];if(void 0!==l)return l.exports;var o=s[a]={exports:{}};return e[a].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,a,l,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],o=e[d][2];for(var r=!0,c=0;c<a.length;c++)(!1&o||i>=o)&&Object.keys(t.O).every(function(e){return t.O[e](a[c])})?a.splice(c--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var n=l();void 0!==n&&(s=n)}}return s}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,l,o]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var l,o,i=a[0],r=a[1],c=a[2],n=0;if(i.some(function(s){return 0!==e[s]})){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(c)var d=c(t)}for(s&&s(a);n<i.length;n++)o=i[n],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},a=self["webpackChunkbilu_backend2"]=self["webpackChunkbilu_backend2"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],function(){return t(4909)});a=t.O(a)})();
//# sourceMappingURL=app.618f4c33.js.map